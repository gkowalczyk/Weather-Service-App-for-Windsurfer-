import{i as Q,e as qi,s as v_,x as zl,r as ht,T as ie,t as mo,a as y_,b as mm,c as bm,A as Pn,d as wm,f as xm,g as Em,B as Tm,h as Cm,j as Om,k as Mm,_ as Pm}from"./indexhtml-dcdf5f59.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const g_=r=>e=>typeof e=="function"?((t,n)=>(customElements.define(t,n),n))(r,e):((t,n)=>{const{kind:i,elements:o}=n;return{kind:i,elements:o,finisher(a){customElements.define(t,a)}}})(r,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Sm=({finisher:r,descriptor:e})=>(t,n)=>{var i;if(n===void 0){const o=(i=t.originalKey)!==null&&i!==void 0?i:t.key,a=e!=null?{kind:"method",placement:"prototype",key:o,descriptor:e(t.key)}:{...t,key:o};return r!=null&&(a.finisher=function(s){r(s,o)}),a}{const o=t.constructor;e!==void 0&&Object.defineProperty(t,n,e(n)),r==null||r(o,n)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function m_(r,e){return Sm({descriptor:t=>{const n={get(){var i,o;return(o=(i=this.renderRoot)===null||i===void 0?void 0:i.querySelector(r))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(e){const i=typeof t=="symbol"?Symbol():"__"+t;n.get=function(){var o,a;return this[i]===void 0&&(this[i]=(a=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(r))!==null&&a!==void 0?a:null),this[i]}}return n}})}const ll=Q`html{background-image:url(https://www.stuartsurf.com.au/wp-content/uploads/X-F-Rap-slider-Jul2020.jpg);background-repeat:no-repeat;background-position:bottom center;height:103%;margin-top:20px;margin-right:75px;margin-left:75px}
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Im=Q`
  :host {
    --lumo-size-xs: 1.625rem;
    --lumo-size-s: 1.875rem;
    --lumo-size-m: 2.25rem;
    --lumo-size-l: 2.75rem;
    --lumo-size-xl: 3.5rem;

    /* Icons */
    --lumo-icon-size-s: 1.25em;
    --lumo-icon-size-m: 1.5em;
    --lumo-icon-size-l: 2.25em;
    /* For backwards compatibility */
    --lumo-icon-size: var(--lumo-icon-size-m);
  }
`,b_=document.createElement("template");b_.innerHTML=`<style>${Im.toString().replace(":host","html")}</style>`;document.head.appendChild(b_.content);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const w_=document.createElement("template");w_.innerHTML=`
  <style>
    @font-face {
      font-family: 'lumo-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEgAAsAAAAAIjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2cAABeAWri7U2hlYWQAAA3oAAAAMAAAADZa/6SsaGhlYQAADhgAAAAdAAAAJAbpA35obXR4AAAOOAAAABAAAACspBAAAGxvY2EAAA5IAAAAWAAAAFh57oA4bWF4cAAADqAAAAAfAAAAIAFKAXBuYW1lAAAOwAAAATEAAAIuUUJZCHBvc3QAAA/0AAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wic1Z9N0jpNHCD9SNqqoVBgbQoMjY+pjA4hNnWa2pV1rHSIif0DGkyT2k10Kmu1Cag6huj4ZpqYBHSqJsTEJgZCG3TaVBFv595nO3ZIv4RIrPPuvefe884599zzO/cRF8G/tgn6CFFImNgkR0ggX8wlspbhSSWSdrC5ozd30s2dw5afzvgtyz9/zG9t1hV4RtF1pXolowvtzc2z6L2aYUQM45jKH9WDTvd1LRDoDASYWhfTzTyvboXz6uZX4ARX5wrF39y+HM2+CJ8d0pkyqBIqoze3D12ez4DrFoYzxI8dWwMrDlZ2DMqQAR9AROsJU+2smlTPaTTco52BVxXa2a2+I8vvqd2dVHm1LoPeTn/AZPRYGthDYOeZjBjKoFsVGulR3lGU95SeCK44oHU7MhWUGUKZDT3oSUcG2GWuh+EDDfUYA/jhIhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgJW95qEtpJ1VcW9HiTriZBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKifkqHRCoWZc3m11Wa/dKdFgXD4kSYfkeJBKd8KMz7J8dZn/cGRCcLGDnA2Ge3bKzcvlnTDNthFWLH7Xt80ua5FMjA4WKelWv5Xo16vHuYzpRbJhhdVlftuRK0VlR27D9lu5TF0DPBi60OrHNO0AfP/uRWvhn/U3LXICE+nh+3IHPUJ8JE6GyBjZQLbjGchlrSgYngF8zyrIF4NJD3atUcgWsWunGN/UHX5B5/yg7uF87Nqp4Gf52F3gH73DjEZNRoqCKAr9giQJp5rGJABpiVE2htNhW9R8nw0jqYjCYcY4LIjwYNScf4WN06IZnZCEqsI4cFaQbo4Z1TsZBx40YhXkHOecaYE5oY37IIQ+iJJ+UsDYSun5MuRSBRZRUUhlY2DqOGajOR6zrSU/5My6l2DnusH1GQgnw5BZP7iuYM/ahcfQ7Z8y51ddfutvuwNqWQ0cBYr8fj0U0vsHpwerVaB2sWhXT2NExi2r1KUE2tUuVMnkepVQrxTmpQrZTG4iu8he8iPyM3KcPE/+RP5KPoE2CEAKclCBzXATxkYOtUY/o961PWRqsj0chRrHFBbtrjP9/P0ven5pcbRdpL94vfsy33e5+izuwz3nFLFPVNayPZx/jdG1fOChflFRvYzsW6L18efgLrSWIgvcqnGJYi4skO4xREURjbDuxKke5v0T3Mrzkt2fi31uyZlLLrqIpEuXXsMlgw442Jb0GAxjS1DM20kBoCzHLXm/jEm0IltdcvU0fEW24jgiwwRjVd9u4NJHcIyoHJcwvyVqgqj5hqBJ1ZWSJryh9p56UWhX1XbhRbW2ZopuZWsQd5y8mEQ8M+C6xjRYxZbDKWf5AgY+Qq/l6wSPk16zDFjowYuu+wjx13mfkxbyDDxadYT/LijZyI0THB+6yfLaWsRcO82zo9mWTNtpO18qlorZoIVMwSN40tky5DOQ1MCIAe24mvlsuwIIxPb10+uXDQ4uWz/9m3rj+ql7p6bufZARuPVq5tXtsn6KwfP8Jy0TeWOyNhUJN6mhX5rkUTtUppQWEMNTqEdaCGKFYKJaQrCE4JtDLYOlNEKmO5kBTPGY2A0N2sY3+dVlo1N9ycBsIGtOjQ2p/tlZvzo0ur4v6cOh8NTospB7U/X40KahoU3bGIH97dnwmtHlYffVG3R1YOwKM2vNhrPhCT5zk64sG53oS4b31aYjqe/B7+kQiXBN+b6h21hNUPMq29B8CU4elINdygMPKF1B+WBTG7Z9ZshpN/xwEuuDQZR+nuoo4CDaAiiwXmLpmukMQyPf/JMclqgL1ixZQ/nnP2VbdUODFGt2fgBvL123rlLYu/6A9ckb7F3K0/CyBMEu6aQoPscroCcacVehvyQyCZAsizsWWBkoLC+WAiWnOksLKaeuQDzGuqSk42aiYTiJ4zf9afl17SrqaTO1f+XlZAfIuYcq7/IqYMaMrksOJ6vHkOCPDq943xcCnHqVD9pHFRpMqSPXrIua1WNs+tOz1U+ciTCDpPk+c4QYJIHnYhxP/kVPAq+ahFpVhPcHp8qyarhiF+HsBU9Hrl+UZa876fbKipL0KqB6OdUveErgtOI97fZ63ae9SvWU6k2w1JfwqnUbHsYcFCJFrC/W12zIMMirWYEHxMPs6LGYSdkSZ5TsNP9PCpwnWC3HKZ1lydNjWHC2Mn3l6vL0dHn1ldP3LTSrX+vKrBqv7KmMr8p0SR6P1NqF63or6XRlIyO90f7+kf7+myOhvt4tq7f09oUiTc2/dycGgqFQcCDRLYmi1NL7fk0CknVMxEg/cdfs/TnpJMNkgqwj17B8beVazSrVbU4lG67IZYOCnWrYy3yBR9cyWcChywos3LJBEdhhFoAdYjiw0rLGm0xU5OzoGm5/ZfmHjVZpNNg6SznzGKDdwv2cCtVn6Eaxo12cfxLprpVtTcZ6hVx6dow7Yq7e8LXO8PY9Jgjoze9yCtU5FNbegcKkQMdCbt9au/te4Ebe0jkc0ukUL32eYnTpNs20h0KpUOhZPYwVcfhZnfdqeCvDfXiuCbAoYWcXERPc/mDQD3/hdF+wK4i/xv3kYfprIpAuMkk2kW3kdtS0kBIKpZwp8KxmsCyfM1MFzAss9LBkDxRyThiaqTLwKYKJVTwmWTudMyz+yks09346MDh4m72yOxCKrt1XMlQ1qPVlTEVVQ1ofdK/sCWjtZu9qGwZ8YZ9PPWlo1IV3eW3+U0aXblP39zrt+JPf6UhEQ1rUjNBULN+utyuaDNW34kpAVuSOeMTyWbSNWnooFu+QFNWQ4d/Ox4IPWx41fP/fB/Rjeoz08ezPA9TysMtmnOXfGN7Ui3xIYLDALrlDLOP09qtJuY2OeL0+QZXdRnR1nxRVBF/SOyKKPpcrn9mWzH4rH9IidE+PTNU2182+hOgSItrE1slByS24vaLvJpxOqe4Pduf3HJkZ+jLqUz9rRzB7p8gKcgWZwV1L8JtUS5Z2JxZSOCuBoMTQihMzLbCPA0KqGMAljRQjONklW/wjnXKy8vxT/Elvm3/KiMUMOoV0/vnDYlhec0SMKtt3/kKMyOt33tj2bqxQLsTjSGLl+EAsNhCnTyRGktW55EgCn/A4PlnWn+Mg8bgZrWqHxTbPwMuyy1u5YeZF2SUM7JRhddwRgiRuxpmgJmxn9ZW7XpcF3ViX/ar6ptRpGJ0S9Adg4qhb9sI3vbL7qNJV/y4i07t5TZBiho1imFoMz3gED+CtjYUxvP4SOxov4bFoNPg5aR1e+G4UgDPoedJTpogyCJ7oYvRqoVS0MQAy+CoNEdTDUjok5ZHZL/WtjV7rFj3PKQE3iKp7ou+rIxN3b9LB1dGjeT4cvKo3FrnWpYpuaFd/h3dtV8UeKN1Y9hpR3dt4p0H/zKuPQq0kZQUIIpuDfoiETsnIk+gCWMJZUXHtE8V9LkUc2TE8vOMbO4ax/MACabzyaGXc7u3FBr11ThBdB8SIeMAlCntG2KThHSPsaj2Dc9KNyY2a0KZ7ODaTHoRiFkeYz+shZBpCS4X6471KKKnuHd84edfk5F37d1XO5bbkcltu2ZLNbvnPXiUVAnVvprJrP+NObryjxrllS65md6Tm6wzFHRR4dY3QUUjb7MgxaIixU8hspi98fl/Xc+IB4iU66eCVL9YfAfahiSUt4TONS8x0D8W7u8vd3fGWx6OXlM/U1IoU/s61PGhpyXRFa3eReq2qG56lvmYtXavCC1iN7lbiBpWxXHU+cSlztVLVz0tVN600fVsLxaVDknhYioeoXP3t4lqV1r79MAw0GCI1FTL1YIGzPL1MMlJ9ZsN9P7lvA2yr9ZFUzwzPrVgxN/x/SS+chwB4nGNgZGBgAOLPrYdY4vltvjJwM78AijDUqG5oRND/XzNPZboF5HIwMIFEAU/lC+J4nGNgZGBgDvqfBSRfMAAB81QGRgZUoA0AVvYDbwAAAHicY2BgYGB+MTQwAM8EJo8AAAAAAE4AmgDoAQoBLAFOAXABmgHEAe4CGgKcAugEmgS8BNYE8gUOBSoFegXQBf4GRAZmBrYHGAeQCBgIUghqCP4JRgm+CdoKBAo+CoQKugr0C1QLmgvAeJxjYGRgYNBmTGEQZQABJiDmAkIGhv9gPgMAGJQBvAB4nG2RPU7DMBiG3/QP0UoIBGJh8QILavozdmRo9w7d09RpUzlx5LgVvQMn4BAcgoEzcAgOwVvzSZVQbcnf48fvFysJgGt8IcJxROiG9TgauODuj5ukG+EW+UG4jR4ehTv0Q+EunjER7uEWmk+IWpc0d3gVbuAKb8JN+nfhFvlDuI17fAp36L+Fu1jgR7iHp+jF7Arbz1Nb1nO93pnEncSJFtrVuS3VKB6e5EyX2iVer9TyoOr9eux9pjJnCzW1pdfGWFU5u9WpjzfeV5PBIBMfp7aAwQ4FLPrIkbKWqDHn+67pDRK4s4lzbsEux5qHvcIIMb/nueSMyTKkE3jWFdNLHLjW2PPmMa1Hxn3GjGW/wjT0HtOG09JU4WxLk9LH2ISuiv9twJn9y8fh9uIXI+BknAAAAHicbY7ZboMwEEW5CVBCSLrv+76kfJRjTwHFsdGAG+Xvy5JUfehIHp0rnxmNN/D6ir3/a4YBhvARIMQOIowQY4wEE0yxiz3s4wCHOMIxTnCKM5zjApe4wjVucIs73OMBj3jCM17wije84wMzfHqJ0EVmUkmmJo77oOmrHvfIRZbXsTCZplTZldlgb3TYGVHProwFs11t1A57tcON2rErR3PBqcwF1/6ctI6k0GSU4JHMSS6WghdJQ99sTbfuN7QLJ9vQ37dNrgyktnIxlDYLJNuqitpRbYWKFNuyDT6pog6oOYKHtKakeakqKjHXpPwlGRcsC+OqxLIiJpXqoqqDMreG2l5bv9Ri3TRX+c23DZna9WFFgmXuO6Ps1Jm/w6ErW8N3FbHn/QC444j0AA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }

    html {
      --lumo-icons-align-center: "\\ea01";
      --lumo-icons-align-left: "\\ea02";
      --lumo-icons-align-right: "\\ea03";
      --lumo-icons-angle-down: "\\ea04";
      --lumo-icons-angle-left: "\\ea05";
      --lumo-icons-angle-right: "\\ea06";
      --lumo-icons-angle-up: "\\ea07";
      --lumo-icons-arrow-down: "\\ea08";
      --lumo-icons-arrow-left: "\\ea09";
      --lumo-icons-arrow-right: "\\ea0a";
      --lumo-icons-arrow-up: "\\ea0b";
      --lumo-icons-bar-chart: "\\ea0c";
      --lumo-icons-bell: "\\ea0d";
      --lumo-icons-calendar: "\\ea0e";
      --lumo-icons-checkmark: "\\ea0f";
      --lumo-icons-chevron-down: "\\ea10";
      --lumo-icons-chevron-left: "\\ea11";
      --lumo-icons-chevron-right: "\\ea12";
      --lumo-icons-chevron-up: "\\ea13";
      --lumo-icons-clock: "\\ea14";
      --lumo-icons-cog: "\\ea15";
      --lumo-icons-cross: "\\ea16";
      --lumo-icons-download: "\\ea17";
      --lumo-icons-dropdown: "\\ea18";
      --lumo-icons-edit: "\\ea19";
      --lumo-icons-error: "\\ea1a";
      --lumo-icons-eye: "\\ea1b";
      --lumo-icons-eye-disabled: "\\ea1c";
      --lumo-icons-menu: "\\ea1d";
      --lumo-icons-minus: "\\ea1e";
      --lumo-icons-ordered-list: "\\ea1f";
      --lumo-icons-phone: "\\ea20";
      --lumo-icons-photo: "\\ea21";
      --lumo-icons-play: "\\ea22";
      --lumo-icons-plus: "\\ea23";
      --lumo-icons-redo: "\\ea24";
      --lumo-icons-reload: "\\ea25";
      --lumo-icons-search: "\\ea26";
      --lumo-icons-undo: "\\ea27";
      --lumo-icons-unordered-list: "\\ea28";
      --lumo-icons-upload: "\\ea29";
      --lumo-icons-user: "\\ea2a";
    }
  </style>
`;document.head.appendChild(w_.content);var Rm=Object.defineProperty,Am=Object.getOwnPropertyDescriptor,Lh=(r,e,t,n)=>{for(var i=n>1?void 0:n?Am(e,t):e,o=r.length-1,a;o>=0;o--)(a=r[o])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&Rm(e,t,i),i};let Dm=0,Pi=class extends v_{constructor(){super(...arguments),this.collapsible=!1,this.collapsed=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","navigation")}render(){const r=this.querySelector('[slot="label"]');return r&&this.collapsible?zl`
        <details ?open="${!this.collapsed}" @toggle="${this.toggleCollapsed}">${this.renderBody(r)}</details>
      `:this.renderBody(r)}renderBody(r){return r?(r.id||(r.id="app-nav-label-"+Dm++),this.setAttribute("aria-labelledby",r.id)):this.removeAttribute("aria-labelledby"),zl`
      <summary part="label" ?hidden="${r==null}">
        <slot name="label" @slotchange="${()=>this.requestUpdate()}"></slot>
      </summary>
      <slot role="list"></slot>
    `}toggleCollapsed(r){this.collapsed=!r.target.open}};Pi.styles=Q`
    :host {
      display: block;
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      font-weight: 500;
      line-height: var(--lumo-line-height-xs);
      color: var(--lumo-body-text-color);
      -webkit-tap-highlight-color: transparent;
    }

    [hidden] {
      display: none !important;
    }

    summary {
      cursor: var(--lumo-clickable-cursor, default);
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-radius: var(--lumo-border-radius-m);
    }

    summary ::slotted([slot='label']) {
      display: block;
      font-size: var(--lumo-font-size-s);
      color: var(--lumo-secondary-text-color);
      margin: var(--lumo-space-s);
      border-radius: inherit;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary::marker {
      content: '';
    }

    summary::after {
      font-family: lumo-icons;
      color: var(--lumo-tertiary-text-color);
      font-size: var(--lumo-icon-size-m);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: var(--lumo-size-s);
      height: var(--lumo-size-s);
      transition: transform 140ms;
      margin: 0 var(--lumo-space-xs);
    }

    :host([collapsible]) summary::after {
      content: var(--lumo-icons-dropdown);
    }

    @media (any-hover: hover) {
      summary:hover::after {
        color: var(--lumo-body-text-color);
      }
    }

    :host([collapsed]) summary::after {
      transform: rotate(-90deg);
    }

    @supports selector(:focus-visible) {
      summary {
        outline: none;
      }

      summary:focus-visible {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }
    }

    slot {
      /* Needed to make role="list" work */
      display: block;
    }
  `;Lh([qi({type:Boolean,reflect:!0})],Pi.prototype,"collapsible",2);Lh([qi({type:Boolean,reflect:!0})],Pi.prototype,"collapsed",2);Pi=Lh([g_("vcf-nav")],Pi);var Lm=Object.defineProperty,Nm=Object.getOwnPropertyDescriptor,zn=(r,e,t,n)=>{for(var i=n>1?void 0:n?Nm(e,t):e,o=r.length-1,a;o>=0;o--)(a=r[o])&&(i=(n?a(e,t,i):a(i))||i);return n&&i&&Lm(e,t,i),i};let _r=class extends v_{constructor(){super(...arguments),this.path="",this.expanded=!1,this.active=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","listitem"),this._updateActive(),this.__boundUpdateActive=this._updateActive.bind(this),window.addEventListener("popstate",this.__boundUpdateActive)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("popstate",this.__boundUpdateActive)}render(){return zl`
      <a href="${this.path}" part="item" aria-current="${this.active?"page":!1}">
        <slot name="prefix"></slot>
        <slot></slot>
        <slot name="suffix"></slot>
        <button
          part="toggle-button"
          @click="${this.toggleExpanded}"
          ?hidden="${!this.querySelector("[slot=children]")}"
          aria-controls="children"
          aria-expanded="${this.expanded}"
          aria-label="Toggle child items"></button>
      </a>
      <slot name="children" role="list" part="children" id="children" ?hidden="${!this.expanded}"></slot>
    `}toggleExpanded(r){r.preventDefault(),r.stopPropagation(),this.expanded=!this.expanded}_updateActive(){const r=document.baseURI!=document.location.href,e=this.path.startsWith("/");if(r&&!e){const t=document.location.pathname,n=new URL(document.baseURI).pathname,i=t.substring(n.length),o=n!==t&&t.startsWith(n)?i:t;this.active=o===this.path}else this.active=document.location.pathname==this.path;this.toggleAttribute("child-active",document.location.pathname.startsWith(this.path)),this.active&&(this.expanded=!0)}};_r.styles=Q`
    :host {
      display: block;
    }

    [hidden] {
      display: none !important;
    }

    a {
      flex: auto;
      min-width: 0;
      display: flex;
      align-items: center;
      gap: var(--lumo-space-xs);
      text-decoration: none;
      color: inherit;
      font: inherit;
      padding: var(--lumo-space-s);
      padding-inline-start: calc(var(--lumo-space-s) + var(--_child-indent, 0px));
      transition: color 140ms;
      border-radius: var(--lumo-border-radius-m);
      transition: background-color 140ms, color 140ms;
      cursor: var(--lumo-clickable-cursor, default);
      min-height: var(--lumo-icon-size-m);
    }

    button {
      -webkit-appearance: none;
      appearance: none;
      border: 0;
      margin: calc((var(--lumo-icon-size-m) - var(--lumo-size-s)) / 2) 0;
      margin-inline-end: calc(var(--lumo-space-xs) * -1);
      padding: 0;
      background: transparent;
      font: inherit;
      color: var(--lumo-tertiary-text-color);
      flex: none;
      width: var(--lumo-size-s);
      height: var(--lumo-size-s);
      cursor: var(--lumo-clickable-cursor, default);
      transition: color 140ms;
    }

    :host(:not([path])) a {
      position: relative;
    }

    :host(:not([path])) button::after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    @media (any-hover: hover) {
      a:hover {
        color: var(--lumo-header-text-color);
      }

      button:hover {
        color: var(--lumo-body-text-color);
      }
    }

    a:active:focus {
      background-color: var(--lumo-contrast-5pct);
    }

    button::before {
      font-family: lumo-icons;
      content: var(--lumo-icons-dropdown);
      font-size: 1.5em;
      line-height: var(--lumo-size-s);
      display: inline-block;
      transform: rotate(-90deg);
      transition: transform 140ms;
    }

    :host([expanded]) button::before {
      transform: none;
    }

    @supports selector(:focus-visible) {
      a,
      button {
        outline: none;
      }

      a:focus-visible,
      button:focus-visible {
        border-radius: var(--lumo-border-radius-m);
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }
    }

    a:active {
      color: var(--lumo-header-text-color);
    }

    slot[name='prefix'],
    slot[name='suffix'] {
      flex: none;
    }

    slot:not([name]) {
      display: block;
      flex: auto;
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      margin: 0 var(--lumo-space-xs);
    }

    slot[name='prefix']::slotted(:is(vaadin-icon, [class*='icon'])) {
      color: var(--lumo-contrast-60pct);
      font-size: var(--lumo-icon-size-s);
      min-width: 1em;
      min-height: 1em;
    }

    :host([active]) slot[name='prefix']::slotted(:is(vaadin-icon, [class*='icon'])) {
      color: inherit;
    }

    slot[name='children'] {
      --_child-indent: calc(var(--_child-indent-2, 0px) + var(--vcf-nav-child-indent, var(--lumo-space-l)));
    }

    slot[name='children']::slotted(*) {
      --_child-indent-2: var(--_child-indent);
    }

    slot[name='children'] {
      /* Needed to make role="list" work */
      display: block;
      width: 100%;
    }

    :host([active]) a {
      color: var(--lumo-primary-text-color);
      background-color: var(--lumo-primary-color-10pct);
    }
  `;zn([qi()],_r.prototype,"path",2);zn([qi({type:Boolean,reflect:!0})],_r.prototype,"expanded",2);zn([qi({type:Boolean,reflect:!0})],_r.prototype,"active",2);zn([m_("button")],_r.prototype,"button",2);zn([m_("#children")],_r.prototype,"childrenSlot",2);_r=zn([g_("vcf-nav-item")],_r);ht("vaadin-app-layout",Q`
    [part='navbar'],
    [part='drawer'] {
      background-color: var(--lumo-base-color);
      background-clip: padding-box;
    }

    [part='navbar'] {
      min-height: var(--lumo-size-xl);
      border-bottom: 1px solid var(--lumo-contrast-10pct);
    }

    [part='navbar'][bottom] {
      border-bottom: none;
      border-top: 1px solid var(--lumo-contrast-10pct);
    }

    [part='drawer'] {
      border-inline-end: 1px solid var(--lumo-contrast-10pct);
    }

    :host([overlay]) [part='drawer'] {
      border-inline-end: none;
      box-shadow: var(--lumo-box-shadow-s);
    }

    :host([primary-section='navbar']) [part='navbar'] {
      border: none;
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    :host([primary-section='drawer']:not([overlay])) [part='drawer'] {
      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
    }

    [part='backdrop'] {
      background-color: var(--lumo-shade-20pct);
      opacity: 1;
    }

    [part] ::slotted(h2),
    [part] ::slotted(h3),
    [part] ::slotted(h4) {
      margin-top: var(--lumo-space-xs) !important;
      margin-bottom: var(--lumo-space-xs) !important;
    }
  `,{moduleId:"lumo-app-layout"});const x_=document.createElement("template");x_.innerHTML=`
  <style>
    /* Use units so that the values can be used in calc() */
    html {
      --safe-area-inset-top: env(safe-area-inset-top, 0px);
      --safe-area-inset-right: env(safe-area-inset-right, 0px);
      --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-inset-left: env(safe-area-inset-left, 0px);
    }
  </style>
`;document.head.appendChild(x_.content);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ns=r=>r.test(navigator.userAgent),Bl=r=>r.test(navigator.platform),km=r=>r.test(navigator.vendor),Q4=Ns(/Android/u),J4=Ns(/Chrome/u)&&km(/Google Inc/u),Fm=Ns(/Firefox/u),$m=Bl(/^iPad/u)||Bl(/^Mac/u)&&navigator.maxTouchPoints>1,zm=Bl(/^iPhone/u),Nh=zm||$m,tN=Ns(/^((?!chrome|android).)*safari/iu),eN=(()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}})();/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function E_(){if(Nh){const r=window.innerHeight,t=window.innerWidth>r,n=document.documentElement.clientHeight;t&&n>r?document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom",`${n-r}px`):document.documentElement.style.setProperty("--vaadin-viewport-offset-bottom","")}}E_();window.addEventListener("resize",E_);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(r,e){return r};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function ei(r,e,t){return{index:r,removed:e,addedCount:t}}const T_=0,C_=1,Gl=2,Ul=3;function Bm(r,e,t,n,i,o){let a=o-i+1,s=t-e+1,l=new Array(a);for(let u=0;u<a;u++)l[u]=new Array(s),l[u][0]=u;for(let u=0;u<s;u++)l[0][u]=u;for(let u=1;u<a;u++)for(let h=1;h<s;h++)if(kh(r[e+h-1],n[i+u-1]))l[u][h]=l[u-1][h-1];else{let c=l[u-1][h]+1,f=l[u][h-1]+1;l[u][h]=c<f?c:f}return l}function Gm(r){let e=r.length-1,t=r[0].length-1,n=r[e][t],i=[];for(;e>0||t>0;){if(e==0){i.push(Gl),t--;continue}if(t==0){i.push(Ul),e--;continue}let o=r[e-1][t-1],a=r[e-1][t],s=r[e][t-1],l;a<s?l=a<o?a:o:l=s<o?s:o,l==o?(o==n?i.push(T_):(i.push(C_),n=o),e--,t--):l==a?(i.push(Ul),e--,n=a):(i.push(Gl),t--,n=s)}return i.reverse(),i}function Um(r,e,t,n,i,o){let a=0,s=0,l,u=Math.min(t-e,o-i);if(e==0&&i==0&&(a=Ym(r,n,u)),t==r.length&&o==n.length&&(s=jm(r,n,u-a)),e+=a,i+=a,t-=s,o-=s,t-e==0&&o-i==0)return[];if(e==t){for(l=ei(e,[],0);i<o;)l.removed.push(n[i++]);return[l]}else if(i==o)return[ei(e,[],t-e)];let h=Gm(Bm(r,e,t,n,i,o));l=void 0;let c=[],f=e,d=i;for(let p=0;p<h.length;p++)switch(h[p]){case T_:l&&(c.push(l),l=void 0),f++,d++;break;case C_:l||(l=ei(f,[],0)),l.addedCount++,f++,l.removed.push(n[d]),d++;break;case Gl:l||(l=ei(f,[],0)),l.addedCount++,f++;break;case Ul:l||(l=ei(f,[],0)),l.removed.push(n[d]),d++;break}return l&&c.push(l),c}function Ym(r,e,t){for(let n=0;n<t;n++)if(!kh(r[n],e[n]))return n;return t}function jm(r,e,t){let n=r.length,i=e.length,o=0;for(;o<t&&kh(r[--n],e[--i]);)o++;return o}function Hm(r,e){return Um(r,0,r.length,e,0,e.length)}function kh(r,e){return r===e}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Wm=0,O_=0,yn=[],Vm=0,Yl=!1,M_=document.createTextNode("");new window.MutationObserver(qm).observe(M_,{characterData:!0});function qm(){Yl=!1;const r=yn.length;for(let e=0;e<r;e++){let t=yn[e];if(t)try{t()}catch(n){setTimeout(()=>{throw n})}}yn.splice(0,r),O_+=r}const Xm={after(r){return{run(e){return window.setTimeout(e,r)},cancel(e){window.clearTimeout(e)}}},run(r,e){return window.setTimeout(r,e)},cancel(r){window.clearTimeout(r)}},rN={run(r){return window.requestAnimationFrame(r)},cancel(r){window.cancelAnimationFrame(r)}},nN={run(r){return window.requestIdleCallback?window.requestIdleCallback(r):window.setTimeout(r,16)},cancel(r){window.cancelIdleCallback?window.cancelIdleCallback(r):window.clearTimeout(r)}},Fh={run(r){return Yl||(Yl=!0,M_.textContent=Vm++),yn.push(r),Wm++},cancel(r){const e=r-O_;if(e>=0){if(!yn[e])throw new Error("invalid async handle: "+r);yn[e]=null}}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const vt=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?r=>ShadyDOM.patch(r):r=>r;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Jr(r){return r.localName==="slot"}let gn=class{static getFlattenedNodes(r){const e=vt(r);return Jr(r)?(r=r,e.assignedNodes({flatten:!0})):Array.from(e.childNodes).map(t=>Jr(t)?(t=t,vt(t).assignedNodes({flatten:!0})):[t]).reduce((t,n)=>t.concat(n),[])}constructor(r,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=r,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){Jr(this._target)?this._listenSlots([this._target]):vt(this._target).children&&(this._listenSlots(vt(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,r=>{this._processMutations(r)}):(this._nativeChildrenObserver=new MutationObserver(r=>{this._processMutations(r)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){Jr(this._target)?this._unlistenSlots([this._target]):vt(this._target).children&&(this._unlistenSlots(vt(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,Fh.run(()=>this.flush()))}_processMutations(r){this._processSlotMutations(r),this.flush()}_processSlotMutations(r){if(r)for(let e=0;e<r.length;e++){let t=r[e];t.addedNodes&&this._listenSlots(t.addedNodes),t.removedNodes&&this._unlistenSlots(t.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let r={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),t=Hm(e,this._effectiveNodes);for(let i=0,o;i<t.length&&(o=t[i]);i++)for(let a=0,s;a<o.removed.length&&(s=o.removed[a]);a++)r.removedNodes.push(s);for(let i=0,o;i<t.length&&(o=t[i]);i++)for(let a=o.index;a<o.index+o.addedCount;a++)r.addedNodes.push(e[a]);this._effectiveNodes=e;let n=!1;return(r.addedNodes.length||r.removedNodes.length)&&(n=!0,this.callback.call(this._target,r)),n}_listenSlots(r){for(let e=0;e<r.length;e++){let t=r[e];Jr(t)&&t.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(r){for(let e=0;e<r.length;e++){let t=r[e];Jr(t)&&t.removeEventListener("slotchange",this._boundSchedule)}}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Pa=!1,P_=[],S_=[];function I_(){Pa=!0,requestAnimationFrame(function(){Pa=!1,Km(P_),setTimeout(function(){Zm(S_)})})}function Km(r){for(;r.length;)R_(r.shift())}function Zm(r){for(let e=0,t=r.length;e<t;e++)R_(r.shift())}function R_(r){const e=r[0],t=r[1],n=r[2];try{t.apply(e,n)}catch(i){setTimeout(()=>{throw i})}}function Qm(r,e,t){Pa||I_(),P_.push([r,e,t])}function ks(r,e,t){Pa||I_(),S_.push([r,e,t])}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Jm=/(url\()([^)]*)(\))/g,t0=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,bo,te;function Ti(r,e){if(r&&t0.test(r)||r==="//")return r;if(bo===void 0){bo=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",bo=t.href==="http://a/c%20d"}catch{}}if(e||(e=document.baseURI||window.location.href),bo)try{return new URL(r,e).href}catch{return r}return te||(te=document.implementation.createHTMLDocument("temp"),te.base=te.createElement("base"),te.head.appendChild(te.base),te.anchor=te.createElement("a"),te.body.appendChild(te.anchor)),te.base.href=e,te.anchor.href=r,te.anchor.href||r}function $h(r,e){return r.replace(Jm,function(t,n,i,o){return n+"'"+Ti(i.replace(/["']/g,""),e)+"'"+o})}function zh(r){return r.substring(0,r.lastIndexOf("/")+1)}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const A_=!window.ShadyDOM||!window.ShadyDOM.inUse;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss);const e0=A_&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const r=new CSSStyleSheet;r.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[r],e.shadowRoot.adoptedStyleSheets[0]===r}catch{return!1}})();let r0=window.Polymer&&window.Polymer.rootPath||zh(document.baseURI||window.location.href),Sa=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;window.Polymer&&window.Polymer.setPassiveTouchGestures;let Ia=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,n0=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,D_=window.Polymer&&window.Polymer.legacyOptimizations||!1,L_=window.Polymer&&window.Polymer.legacyWarnings||!1,i0=window.Polymer&&window.Polymer.syncInitialRender||!1,jl=window.Polymer&&window.Polymer.legacyUndefined||!1,o0=window.Polymer&&window.Polymer.orderedComputed||!1,Yc=window.Polymer&&window.Polymer.removeNestedTemplates||!1,a0=window.Polymer&&window.Polymer.fastDomIf||!1,jc=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1;window.Polymer&&window.Polymer.legacyNoObservedAttributes;let s0=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let l0=0;const Ot=function(r){let e=r.__mixinApplications;e||(e=new WeakMap,r.__mixinApplications=e);let t=l0++;function n(i){let o=i.__mixinSet;if(o&&o[t])return i;let a=e,s=a.get(i);if(!s){s=r(i),a.set(i,s);let l=Object.create(s.__mixinSet||o||null);l[t]=!0,s.__mixinSet=l}return s}return n};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Bh={},N_={};function Hc(r,e){Bh[r]=N_[r.toLowerCase()]=e}function Wc(r){return Bh[r]||N_[r.toLowerCase()]}function u0(r){r.querySelector("style")&&console.warn("dom-module %s has style outside template",r.id)}class Sn extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let n=Wc(e);return n&&t?n.querySelector(t):n}return null}attributeChangedCallback(e,t,n,i){t!==n&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=Ti(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=zh(t)}return this.__assetpath}register(e){if(e=e||this.id,e){if(Ia&&Wc(e)!==void 0)throw Hc(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,Hc(e,this),u0(this)}}}Sn.prototype.modules=Bh;customElements.define("dom-module",Sn);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const h0="link[rel=import][type~=css]",c0="include",Vc="shady-unscoped";function k_(r){return Sn.import(r)}function qc(r){let e=r.body?r.body:r;const t=$h(e.textContent,r.baseURI),n=document.createElement("style");return n.textContent=t,n}function f0(r){const e=r.trim().split(/\s+/),t=[];for(let n=0;n<e.length;n++)t.push(...d0(e[n]));return t}function d0(r){const e=k_(r);if(!e)return console.warn("Could not find style data in module named",r),[];if(e._styles===void 0){const t=[];t.push(...F_(e));const n=e.querySelector("template");n&&t.push(...Gh(n,e.assetpath)),e._styles=t}return e._styles}function Gh(r,e){if(!r._styles){const t=[],n=r.content.querySelectorAll("style");for(let i=0;i<n.length;i++){let o=n[i],a=o.getAttribute(c0);a&&t.push(...f0(a).filter(function(s,l,u){return u.indexOf(s)===l})),e&&(o.textContent=$h(o.textContent,e)),t.push(o)}r._styles=t}return r._styles}function p0(r){let e=k_(r);return e?F_(e):[]}function F_(r){const e=[],t=r.querySelectorAll(h0);for(let n=0;n<t.length;n++){let i=t[n];if(i.import){const o=i.import,a=i.hasAttribute(Vc);if(a&&!o._unscopedStyle){const s=qc(o);s.setAttribute(Vc,""),o._unscopedStyle=s}else o._style||(o._style=qc(o));e.push(a?o._unscopedStyle:o._style)}}return e}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Hl(r){return r.indexOf(".")>=0}function Vr(r){let e=r.indexOf(".");return e===-1?r:r.slice(0,e)}function $_(r,e){return r.indexOf(e+".")===0}function Si(r,e){return e.indexOf(r+".")===0}function Ii(r,e,t){return e+t.slice(r.length)}function _0(r,e){return r===e||$_(r,e)||Si(r,e)}function _i(r){if(Array.isArray(r)){let e=[];for(let t=0;t<r.length;t++){let n=r[t].toString().split(".");for(let i=0;i<n.length;i++)e.push(n[i])}return e.join(".")}else return r}function z_(r){return Array.isArray(r)?_i(r).split("."):r.toString().split(".")}function qt(r,e,t){let n=r,i=z_(e);for(let o=0;o<i.length;o++){if(!n)return;let a=i[o];n=n[a]}return t&&(t.path=i.join(".")),n}function Xc(r,e,t){let n=r,i=z_(e),o=i[i.length-1];if(i.length>1){for(let a=0;a<i.length-1;a++){let s=i[a];if(n=n[s],!n)return}n[o]=t}else n[e]=t;return i.join(".")}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ra={},v0=/-[a-z]/g,y0=/([A-Z])/g;function B_(r){return Ra[r]||(Ra[r]=r.indexOf("-")<0?r:r.replace(v0,e=>e[1].toUpperCase()))}function Fs(r){return Ra[r]||(Ra[r]=r.replace(y0,"-$1").toLowerCase())}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const g0=Fh,G_=Ot(r=>{class e extends r{static createProperties(n){const i=this.prototype;for(let o in n)o in i||i._createPropertyAccessor(o)}static attributeNameForProperty(n){return n.toLowerCase()}static typeForProperty(n){}_createPropertyAccessor(n,i){this._addPropertyToAttributeMap(n),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[n]||(this.__dataHasAccessor[n]=!0,this._definePropertyAccessor(n,i))}_addPropertyToAttributeMap(n){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let i=this.__dataAttributes[n];return i||(i=this.constructor.attributeNameForProperty(n),this.__dataAttributes[i]=n),i}_definePropertyAccessor(n,i){Object.defineProperty(this,n,{get(){return this.__data[n]},set:i?function(){}:function(o){this._setPendingProperty(n,o,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let n in this.__dataHasAccessor)this.hasOwnProperty(n)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[n]=this[n],delete this[n])}_initializeInstanceProperties(n){Object.assign(this,n)}_setProperty(n,i){this._setPendingProperty(n,i)&&this._invalidateProperties()}_getProperty(n){return this.__data[n]}_setPendingProperty(n,i,o){let a=this.__data[n],s=this._shouldPropertyChange(n,i,a);return s&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(n in this.__dataOld)&&(this.__dataOld[n]=a),this.__data[n]=i,this.__dataPending[n]=i),s}_isPropertyPending(n){return!!(this.__dataPending&&this.__dataPending.hasOwnProperty(n))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,g0.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const n=this.__data,i=this.__dataPending,o=this.__dataOld;this._shouldPropertiesChange(n,i,o)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(n,i,o)),this.__dataCounter--}_shouldPropertiesChange(n,i,o){return Boolean(i)}_propertiesChanged(n,i,o){}_shouldPropertyChange(n,i,o){return o!==i&&(o===o||i===i)}attributeChangedCallback(n,i,o,a){i!==o&&this._attributeToProperty(n,o),super.attributeChangedCallback&&super.attributeChangedCallback(n,i,o,a)}_attributeToProperty(n,i,o){if(!this.__serializing){const a=this.__dataAttributes,s=a&&a[n]||n;this[s]=this._deserializeValue(i,o||this.constructor.typeForProperty(s))}}_propertyToAttribute(n,i,o){this.__serializing=!0,o=arguments.length<3?this[n]:o,this._valueToNodeAttribute(this,o,i||this.constructor.attributeNameForProperty(n)),this.__serializing=!1}_valueToNodeAttribute(n,i,o){const a=this._serializeValue(i);(o==="class"||o==="name"||o==="slot")&&(n=vt(n)),a===void 0?n.removeAttribute(o):n.setAttribute(o,a===""&&window.trustedTypes?window.trustedTypes.emptyScript:a)}_serializeValue(n){switch(typeof n){case"boolean":return n?"":void 0;default:return n!=null?n.toString():void 0}}_deserializeValue(n,i){switch(i){case Boolean:return n!==null;case Number:return Number(n);default:return n}}}return e});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const U_={};let wo=HTMLElement.prototype;for(;wo;){let r=Object.getOwnPropertyNames(wo);for(let e=0;e<r.length;e++)U_[r[e]]=!0;wo=Object.getPrototypeOf(wo)}const m0=(()=>window.trustedTypes?r=>trustedTypes.isHTML(r)||trustedTypes.isScript(r)||trustedTypes.isScriptURL(r):()=>!1)();function b0(r,e){if(!U_[e]){let t=r[e];t!==void 0&&(r.__data?r._setPendingProperty(e,t):(r.__dataProto?r.hasOwnProperty(JSCompiler_renameProperty("__dataProto",r))||(r.__dataProto=Object.create(r.__dataProto)):r.__dataProto={},r.__dataProto[e]=t))}}const w0=Ot(r=>{const e=G_(r);class t extends e{static createPropertiesForAttributes(){let i=this.observedAttributes;for(let o=0;o<i.length;o++)this.prototype._createPropertyAccessor(B_(i[o]))}static attributeNameForProperty(i){return Fs(i)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(i){for(let o in i)this._setProperty(o,i[o])}_ensureAttribute(i,o){const a=this;a.hasAttribute(i)||this._valueToNodeAttribute(a,o,i)}_serializeValue(i){switch(typeof i){case"object":if(i instanceof Date)return i.toString();if(i){if(m0(i))return i;try{return JSON.stringify(i)}catch{return""}}default:return super._serializeValue(i)}}_deserializeValue(i,o){let a;switch(o){case Object:try{a=JSON.parse(i)}catch{a=i}break;case Array:try{a=JSON.parse(i)}catch{a=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${i}`)}break;case Date:a=isNaN(i)?String(i):Number(i),a=new Date(a);break;default:a=super._deserializeValue(i,o);break}return a}_definePropertyAccessor(i,o){b0(this,i),super._definePropertyAccessor(i,o)}_hasAccessor(i){return this.__dataHasAccessor&&this.__dataHasAccessor[i]}_isPropertyPending(i){return Boolean(this.__dataPending&&i in this.__dataPending)}}return t});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const x0={"dom-if":!0,"dom-repeat":!0};let Kc=!1,Zc=!1;function E0(){if(!Kc){Kc=!0;const r=document.createElement("textarea");r.placeholder="a",Zc=r.placeholder===r.textContent}return Zc}function T0(r){E0()&&r.localName==="textarea"&&r.placeholder&&r.placeholder===r.textContent&&(r.textContent=null)}const C0=(()=>{const r=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(e,t,n)=>{const i=t.getAttribute(n);if(r&&n.startsWith("on-")){e.setAttribute(n,r.createScript(i,n));return}e.setAttribute(n,i)}})();function O0(r){let e=r.getAttribute("is");if(e&&x0[e]){let t=r;for(t.removeAttribute("is"),r=t.ownerDocument.createElement(e),t.parentNode.replaceChild(r,t),r.appendChild(t);t.attributes.length;){const{name:n}=t.attributes[0];C0(r,t,n),t.removeAttribute(n)}}return r}function Y_(r,e){let t=e.parentInfo&&Y_(r,e.parentInfo);if(t){for(let n=t.firstChild,i=0;n;n=n.nextSibling)if(e.parentIndex===i++)return n}else return r}function M0(r,e,t,n){n.id&&(e[n.id]=t)}function P0(r,e,t){if(t.events&&t.events.length)for(let n=0,i=t.events,o;n<i.length&&(o=i[n]);n++)r._addMethodEventListenerToNode(e,o.name,o.value,r)}function S0(r,e,t,n){t.templateInfo&&(e._templateInfo=t.templateInfo,e._parentTemplateInfo=n)}function I0(r,e,t){return r=r._methodHost||r,function(i){r[t]?r[t](i,i.detail):console.warn("listener method `"+t+"` not defined")}}const R0=Ot(r=>{class e extends r{static _parseTemplate(n,i){if(!n._templateInfo){let o=n._templateInfo={};o.nodeInfoList=[],o.nestedTemplate=Boolean(i),o.stripWhiteSpace=i&&i.stripWhiteSpace||n.hasAttribute&&n.hasAttribute("strip-whitespace"),this._parseTemplateContent(n,o,{parent:null})}return n._templateInfo}static _parseTemplateContent(n,i,o){return this._parseTemplateNode(n.content,i,o)}static _parseTemplateNode(n,i,o){let a=!1,s=n;return s.localName=="template"&&!s.hasAttribute("preserve-content")?a=this._parseTemplateNestedTemplate(s,i,o)||a:s.localName==="slot"&&(i.hasInsertionPoint=!0),T0(s),s.firstChild&&this._parseTemplateChildNodes(s,i,o),s.hasAttributes&&s.hasAttributes()&&(a=this._parseTemplateNodeAttributes(s,i,o)||a),a||o.noted}static _parseTemplateChildNodes(n,i,o){if(!(n.localName==="script"||n.localName==="style"))for(let a=n.firstChild,s=0,l;a;a=l){if(a.localName=="template"&&(a=O0(a)),l=a.nextSibling,a.nodeType===Node.TEXT_NODE){let h=l;for(;h&&h.nodeType===Node.TEXT_NODE;)a.textContent+=h.textContent,l=h.nextSibling,n.removeChild(h),h=l;if(i.stripWhiteSpace&&!a.textContent.trim()){n.removeChild(a);continue}}let u={parentIndex:s,parentInfo:o};this._parseTemplateNode(a,i,u)&&(u.infoIndex=i.nodeInfoList.push(u)-1),a.parentNode&&s++}}static _parseTemplateNestedTemplate(n,i,o){let a=n,s=this._parseTemplate(a,i);return(s.content=a.content.ownerDocument.createDocumentFragment()).appendChild(a.content),o.templateInfo=s,!0}static _parseTemplateNodeAttributes(n,i,o){let a=!1,s=Array.from(n.attributes);for(let l=s.length-1,u;u=s[l];l--)a=this._parseTemplateNodeAttribute(n,i,o,u.name,u.value)||a;return a}static _parseTemplateNodeAttribute(n,i,o,a,s){return a.slice(0,3)==="on-"?(n.removeAttribute(a),o.events=o.events||[],o.events.push({name:a.slice(3),value:s}),!0):a==="id"?(o.id=s,!0):!1}static _contentForTemplate(n){let i=n._templateInfo;return i&&i.content||n.content}_stampTemplate(n,i){n&&!n.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),i=i||this.constructor._parseTemplate(n);let o=i.nodeInfoList,a=i.content||n.content,s=document.importNode(a,!0);s.__noInsertionPoint=!i.hasInsertionPoint;let l=s.nodeList=new Array(o.length);s.$={};for(let u=0,h=o.length,c;u<h&&(c=o[u]);u++){let f=l[u]=Y_(s,c);M0(this,s.$,f,c),S0(this,f,c,i),P0(this,f,c)}return s=s,s}_addMethodEventListenerToNode(n,i,o,a){a=a||n;let s=I0(a,i,o);return this._addEventListenerToNode(n,i,s),s}_addEventListenerToNode(n,i,o){n.addEventListener(i,o)}_removeEventListenerFromNode(n,i,o){n.removeEventListener(i,o)}}return e});/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Ri=0;const Ai=[],tt={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},j_="__computeInfo",A0=/[A-Z]/;function ul(r,e,t){let n=r[e];if(!n)n=r[e]={};else if(!r.hasOwnProperty(e)&&(n=r[e]=Object.create(r[e]),t))for(let i in n){let o=n[i],a=n[i]=Array(o.length);for(let s=0;s<o.length;s++)a[s]=o[s]}return n}function vi(r,e,t,n,i,o){if(e){let a=!1;const s=Ri++;for(let l in t){let u=i?Vr(l):l,h=e[u];if(h)for(let c=0,f=h.length,d;c<f&&(d=h[c]);c++)(!d.info||d.info.lastRun!==s)&&(!i||Uh(l,d.trigger))&&(d.info&&(d.info.lastRun=s),d.fn(r,l,t,n,d.info,i,o),a=!0)}return a}return!1}function D0(r,e,t,n,i,o,a,s){let l=!1,u=a?Vr(n):n,h=e[u];if(h)for(let c=0,f=h.length,d;c<f&&(d=h[c]);c++)(!d.info||d.info.lastRun!==t)&&(!a||Uh(n,d.trigger))&&(d.info&&(d.info.lastRun=t),d.fn(r,n,i,o,d.info,a,s),l=!0);return l}function Uh(r,e){if(e){let t=e.name;return t==r||!!(e.structured&&$_(t,r))||!!(e.wildcard&&Si(t,r))}else return!0}function Qc(r,e,t,n,i){let o=typeof i.method=="string"?r[i.method]:i.method,a=i.property;o?o.call(r,r.__data[a],n[a]):i.dynamicFn||console.warn("observer method `"+i.method+"` not defined")}function L0(r,e,t,n,i){let o=r[tt.NOTIFY],a,s=Ri++;for(let u in e)e[u]&&(o&&D0(r,o,s,u,t,n,i)||i&&N0(r,u,t))&&(a=!0);let l;a&&(l=r.__dataHost)&&l._invalidateProperties&&l._invalidateProperties()}function N0(r,e,t){let n=Vr(e);if(n!==e){let i=Fs(n)+"-changed";return H_(r,i,t[e],e),!0}return!1}function H_(r,e,t,n){let i={value:t,queueProperty:!0};n&&(i.path=n),vt(r).dispatchEvent(new CustomEvent(e,{detail:i}))}function k0(r,e,t,n,i,o){let s=(o?Vr(e):e)!=e?e:null,l=s?qt(r,s):r.__data[e];s&&l===void 0&&(l=t[e]),H_(r,i.eventName,l,s)}function F0(r,e,t,n,i){let o,a=r.detail,s=a&&a.path;s?(n=Ii(t,n,s),o=a&&a.value):o=r.currentTarget[t],o=i?!o:o,(!e[tt.READ_ONLY]||!e[tt.READ_ONLY][n])&&e._setPendingPropertyOrPath(n,o,!0,Boolean(s))&&(!a||!a.queueProperty)&&e._invalidateProperties()}function $0(r,e,t,n,i){let o=r.__data[e];Sa&&(o=Sa(o,i.attrName,"attribute",r)),r._propertyToAttribute(e,i.attrName,o)}function z0(r,e,t,n){let i=r[tt.COMPUTE];if(i)if(o0){Ri++;const o=G0(r),a=[];for(let l in e)Jc(l,i,a,o,n);let s;for(;s=a.shift();)W_(r,"",e,t,s)&&Jc(s.methodInfo,i,a,o,n);Object.assign(t,r.__dataOld),Object.assign(e,r.__dataPending),r.__dataPending=null}else{let o=e;for(;vi(r,i,o,t,n);)Object.assign(t,r.__dataOld),Object.assign(e,r.__dataPending),o=r.__dataPending,r.__dataPending=null}}const B0=(r,e,t)=>{let n=0,i=e.length-1,o=-1;for(;n<=i;){const a=n+i>>1,s=t.get(e[a].methodInfo)-t.get(r.methodInfo);if(s<0)n=a+1;else if(s>0)i=a-1;else{o=a;break}}o<0&&(o=i+1),e.splice(o,0,r)},Jc=(r,e,t,n,i)=>{const o=i?Vr(r):r,a=e[o];if(a)for(let s=0;s<a.length;s++){const l=a[s];l.info.lastRun!==Ri&&(!i||Uh(r,l.trigger))&&(l.info.lastRun=Ri,B0(l.info,t,n))}};function G0(r){let e=r.constructor.__orderedComputedDeps;if(!e){e=new Map;const t=r[tt.COMPUTE];let{counts:n,ready:i,total:o}=U0(r),a;for(;a=i.shift();){e.set(a,e.size);const s=t[a];s&&s.forEach(l=>{const u=l.info.methodInfo;--o,--n[u]===0&&i.push(u)})}o!==0&&console.warn(`Computed graph for ${r.localName} incomplete; circular?`),r.constructor.__orderedComputedDeps=e}return e}function U0(r){const e=r[j_],t={},n=r[tt.COMPUTE],i=[];let o=0;for(let a in e){const s=e[a];o+=t[a]=s.args.filter(l=>!l.literal).length+(s.dynamicFn?1:0)}for(let a in n)e[a]||i.push(a);return{counts:t,ready:i,total:o}}function W_(r,e,t,n,i){let o=Wl(r,e,t,n,i);if(o===Ai)return!1;let a=i.methodInfo;return r.__dataHasAccessor&&r.__dataHasAccessor[a]?r._setPendingProperty(a,o,!0):(r[a]=o,!1)}function Y0(r,e,t){let n=r.__dataLinkedPaths;if(n){let i;for(let o in n){let a=n[o];Si(o,e)?(i=Ii(o,a,e),r._setPendingPropertyOrPath(i,t,!0,!0)):Si(a,e)&&(i=Ii(a,o,e),r._setPendingPropertyOrPath(i,t,!0,!0))}}}function hl(r,e,t,n,i,o,a){t.bindings=t.bindings||[];let s={kind:n,target:i,parts:o,literal:a,isCompound:o.length!==1};if(t.bindings.push(s),q0(s)){let{event:u,negate:h}=s.parts[0];s.listenerEvent=u||Fs(i)+"-changed",s.listenerNegate=h}let l=e.nodeInfoList.length;for(let u=0;u<s.parts.length;u++){let h=s.parts[u];h.compoundIndex=u,j0(r,e,s,h,l)}}function j0(r,e,t,n,i){if(!n.literal)if(t.kind==="attribute"&&t.target[0]==="-")console.warn("Cannot set attribute "+t.target+' because "-" is not a valid attribute starting character');else{let o=n.dependencies,a={index:i,binding:t,part:n,evaluator:r};for(let s=0;s<o.length;s++){let l=o[s];typeof l=="string"&&(l=q_(l),l.wildcard=!0),r._addTemplatePropertyEffect(e,l.rootProperty,{fn:H0,info:a,trigger:l})}}}function H0(r,e,t,n,i,o,a){let s=a[i.index],l=i.binding,u=i.part;if(o&&u.source&&e.length>u.source.length&&l.kind=="property"&&!l.isCompound&&s.__isPropertyEffectsClient&&s.__dataHasAccessor&&s.__dataHasAccessor[l.target]){let h=t[e];e=Ii(u.source,l.target,e),s._setPendingPropertyOrPath(e,h,!1,!0)&&r._enqueueClient(s)}else{let h=i.evaluator._evaluateBinding(r,u,e,t,n,o);h!==Ai&&W0(r,s,l,u,h)}}function W0(r,e,t,n,i){if(i=V0(e,i,t,n),Sa&&(i=Sa(i,t.target,t.kind,e)),t.kind=="attribute")r._valueToNodeAttribute(e,i,t.target);else{let o=t.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[o]?(!e[tt.READ_ONLY]||!e[tt.READ_ONLY][o])&&e._setPendingProperty(o,i)&&r._enqueueClient(e):r._setUnmanagedPropertyToNode(e,o,i)}}function V0(r,e,t,n){if(t.isCompound){let i=r.__dataCompoundStorage[t.target];i[n.compoundIndex]=e,e=i.join("")}return t.kind!=="attribute"&&(t.target==="textContent"||t.target==="value"&&(r.localName==="input"||r.localName==="textarea"))&&(e=e??""),e}function q0(r){return Boolean(r.target)&&r.kind!="attribute"&&r.kind!="text"&&!r.isCompound&&r.parts[0].mode==="{"}function X0(r,e){let{nodeList:t,nodeInfoList:n}=e;if(n.length)for(let i=0;i<n.length;i++){let o=n[i],a=t[i],s=o.bindings;if(s)for(let l=0;l<s.length;l++){let u=s[l];K0(a,u),Z0(a,r,u)}a.__dataHost=r}}function K0(r,e){if(e.isCompound){let t=r.__dataCompoundStorage||(r.__dataCompoundStorage={}),n=e.parts,i=new Array(n.length);for(let a=0;a<n.length;a++)i[a]=n[a].literal;let o=e.target;t[o]=i,e.literal&&e.kind=="property"&&(o==="className"&&(r=vt(r)),r[o]=e.literal)}}function Z0(r,e,t){if(t.listenerEvent){let n=t.parts[0];r.addEventListener(t.listenerEvent,function(i){F0(i,e,t.target,n.source,n.negate)})}}function tf(r,e,t,n,i,o){o=e.static||o&&(typeof o!="object"||o[e.methodName]);let a={methodName:e.methodName,args:e.args,methodInfo:i,dynamicFn:o};for(let s=0,l;s<e.args.length&&(l=e.args[s]);s++)l.literal||r._addPropertyEffect(l.rootProperty,t,{fn:n,info:a,trigger:l});return o&&r._addPropertyEffect(e.methodName,t,{fn:n,info:a}),a}function Wl(r,e,t,n,i){let o=r._methodHost||r,a=o[i.methodName];if(a){let s=r._marshalArgs(i.args,e,t);return s===Ai?Ai:a.apply(o,s)}else i.dynamicFn||console.warn("method `"+i.methodName+"` not defined")}const Q0=[],V_="(?:[a-zA-Z_$][\\w.:$\\-*]*)",J0="(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)",t1="(?:'(?:[^'\\\\]|\\\\.)*')",e1='(?:"(?:[^"\\\\]|\\\\.)*")',r1="(?:"+t1+"|"+e1+")",ef="(?:("+V_+"|"+J0+"|"+r1+")\\s*)",n1="(?:"+ef+"(?:,\\s*"+ef+")*)",i1="(?:\\(\\s*(?:"+n1+"?)\\)\\s*)",o1="("+V_+"\\s*"+i1+"?)",a1="(\\[\\[|{{)\\s*",s1="(?:]]|}})",l1="(?:(!)\\s*)?",u1=a1+l1+o1+s1,rf=new RegExp(u1,"g");function nf(r){let e="";for(let t=0;t<r.length;t++){let n=r[t].literal;e+=n||""}return e}function cl(r){let e=r.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let n={methodName:e[1],static:!0,args:Q0};if(e[2].trim()){let i=e[2].replace(/\\,/g,"&comma;").split(",");return h1(i,n)}else return n}return null}function h1(r,e){return e.args=r.map(function(t){let n=q_(t);return n.literal||(e.static=!1),n},this),e}function q_(r){let e=r.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),t={name:e,value:"",literal:!1},n=e[0];switch(n==="-"&&(n=e[1]),n>="0"&&n<="9"&&(n="#"),n){case"'":case'"':t.value=e.slice(1,-1),t.literal=!0;break;case"#":t.value=Number(e),t.literal=!0;break}return t.literal||(t.rootProperty=Vr(e),t.structured=Hl(e),t.structured&&(t.wildcard=e.slice(-2)==".*",t.wildcard&&(t.name=e.slice(0,-2)))),t}function of(r,e,t){let n=qt(r,t);return n===void 0&&(n=e[t]),n}function X_(r,e,t,n){const i={indexSplices:n};jl&&!r._overrideLegacyUndefined&&(e.splices=i),r.notifyPath(t+".splices",i),r.notifyPath(t+".length",e.length),jl&&!r._overrideLegacyUndefined&&(i.indexSplices=[])}function ri(r,e,t,n,i,o){X_(r,e,t,[{index:n,addedCount:i,removed:o,object:e,type:"splice"}])}function c1(r){return r[0].toUpperCase()+r.substring(1)}const Yh=Ot(r=>{const e=R0(w0(r));class t extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return tt}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(ni.length){let i=ni[ni.length-1];i._enqueueClient(this),this.__dataHost=i}}_initializeProtoProperties(i){this.__data=Object.create(i),this.__dataPending=Object.create(i),this.__dataOld={}}_initializeInstanceProperties(i){let o=this[tt.READ_ONLY];for(let a in i)(!o||!o[a])&&(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=i[a])}_addPropertyEffect(i,o,a){this._createPropertyAccessor(i,o==tt.READ_ONLY);let s=ul(this,o,!0)[i];s||(s=this[o][i]=[]),s.push(a)}_removePropertyEffect(i,o,a){let s=ul(this,o,!0)[i],l=s.indexOf(a);l>=0&&s.splice(l,1)}_hasPropertyEffect(i,o){let a=this[o];return Boolean(a&&a[i])}_hasReadOnlyEffect(i){return this._hasPropertyEffect(i,tt.READ_ONLY)}_hasNotifyEffect(i){return this._hasPropertyEffect(i,tt.NOTIFY)}_hasReflectEffect(i){return this._hasPropertyEffect(i,tt.REFLECT)}_hasComputedEffect(i){return this._hasPropertyEffect(i,tt.COMPUTE)}_setPendingPropertyOrPath(i,o,a,s){if(s||Vr(Array.isArray(i)?i[0]:i)!==i){if(!s){let l=qt(this,i);if(i=Xc(this,i,o),!i||!super._shouldPropertyChange(i,o,l))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(i,o,a))return Y0(this,i,o),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[i])return this._setPendingProperty(i,o,a);this[i]=o}return!1}_setUnmanagedPropertyToNode(i,o,a){(a!==i[o]||typeof a=="object")&&(o==="className"&&(i=vt(i)),i[o]=a)}_setPendingProperty(i,o,a){let s=this.__dataHasPaths&&Hl(i),l=s?this.__dataTemp:this.__data;return this._shouldPropertyChange(i,o,l[i])?(this.__dataPending||(this.__dataPending={},this.__dataOld={}),i in this.__dataOld||(this.__dataOld[i]=this.__data[i]),s?this.__dataTemp[i]=o:this.__data[i]=o,this.__dataPending[i]=o,(s||this[tt.NOTIFY]&&this[tt.NOTIFY][i])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[i]=a),!0):!1}_setProperty(i,o){this._setPendingProperty(i,o,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(i){this.__dataPendingClients=this.__dataPendingClients||[],i!==this&&this.__dataPendingClients.push(i)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let i=this.__dataPendingClients;if(i){this.__dataPendingClients=null;for(let o=0;o<i.length;o++){let a=i[o];a.__dataEnabled?a.__dataPending&&a._flushProperties():a._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(i,o){for(let a in i)(o||!this[tt.READ_ONLY]||!this[tt.READ_ONLY][a])&&this._setPendingPropertyOrPath(a,i[a],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(i,o,a){let s=this.__dataHasPaths;this.__dataHasPaths=!1;let l;z0(this,o,a,s),l=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(o,a,s),this._flushClients(),vi(this,this[tt.REFLECT],o,a,s),vi(this,this[tt.OBSERVE],o,a,s),l&&L0(this,l,o,a,s),this.__dataCounter==1&&(this.__dataTemp={})}_propagatePropertyChanges(i,o,a){this[tt.PROPAGATE]&&vi(this,this[tt.PROPAGATE],i,o,a),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,i,o,a)}_runEffectsForTemplate(i,o,a,s){const l=(u,h)=>{vi(this,i.propertyEffects,u,a,h,i.nodeList);for(let c=i.firstChild;c;c=c.nextSibling)this._runEffectsForTemplate(c,u,a,h)};i.runEffects?i.runEffects(l,o,s):l(o,s)}linkPaths(i,o){i=_i(i),o=_i(o),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[i]=o}unlinkPaths(i){i=_i(i),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[i]}notifySplices(i,o){let a={path:""},s=qt(this,i,a);X_(this,s,a.path,o)}get(i,o){return qt(o||this,i)}set(i,o,a){a?Xc(a,i,o):(!this[tt.READ_ONLY]||!this[tt.READ_ONLY][i])&&this._setPendingPropertyOrPath(i,o,!0)&&this._invalidateProperties()}push(i,...o){let a={path:""},s=qt(this,i,a),l=s.length,u=s.push(...o);return o.length&&ri(this,s,a.path,l,o.length,[]),u}pop(i){let o={path:""},a=qt(this,i,o),s=Boolean(a.length),l=a.pop();return s&&ri(this,a,o.path,a.length,0,[l]),l}splice(i,o,a,...s){let l={path:""},u=qt(this,i,l);o<0?o=u.length-Math.floor(-o):o&&(o=Math.floor(o));let h;return arguments.length===2?h=u.splice(o):h=u.splice(o,a,...s),(s.length||h.length)&&ri(this,u,l.path,o,s.length,h),h}shift(i){let o={path:""},a=qt(this,i,o),s=Boolean(a.length),l=a.shift();return s&&ri(this,a,o.path,0,0,[l]),l}unshift(i,...o){let a={path:""},s=qt(this,i,a),l=s.unshift(...o);return o.length&&ri(this,s,a.path,0,o.length,[]),l}notifyPath(i,o){let a;if(arguments.length==1){let s={path:""};o=qt(this,i,s),a=s.path}else Array.isArray(i)?a=_i(i):a=i;this._setPendingPropertyOrPath(a,o,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(i,o){this._addPropertyEffect(i,tt.READ_ONLY),o&&(this["_set"+c1(i)]=function(a){this._setProperty(i,a)})}_createPropertyObserver(i,o,a){let s={property:i,method:o,dynamicFn:Boolean(a)};this._addPropertyEffect(i,tt.OBSERVE,{fn:Qc,info:s,trigger:{name:i}}),a&&this._addPropertyEffect(o,tt.OBSERVE,{fn:Qc,info:s,trigger:{name:o}})}_createMethodObserver(i,o){let a=cl(i);if(!a)throw new Error("Malformed observer expression '"+i+"'");tf(this,a,tt.OBSERVE,Wl,null,o)}_createNotifyingProperty(i){this._addPropertyEffect(i,tt.NOTIFY,{fn:k0,info:{eventName:Fs(i)+"-changed",property:i}})}_createReflectedProperty(i){let o=this.constructor.attributeNameForProperty(i);o[0]==="-"?console.warn("Property "+i+" cannot be reflected to attribute "+o+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(i,tt.REFLECT,{fn:$0,info:{attrName:o}})}_createComputedProperty(i,o,a){let s=cl(o);if(!s)throw new Error("Malformed computed expression '"+o+"'");const l=tf(this,s,tt.COMPUTE,W_,i,a);ul(this,j_)[i]=l}_marshalArgs(i,o,a){const s=this.__data,l=[];for(let u=0,h=i.length;u<h;u++){let{name:c,structured:f,wildcard:d,value:p,literal:_}=i[u];if(!_)if(d){const v=Si(c,o),y=of(s,a,v?o:c);p={path:v?o:c,value:y,base:v?qt(s,c):y}}else p=f?of(s,a,c):s[c];if(jl&&!this._overrideLegacyUndefined&&p===void 0&&i.length>1)return Ai;l[u]=p}return l}static addPropertyEffect(i,o,a){this.prototype._addPropertyEffect(i,o,a)}static createPropertyObserver(i,o,a){this.prototype._createPropertyObserver(i,o,a)}static createMethodObserver(i,o){this.prototype._createMethodObserver(i,o)}static createNotifyingProperty(i){this.prototype._createNotifyingProperty(i)}static createReadOnlyProperty(i,o){this.prototype._createReadOnlyProperty(i,o)}static createReflectedProperty(i){this.prototype._createReflectedProperty(i)}static createComputedProperty(i,o,a){this.prototype._createComputedProperty(i,o,a)}static bindTemplate(i){return this.prototype._bindTemplate(i)}_bindTemplate(i,o){let a=this.constructor._parseTemplate(i),s=this.__preBoundTemplateInfo==a;if(!s)for(let l in a.propertyEffects)this._createPropertyAccessor(l);if(o)if(a=Object.create(a),a.wasPreBound=s,!this.__templateInfo)this.__templateInfo=a;else{const l=i._parentTemplateInfo||this.__templateInfo,u=l.lastChild;a.parent=l,l.lastChild=a,a.previousSibling=u,u?u.nextSibling=a:l.firstChild=a}else this.__preBoundTemplateInfo=a;return a}static _addTemplatePropertyEffect(i,o,a){let s=i.hostProps=i.hostProps||{};s[o]=!0;let l=i.propertyEffects=i.propertyEffects||{};(l[o]=l[o]||[]).push(a)}_stampTemplate(i,o){o=o||this._bindTemplate(i,!0),ni.push(this);let a=super._stampTemplate(i,o);if(ni.pop(),o.nodeList=a.nodeList,!o.wasPreBound){let s=o.childNodes=[];for(let l=a.firstChild;l;l=l.nextSibling)s.push(l)}return a.templateInfo=o,X0(this,o),this.__dataClientsReady&&(this._runEffectsForTemplate(o,this.__data,null,!1),this._flushClients()),a}_removeBoundDom(i){const o=i.templateInfo,{previousSibling:a,nextSibling:s,parent:l}=o;a?a.nextSibling=s:l&&(l.firstChild=s),s?s.previousSibling=a:l&&(l.lastChild=a),o.nextSibling=o.previousSibling=null;let u=o.childNodes;for(let h=0;h<u.length;h++){let c=u[h];vt(vt(c).parentNode).removeChild(c)}}static _parseTemplateNode(i,o,a){let s=e._parseTemplateNode.call(this,i,o,a);if(i.nodeType===Node.TEXT_NODE){let l=this._parseBindings(i.textContent,o);l&&(i.textContent=nf(l)||" ",hl(this,o,a,"text","textContent",l),s=!0)}return s}static _parseTemplateNodeAttribute(i,o,a,s,l){let u=this._parseBindings(l,o);if(u){let h=s,c="property";A0.test(s)?c="attribute":s[s.length-1]=="$"&&(s=s.slice(0,-1),c="attribute");let f=nf(u);return f&&c=="attribute"&&(s=="class"&&i.hasAttribute("class")&&(f+=" "+i.getAttribute(s)),i.setAttribute(s,f)),c=="attribute"&&h=="disable-upgrade$"&&i.setAttribute(s,""),i.localName==="input"&&h==="value"&&i.setAttribute(h,""),i.removeAttribute(h),c==="property"&&(s=B_(s)),hl(this,o,a,c,s,u,f),!0}else return e._parseTemplateNodeAttribute.call(this,i,o,a,s,l)}static _parseTemplateNestedTemplate(i,o,a){let s=e._parseTemplateNestedTemplate.call(this,i,o,a);const l=i.parentNode,u=a.templateInfo,h=l.localName==="dom-if",c=l.localName==="dom-repeat";Yc&&(h||c)&&(l.removeChild(i),a=a.parentInfo,a.templateInfo=u,a.noted=!0,s=!1);let f=u.hostProps;if(a0&&h)f&&(o.hostProps=Object.assign(o.hostProps||{},f),Yc||(a.parentInfo.noted=!0));else{let d="{";for(let p in f){let _=[{mode:d,source:p,dependencies:[p],hostProp:!0}];hl(this,o,a,"property","_host_"+p,_)}}return s}static _parseBindings(i,o){let a=[],s=0,l;for(;(l=rf.exec(i))!==null;){l.index>s&&a.push({literal:i.slice(s,l.index)});let u=l[1][0],h=Boolean(l[2]),c=l[3].trim(),f=!1,d="",p=-1;u=="{"&&(p=c.indexOf("::"))>0&&(d=c.substring(p+2),c=c.substring(0,p),f=!0);let _=cl(c),v=[];if(_){let{args:y,methodName:g}=_;for(let b=0;b<y.length;b++){let w=y[b];w.literal||v.push(w)}let m=o.dynamicFns;(m&&m[g]||_.static)&&(v.push(g),_.dynamicFn=!0)}else v.push(c);a.push({source:c,mode:u,negate:h,customEvent:f,signature:_,dependencies:v,event:d}),s=rf.lastIndex}if(s&&s<i.length){let u=i.substring(s);u&&a.push({literal:u})}return a.length?a:null}static _evaluateBinding(i,o,a,s,l,u){let h;return o.signature?h=Wl(i,a,s,l,o.signature):a!=o.source?h=qt(i,o.source):u&&Hl(a)?h=qt(i,a):h=i.__data[a],o.negate&&(h=!h),h}}return t}),ni=[];/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*//**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function f1(r){const e={};for(let t in r){const n=r[t];e[t]=typeof n=="function"?{type:n}:n}return e}const d1=Ot(r=>{const e=G_(r);function t(o){const a=Object.getPrototypeOf(o);return a.prototype instanceof i?a:null}function n(o){if(!o.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",o))){let a=null;if(o.hasOwnProperty(JSCompiler_renameProperty("properties",o))){const s=o.properties;s&&(a=f1(s))}o.__ownProperties=a}return o.__ownProperties}class i extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const a=this._properties;this.__observedAttributes=a?Object.keys(a).map(s=>this.prototype._addPropertyToAttributeMap(s)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const a=t(this);a&&a.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const a=n(this);a&&this.createProperties(a)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const a=t(this);this.__properties=Object.assign({},a&&a._properties,n(this))}return this.__properties}static typeForProperty(a){const s=this._properties[a];return s&&s.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i});/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */const p1="3.5.1",af=window.ShadyCSS&&window.ShadyCSS.cssBuild,_1=Ot(r=>{const e=d1(Yh(r));function t(l){if(!l.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",l))){l.__propertyDefaults=null;let u=l._properties;for(let h in u){let c=u[h];"value"in c&&(l.__propertyDefaults=l.__propertyDefaults||{},l.__propertyDefaults[h]=c)}}return l.__propertyDefaults}function n(l){return l.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",l))||(l.__ownObservers=l.hasOwnProperty(JSCompiler_renameProperty("observers",l))?l.observers:null),l.__ownObservers}function i(l,u,h,c){h.computed&&(h.readOnly=!0),h.computed&&(l._hasReadOnlyEffect(u)?console.warn(`Cannot redefine computed property '${u}'.`):l._createComputedProperty(u,h.computed,c)),h.readOnly&&!l._hasReadOnlyEffect(u)?l._createReadOnlyProperty(u,!h.computed):h.readOnly===!1&&l._hasReadOnlyEffect(u)&&console.warn(`Cannot make readOnly property '${u}' non-readOnly.`),h.reflectToAttribute&&!l._hasReflectEffect(u)?l._createReflectedProperty(u):h.reflectToAttribute===!1&&l._hasReflectEffect(u)&&console.warn(`Cannot make reflected property '${u}' non-reflected.`),h.notify&&!l._hasNotifyEffect(u)?l._createNotifyingProperty(u):h.notify===!1&&l._hasNotifyEffect(u)&&console.warn(`Cannot make notify property '${u}' non-notify.`),h.observer&&l._createPropertyObserver(u,h.observer,c[h.observer]),l._addPropertyToAttributeMap(u)}function o(l,u,h,c){if(!af){const f=u.content.querySelectorAll("style"),d=Gh(u),p=p0(h),_=u.content.firstElementChild;for(let y=0;y<p.length;y++){let g=p[y];g.textContent=l._processStyleText(g.textContent,c),u.content.insertBefore(g,_)}let v=0;for(let y=0;y<d.length;y++){let g=d[y],m=f[v];m!==g?(g=g.cloneNode(!0),m.parentNode.insertBefore(g,m)):v++,g.textContent=l._processStyleText(g.textContent,c)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(u,h),s0&&af&&e0){const f=u.content.querySelectorAll("style");if(f){let d="";Array.from(f).forEach(p=>{d+=p.textContent,p.parentNode.removeChild(p)}),l._styleSheet=new CSSStyleSheet,l._styleSheet.replaceSync(d)}}}function a(l){let u=null;if(l&&(!Ia||n0)&&(u=Sn.import(l,"template"),Ia&&!u))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${l}`);return u}class s extends e{static get polymerElementVersion(){return p1}static _finalizeClass(){e._finalizeClass.call(this);const u=n(this);u&&this.createObservers(u,this._properties),this._prepareTemplate()}static _prepareTemplate(){let u=this.template;u&&(typeof u=="string"?(console.error("template getter must return HTMLTemplateElement"),u=null):D_||(u=u.cloneNode(!0))),this.prototype._template=u}static createProperties(u){for(let h in u)i(this.prototype,h,u[h],u)}static createObservers(u,h){const c=this.prototype;for(let f=0;f<u.length;f++)c._createMethodObserver(u[f],h)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let u=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;typeof u=="function"&&(u=u()),this._template=u!==void 0?u:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&a(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(u){this._template=u}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const u=this.importMeta;if(u)this._importPath=zh(u.url);else{const h=Sn.import(this.is);this._importPath=h&&h.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=r0,this.importPath=this.constructor.importPath;let u=t(this.constructor);if(u)for(let h in u){let c=u[h];if(this._canApplyPropertyDefault(h)){let f=typeof c.value=="function"?c.value.call(this):c.value;this._hasAccessor(h)?this._setPendingProperty(h,f,!0):this[h]=f}}}_canApplyPropertyDefault(u){return!this.hasOwnProperty(u)}static _processStyleText(u,h){return $h(u,h)}static _finalizeTemplate(u){const h=this.prototype._template;if(h&&!h.__polymerFinalized){h.__polymerFinalized=!0;const c=this.importPath,f=c?Ti(c):"";o(this,h,u,f),this.prototype._bindTemplate(h)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(u){const h=vt(this);if(h.attachShadow)return u?(h.shadowRoot||(h.attachShadow({mode:"open",shadyUpgradeFragment:u}),h.shadowRoot.appendChild(u),this.constructor._styleSheet&&(h.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),i0&&window.ShadyDOM&&window.ShadyDOM.flushInitial(h.shadowRoot),h.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(u){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,u)}resolveUrl(u,h){return!h&&this.importPath&&(h=Ti(this.importPath)),Ti(u,h)}static _parseTemplateContent(u,h,c){return h.dynamicFns=h.dynamicFns||this._properties,e._parseTemplateContent.call(this,u,h,c)}static _addTemplatePropertyEffect(u,h,c){return L_&&!(h in this._properties)&&!(c.info.part.signature&&c.info.part.signature.static)&&!c.info.part.hostProp&&!u.nestedTemplate&&console.warn(`Property '${h}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,u,h,c)}}return s});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const sf=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:r=>r});class K_{constructor(e,t){Q_(e,t);const n=t.reduce((i,o,a)=>i+Z_(o)+e[a+1],e[0]);this.value=n.toString()}toString(){return this.value}}function Z_(r){if(r instanceof K_)return r.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${r}`)}function v1(r){if(r instanceof HTMLTemplateElement)return r.innerHTML;if(r instanceof K_)return Z_(r);throw new Error(`non-template value passed to Polymer's html function: ${r}`)}const Dt=function(e,...t){Q_(e,t);const n=document.createElement("template");let i=t.reduce((o,a,s)=>o+v1(a)+e[s+1],e[0]);return sf&&(i=sf.createHTML(i)),n.innerHTML=i,n},Q_=(r,e)=>{if(!Array.isArray(r)||!Array.isArray(r.raw)||e.length!==r.length-1)throw new TypeError("Invalid call to the html template tag")};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ft=_1(HTMLElement);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const mr=Ot(r=>class extends r{constructor(){super(),this.__controllers=new Set}connectedCallback(){super.connectedCallback(),this.__controllers.forEach(t=>{t.hostConnected&&t.hostConnected()})}disconnectedCallback(){super.disconnectedCallback(),this.__controllers.forEach(t=>{t.hostDisconnected&&t.hostDisconnected()})}addController(t){this.__controllers.add(t),this.$!==void 0&&this.isConnected&&t.hostConnected&&t.hostConnected()}removeController(t){this.__controllers.delete(t)}}),y1=/\/\*[\*!]\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,$o=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function g1(){function r(){return!0}return J_(r)}function m1(){try{return b1()?!0:w1()?$o?!x1():!g1():!1}catch{return!1}}function b1(){return localStorage.getItem("vaadin.developmentmode.force")}function w1(){return["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0}function x1(){return!!($o&&Object.keys($o).map(e=>$o[e]).filter(e=>e.productionMode).length>0)}function J_(r,e){if(typeof r!="function")return;const t=y1.exec(r.toString());if(t)try{r=new Function(t[1])}catch(n){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",n)}return r(e)}window.Vaadin=window.Vaadin||{};const lf=function(r,e){if(window.Vaadin.developmentMode)return J_(r,e)};window.Vaadin.developmentMode===void 0&&(window.Vaadin.developmentMode=m1());function E1(){}const T1=function(){if(typeof lf=="function")return lf(E1)};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */let uf=0,tv=0;const mn=[];let hf=0,Vl=!1;const ev=document.createTextNode("");function C1(){Vl=!1;const r=mn.length;for(let e=0;e<r;e++){const t=mn[e];if(t)try{t()}catch(n){setTimeout(()=>{throw n})}}mn.splice(0,r),tv+=r}new window.MutationObserver(C1).observe(ev,{characterData:!0});const Aa={after(r){return{run(e){return window.setTimeout(e,r)},cancel(e){window.clearTimeout(e)}}},run(r,e){return window.setTimeout(r,e)},cancel(r){window.clearTimeout(r)}},O1={run(r){return window.requestAnimationFrame(r)},cancel(r){window.cancelAnimationFrame(r)}},M1={run(r){return window.requestIdleCallback?window.requestIdleCallback(r):window.setTimeout(r,16)},cancel(r){window.cancelIdleCallback?window.cancelIdleCallback(r):window.clearTimeout(r)}},rv={run(r){Vl||(Vl=!0,ev.textContent=hf,hf+=1),mn.push(r);const e=uf;return uf+=1,e},cancel(r){const e=r-tv;if(e>=0){if(!mn[e])throw new Error(`invalid async handle: ${r}`);mn[e]=null}}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Di=new Set;let Br=class ql{static debounce(e,t,n){return e instanceof ql?e._cancelAsync():e=new ql,e.setConfig(t,n),e}constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,Di.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Di.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}};function P1(r){Di.add(r)}function S1(){const r=Boolean(Di.size);return Di.forEach(e=>{try{e.flush()}catch(t){setTimeout(()=>{throw t})}}),r}const oN=()=>{let r;do r=S1();while(r)};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const $e=[];function Xl(r,e,t=r.getAttribute("dir")){e?r.setAttribute("dir",e):t!=null&&r.removeAttribute("dir")}function Kl(){return document.documentElement.getAttribute("dir")}function I1(){const r=Kl();$e.forEach(e=>{Xl(e,r)})}const R1=new MutationObserver(I1);R1.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});const $s=r=>class extends r{static get properties(){return{dir:{type:String,value:"",reflectToAttribute:!0,converter:{fromAttribute:t=>t||"",toAttribute:t=>t===""?null:t}}}}get __isRTL(){return this.getAttribute("dir")==="rtl"}connectedCallback(){super.connectedCallback(),(!this.hasAttribute("dir")||this.__restoreSubscription)&&(this.__subscribe(),Xl(this,Kl(),null))}attributeChangedCallback(t,n,i){if(super.attributeChangedCallback(t,n,i),t!=="dir")return;const o=Kl(),a=i===o&&$e.indexOf(this)===-1,s=!i&&n&&$e.indexOf(this)===-1;a||s?(this.__subscribe(),Xl(this,o,i)):i!==o&&n===o&&this.__unsubscribe()}disconnectedCallback(){super.disconnectedCallback(),this.__restoreSubscription=$e.includes(this),this.__unsubscribe()}_valueToNodeAttribute(t,n,i){i==="dir"&&n===""&&!t.hasAttribute("dir")||super._valueToNodeAttribute(t,n,i)}_attributeToProperty(t,n,i){t==="dir"&&!n?this.dir="":super._attributeToProperty(t,n,i)}__subscribe(){$e.includes(this)||$e.push(this)}__unsubscribe(){$e.includes(this)&&$e.splice($e.indexOf(this),1)}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */window.Vaadin||(window.Vaadin={});window.Vaadin.registrations||(window.Vaadin.registrations=[]);window.Vaadin.developmentModeCallback||(window.Vaadin.developmentModeCallback={});window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){T1()};let fl;const cf=new Set,Ie=r=>class extends $s(r){static get version(){return"24.0.2"}static finalize(){super.finalize();const{is:t}=this;t&&!cf.has(t)&&(window.Vaadin.registrations.push(this),cf.add(t),window.Vaadin.developmentModeCallback&&(fl=Br.debounce(fl,M1,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()}),P1(fl)))}constructor(){super(),document.doctype===null&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let jh=!1;window.addEventListener("keydown",()=>{jh=!0},{capture:!0});window.addEventListener("mousedown",()=>{jh=!1},{capture:!0});function nv(){return jh}function iv(r){const e=r.style;if(e.visibility==="hidden"||e.display==="none")return!0;const t=window.getComputedStyle(r);return t.visibility==="hidden"||t.display==="none"}function A1(r,e){const t=Math.max(r.tabIndex,0),n=Math.max(e.tabIndex,0);return t===0||n===0?n>t:t>n}function D1(r,e){const t=[];for(;r.length>0&&e.length>0;)A1(r[0],e[0])?t.push(e.shift()):t.push(r.shift());return t.concat(r,e)}function Zl(r){const e=r.length;if(e<2)return r;const t=Math.ceil(e/2),n=Zl(r.slice(0,t)),i=Zl(r.slice(t));return D1(n,i)}function lN(r){return r.offsetParent===null?!0:iv(r)}function L1(r){return r.matches('[tabindex="-1"]')?!1:r.matches("input, select, textarea, button, object")?r.matches(":not([disabled])"):r.matches("a[href], area[href], iframe, [tabindex], [contentEditable]")}function N1(r){return r.getRootNode().activeElement===r}function k1(r){if(!L1(r))return-1;const e=r.getAttribute("tabindex")||0;return Number(e)}function ov(r,e){if(r.nodeType!==Node.ELEMENT_NODE||iv(r))return!1;const t=r,n=k1(t);let i=n>0;n>=0&&e.push(t);let o=[];return t.localName==="slot"?o=t.assignedNodes({flatten:!0}):o=(t.shadowRoot||t).children,[...o].forEach(a=>{i=ov(a,e)||i}),i}function F1(r){const e=[];return ov(r,e)?Zl(e):e}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const dl=[];class av{constructor(e){this.host=e,this.__trapNode=null,this.__onKeyDown=this.__onKeyDown.bind(this)}get __focusableElements(){return F1(this.__trapNode)}get __focusedElementIndex(){const e=this.__focusableElements;return e.indexOf(e.filter(N1).pop())}hostConnected(){document.addEventListener("keydown",this.__onKeyDown)}hostDisconnected(){document.removeEventListener("keydown",this.__onKeyDown)}trapFocus(e){if(this.__trapNode=e,this.__focusableElements.length===0)throw this.__trapNode=null,new Error("The trap node should have at least one focusable descendant or be focusable itself.");dl.push(this),this.__focusedElementIndex===-1&&this.__focusableElements[0].focus()}releaseFocus(){this.__trapNode=null,dl.pop()}__onKeyDown(e){if(this.__trapNode&&this===Array.from(dl).pop()&&e.key==="Tab"){e.preventDefault();const t=e.shiftKey;this.__focusNextElement(t)}}__focusNextElement(e=!1){const t=this.__focusableElements,n=e?-1:1,i=this.__focusedElementIndex,o=(t.length+i+n)%t.length,a=t[o];a.focus(),a.localName==="input"&&a.select()}}/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ff extends Ie(ie(mr(Ft))){static get template(){return Dt`
      <style>
        :host {
          display: block;
          box-sizing: border-box;
          height: 100%;
          --vaadin-app-layout-transition: 200ms;
          transition: padding var(--vaadin-app-layout-transition);
          --vaadin-app-layout-touch-optimized: false;
          --vaadin-app-layout-navbar-offset-top: var(--_vaadin-app-layout-navbar-offset-size);
          --vaadin-app-layout-navbar-offset-bottom: var(--_vaadin-app-layout-navbar-offset-size-bottom);
          padding-top: var(--vaadin-app-layout-navbar-offset-top);
          padding-bottom: var(--vaadin-app-layout-navbar-offset-bottom);
          padding-left: var(--vaadin-app-layout-navbar-offset-left);
        }

        :host([dir='rtl']) {
          padding-left: 0;
          padding-right: var(--vaadin-app-layout-navbar-offset-left);
        }

        :host([hidden]),
        [hidden] {
          display: none !important;
        }

        :host([no-anim]) {
          --vaadin-app-layout-transition: none !important;
        }

        :host([drawer-opened]) {
          --vaadin-app-layout-drawer-offset-left: var(--_vaadin-app-layout-drawer-offset-size);
        }

        :host([overlay]) {
          --vaadin-app-layout-drawer-offset-left: 0;
          --vaadin-app-layout-navbar-offset-left: 0;
        }

        :host(:not([no-scroll])) [content] {
          overflow: auto;
        }

        [content] {
          height: 100%;
        }

        @media (pointer: coarse) and (max-width: 800px) and (min-height: 500px) {
          :host {
            --vaadin-app-layout-touch-optimized: true;
          }
        }

        [part='navbar'] {
          position: fixed;
          display: flex;
          align-items: center;
          top: 0;
          right: 0;
          left: 0;
          transition: left var(--vaadin-app-layout-transition);
          padding-top: var(--safe-area-inset-top);
          padding-left: var(--safe-area-inset-left);
          padding-right: var(--safe-area-inset-right);
          z-index: 1;
        }

        :host(:not([dir='rtl'])[primary-section='drawer'][drawer-opened]:not([overlay])) [part='navbar'] {
          left: var(--vaadin-app-layout-drawer-offset-left, 0);
        }

        :host([dir='rtl'][primary-section='drawer'][drawer-opened]:not([overlay])) [part='navbar'] {
          right: var(--vaadin-app-layout-drawer-offset-left, 0);
        }

        :host([primary-section='drawer']) [part='drawer'] {
          top: 0;
        }

        [part='navbar'][bottom] {
          top: auto;
          bottom: 0;
          padding-bottom: var(--safe-area-inset-bottom);
        }

        [part='drawer'] {
          overflow: auto;
          position: fixed;
          top: var(--vaadin-app-layout-navbar-offset-top, 0);
          right: auto;
          bottom: var(--vaadin-app-layout-navbar-offset-bottom, var(--vaadin-viewport-offset-bottom, 0));
          left: var(--vaadin-app-layout-navbar-offset-left, 0);
          transition: transform var(--vaadin-app-layout-transition), visibility var(--vaadin-app-layout-transition);
          transform: translateX(-100%);
          max-width: 90%;
          width: 16em;
          box-sizing: border-box;
          padding: var(--safe-area-inset-top) 0 var(--safe-area-inset-bottom) var(--safe-area-inset-left);
          outline: none;
          /* The drawer should be inaccessible by the tabbing navigation when it is closed. */
          visibility: hidden;
          display: flex;
          flex-direction: column;
        }

        :host([drawer-opened]) [part='drawer'] {
          /* The drawer should be accessible by the tabbing navigation when it is opened. */
          visibility: visible;
          transform: translateX(0%);
          touch-action: manipulation;
        }

        [part='backdrop'] {
          background-color: #000;
          opacity: 0.3;
        }

        :host(:not([drawer-opened])) [part='backdrop'] {
          opacity: 0;
        }

        :host([overlay]) [part='backdrop'] {
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          pointer-events: none;
          transition: opacity var(--vaadin-app-layout-transition);
          -webkit-tap-highlight-color: transparent;
        }

        :host([overlay]) [part='drawer'] {
          top: 0;
          bottom: 0;
        }

        :host([overlay]) [part='drawer'],
        :host([overlay]) [part='backdrop'] {
          z-index: 2;
        }

        :host([drawer-opened][overlay]) [part='backdrop'] {
          pointer-events: auto;
          touch-action: manipulation;
        }

        :host([dir='rtl']) [part='drawer'] {
          left: auto;
          right: var(--vaadin-app-layout-navbar-offset-start, 0);
          transform: translateX(100%);
        }

        :host([dir='rtl']) [part='navbar'] {
          transition: right var(--vaadin-app-layout-transition);
        }

        :host([dir='rtl'][drawer-opened]) [part='drawer'] {
          transform: translateX(0%);
        }

        :host(:not([dir='rtl'])[drawer-opened]:not([overlay])) {
          padding-left: var(--vaadin-app-layout-drawer-offset-left);
        }

        :host([dir='rtl'][drawer-opened]:not([overlay])) {
          padding-right: var(--vaadin-app-layout-drawer-offset-left);
        }

        @media (max-width: 800px), (max-height: 600px) {
          :host {
            --vaadin-app-layout-drawer-overlay: true;
          }

          [part='drawer'] {
            width: 20em;
          }
        }

        /* If a vaadin-scroller is used in the drawer, allow it to take all remaining space and contain scrolling */
        [part='drawer'] ::slotted(vaadin-scroller) {
          flex: 1;
          overscroll-behavior: contain;
        }
      </style>
      <div part="navbar" id="navbarTop">
        <slot name="navbar"></slot>
      </div>
      <div part="backdrop" on-click="_onBackdropClick" on-touchend="_onBackdropTouchend"></div>
      <div part="drawer" id="drawer" on-keydown="__onDrawerKeyDown">
        <slot name="drawer" id="drawerSlot"></slot>
      </div>
      <div content>
        <slot></slot>
      </div>
      <div part="navbar" id="navbarBottom" bottom hidden>
        <slot name="navbar-bottom"></slot>
      </div>
      <div hidden><slot id="touchSlot" name="navbar touch-optimized"></slot></div>
    `}static get is(){return"vaadin-app-layout"}static get properties(){return{i18n:{type:Object,observer:"__i18nChanged",value:()=>({drawer:"Drawer"})},primarySection:{type:String,value:"navbar",notify:!0,reflectToAttribute:!0,observer:"__primarySectionChanged"},drawerOpened:{type:Boolean,notify:!0,value:!0,reflectToAttribute:!0,observer:"__drawerOpenedChanged"},overlay:{type:Boolean,notify:!0,readOnly:!0,value:!1,reflectToAttribute:!0},closeDrawerOn:{type:String,value:"vaadin-router-location-changed",observer:"_closeDrawerOnChanged"}}}static dispatchCloseOverlayDrawerEvent(){window.dispatchEvent(new CustomEvent("close-overlay-drawer"))}constructor(){super(),this.__boundResizeListener=this._resize.bind(this),this.__drawerToggleClickListener=this._drawerToggleClick.bind(this),this.__closeOverlayDrawerListener=this.__closeOverlayDrawer.bind(this),this.__trapFocusInDrawer=this.__trapFocusInDrawer.bind(this),this.__releaseFocusFromDrawer=this.__releaseFocusFromDrawer.bind(this),this.__focusTrapController=new av(this)}connectedCallback(){super.connectedCallback(),this._blockAnimationUntilAfterNextRender(),window.addEventListener("resize",this.__boundResizeListener),this.addEventListener("drawer-toggle-click",this.__drawerToggleClickListener),Qm(this,this._afterFirstRender),this._updateTouchOptimizedMode();const e=this.$.navbarTop.firstElementChild;this._navbarChildObserver=new gn(e,()=>{this._updateTouchOptimizedMode()}),this._touchChildObserver=new gn(this.$.touchSlot,()=>{this._updateTouchOptimizedMode()}),this._drawerChildObserver=new gn(this.$.drawerSlot,()=>{this._updateDrawerSize()}),this._updateDrawerSize(),this._updateOverlayMode(),this._navbarSizeObserver=new ResizeObserver(()=>{requestAnimationFrame(()=>{this._blockAnimationUntilAfterNextRender(),this._updateOffsetSize()})}),this._navbarSizeObserver.observe(this.$.navbarTop),this._navbarSizeObserver.observe(this.$.navbarBottom),window.addEventListener("close-overlay-drawer",this.__closeOverlayDrawerListener)}ready(){super.ready(),this.addController(this.__focusTrapController),this.__setAriaExpanded()}disconnectedCallback(){super.disconnectedCallback(),this._navbarChildObserver&&this._navbarChildObserver.disconnect(),this._drawerChildObserver&&this._drawerChildObserver.disconnect(),this._touchChildObserver&&this._touchChildObserver.disconnect(),window.removeEventListener("resize",this.__boundResizeListener),this.removeEventListener("drawer-toggle-click",this.__drawerToggleClickListener),window.removeEventListener("close-overlay-drawer",this.__drawerToggleClickListener)}__primarySectionChanged(e){["navbar","drawer"].includes(e)||this.set("primarySection","navbar")}__drawerOpenedChanged(e,t){this.overlay&&(e?this.__trapFocusInDrawer():t&&this.__releaseFocusFromDrawer()),this.__setAriaExpanded()}__i18nChanged(){this.__updateDrawerAriaAttributes()}_afterFirstRender(){this._blockAnimationUntilAfterNextRender(),this._updateOffsetSize()}_drawerToggleClick(e){e.stopPropagation(),this.drawerOpened=!this.drawerOpened}__closeOverlayDrawer(){this.overlay&&(this.drawerOpened=!1)}__setAriaExpanded(){const e=this.querySelector("vaadin-drawer-toggle");e&&e.setAttribute("aria-expanded",this.drawerOpened)}_updateDrawerSize(){const e=this.querySelectorAll("[slot=drawer]").length,t=this.$.drawer;e===0?t.setAttribute("hidden",""):t.removeAttribute("hidden"),this._updateOffsetSize()}_resize(){this._blockAnimationUntilAfterNextRender(),this._updateTouchOptimizedMode(),this._updateOverlayMode()}_updateOffsetSize(){const t=this.$.navbarTop.getBoundingClientRect(),i=this.$.navbarBottom.getBoundingClientRect();this.style.setProperty("--_vaadin-app-layout-navbar-offset-size",`${t.height}px`),this.style.setProperty("--_vaadin-app-layout-navbar-offset-size-bottom",`${i.height}px`);const a=this.$.drawer.getBoundingClientRect();this.style.setProperty("--_vaadin-app-layout-drawer-offset-size",`${a.width}px`)}_updateOverlayMode(){const e=this._getCustomPropertyValue("--vaadin-app-layout-drawer-overlay")==="true";!this.overlay&&e&&(this._drawerStateSaved=this.drawerOpened,this.drawerOpened=!1),this._setOverlay(e),!this.overlay&&this._drawerStateSaved&&(this.drawerOpened=this._drawerStateSaved,this._drawerStateSaved=null),this.__updateDrawerAriaAttributes()}__updateDrawerAriaAttributes(){const e=this.$.drawer;this.overlay?(e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-label",this.i18n.drawer)):(e.removeAttribute("role"),e.removeAttribute("aria-modal"),e.removeAttribute("aria-label"))}__drawerTransitionComplete(){return new Promise(e=>{if(this._getCustomPropertyValue("--vaadin-app-layout-transition")==="none"){e();return}this.$.drawer.addEventListener("transitionend",e,{once:!0})})}async __trapFocusInDrawer(){await this.__drawerTransitionComplete(),this.drawerOpened&&(this.$.drawer.setAttribute("tabindex","0"),this.__focusTrapController.trapFocus(this.$.drawer))}async __releaseFocusFromDrawer(){if(await this.__drawerTransitionComplete(),this.drawerOpened)return;this.__focusTrapController.releaseFocus(),this.$.drawer.removeAttribute("tabindex");const e=this.querySelector("vaadin-drawer-toggle");e&&(e.focus(),e.setAttribute("focus-ring","focus"))}__onDrawerKeyDown(e){e.key==="Escape"&&this.overlay&&(this.drawerOpened=!1)}_closeDrawerOnChanged(e,t){t&&window.removeEventListener(t,this.__closeOverlayDrawerListener),e&&window.addEventListener(e,this.__closeOverlayDrawerListener)}_onBackdropClick(){this._close()}_onBackdropTouchend(e){e.preventDefault(),this._close()}_close(){this.drawerOpened=!1}_getCustomPropertyValue(e){return(getComputedStyle(this).getPropertyValue(e)||"").trim().toLowerCase()}_updateTouchOptimizedMode(){const e=this._getCustomPropertyValue("--vaadin-app-layout-touch-optimized")==="true",t=this.querySelectorAll('[slot*="navbar"]');t.length>0&&Array.from(t).forEach(n=>{n.getAttribute("slot").indexOf("touch-optimized")>-1&&(n.__touchOptimized=!0),e&&n.__touchOptimized?n.setAttribute("slot","navbar-bottom"):n.setAttribute("slot","navbar")}),this.$.navbarTop.querySelector("[name=navbar]").assignedNodes().length===0?this.$.navbarTop.setAttribute("hidden",""):this.$.navbarTop.removeAttribute("hidden"),e?this.$.navbarBottom.removeAttribute("hidden"):this.$.navbarBottom.setAttribute("hidden",""),this._updateOffsetSize()}_blockAnimationUntilAfterNextRender(){this.setAttribute("no-anim",""),ks(this,()=>{this.removeAttribute("no-anim")})}}customElements.define(ff.is,ff);const sv=Q`
  :host {
    /* Sizing */
    --lumo-button-size: var(--lumo-size-m);
    min-width: calc(var(--lumo-button-size) * 2);
    height: var(--lumo-button-size);
    padding: 0 calc(var(--lumo-button-size) / 3 + var(--lumo-border-radius-m) / 2);
    margin: var(--lumo-space-xs) 0;
    box-sizing: border-box;
    /* Style */
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    font-weight: 500;
    color: var(--_lumo-button-color, var(--lumo-primary-text-color));
    background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));
    border-radius: var(--lumo-border-radius-m);
    cursor: var(--lumo-clickable-cursor);
    -webkit-tap-highlight-color: transparent;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    flex-shrink: 0;
  }

  /* Set only for the internal parts so we don't affect the host vertical alignment */
  [part='label'],
  [part='prefix'],
  [part='suffix'] {
    line-height: var(--lumo-line-height-xs);
  }

  [part='label'] {
    padding: calc(var(--lumo-button-size) / 6) 0;
  }

  :host([theme~='small']) {
    font-size: var(--lumo-font-size-s);
    --lumo-button-size: var(--lumo-size-s);
  }

  :host([theme~='large']) {
    font-size: var(--lumo-font-size-l);
    --lumo-button-size: var(--lumo-size-l);
  }

  /* For interaction states */
  :host::before,
  :host::after {
    content: '';
    /* We rely on the host always being relative */
    position: absolute;
    z-index: 1;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: currentColor;
    border-radius: inherit;
    opacity: 0;
    pointer-events: none;
  }

  /* Hover */

  @media (any-hover: hover) {
    :host(:hover)::before {
      opacity: 0.02;
    }
  }

  /* Active */

  :host::after {
    transition: opacity 1.4s, transform 0.1s;
    filter: blur(8px);
  }

  :host([active])::before {
    opacity: 0.05;
    transition-duration: 0s;
  }

  :host([active])::after {
    opacity: 0.1;
    transition-duration: 0s, 0s;
    transform: scale(0);
  }

  /* Keyboard focus */

  :host([focus-ring]) {
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  :host([theme~='primary'][focus-ring]) {
    box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px var(--lumo-primary-color-50pct);
  }

  /* Types (primary, tertiary, tertiary-inline */

  :host([theme~='tertiary']),
  :host([theme~='tertiary-inline']) {
    background-color: transparent !important;
    min-width: 0;
  }

  :host([theme~='tertiary']) {
    padding: 0 calc(var(--lumo-button-size) / 6);
  }

  :host([theme~='tertiary-inline'])::before {
    display: none;
  }

  :host([theme~='tertiary-inline']) {
    margin: 0;
    height: auto;
    padding: 0;
    line-height: inherit;
    font-size: inherit;
  }

  :host([theme~='tertiary-inline']) [part='label'] {
    padding: 0;
    overflow: visible;
    line-height: inherit;
  }

  :host([theme~='primary']) {
    background-color: var(--_lumo-button-primary-background-color, var(--lumo-primary-color));
    color: var(--_lumo-button-primary-color, var(--lumo-primary-contrast-color));
    font-weight: 600;
    min-width: calc(var(--lumo-button-size) * 2.5);
  }

  :host([theme~='primary'])::before {
    background-color: black;
  }

  @media (any-hover: hover) {
    :host([theme~='primary']:hover)::before {
      opacity: 0.05;
    }
  }

  :host([theme~='primary'][active])::before {
    opacity: 0.1;
  }

  :host([theme~='primary'][active])::after {
    opacity: 0.2;
  }

  /* Colors (success, error, contrast) */

  :host([theme~='success']) {
    color: var(--lumo-success-text-color);
  }

  :host([theme~='success'][theme~='primary']) {
    background-color: var(--lumo-success-color);
    color: var(--lumo-success-contrast-color);
  }

  :host([theme~='error']) {
    color: var(--lumo-error-text-color);
  }

  :host([theme~='error'][theme~='primary']) {
    background-color: var(--lumo-error-color);
    color: var(--lumo-error-contrast-color);
  }

  :host([theme~='contrast']) {
    color: var(--lumo-contrast);
  }

  :host([theme~='contrast'][theme~='primary']) {
    background-color: var(--lumo-contrast);
    color: var(--lumo-base-color);
  }

  /* Disabled state. Keep selectors after other color variants. */

  :host([disabled]) {
    pointer-events: none;
    color: var(--lumo-disabled-text-color);
  }

  :host([theme~='primary'][disabled]) {
    background-color: var(--lumo-contrast-30pct);
    color: var(--lumo-base-color);
  }

  :host([theme~='primary'][disabled]) [part] {
    opacity: 0.7;
  }

  /* Icons */

  [part] ::slotted(vaadin-icon) {
    display: inline-block;
    width: var(--lumo-icon-size-m);
    height: var(--lumo-icon-size-m);
  }

  /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
  [part] ::slotted(vaadin-icon[icon^='vaadin:']) {
    padding: 0.25em;
    box-sizing: border-box !important;
  }

  [part='prefix'] {
    margin-left: -0.25em;
    margin-right: 0.25em;
  }

  [part='suffix'] {
    margin-left: 0.25em;
    margin-right: -0.25em;
  }

  /* Icon-only */

  :host([theme~='icon']:not([theme~='tertiary-inline'])) {
    min-width: var(--lumo-button-size);
    padding-left: calc(var(--lumo-button-size) / 4);
    padding-right: calc(var(--lumo-button-size) / 4);
  }

  :host([theme~='icon']) [part='prefix'],
  :host([theme~='icon']) [part='suffix'] {
    margin-left: 0;
    margin-right: 0;
  }

  /* RTL specific styles */

  :host([dir='rtl']) [part='prefix'] {
    margin-left: 0.25em;
    margin-right: -0.25em;
  }

  :host([dir='rtl']) [part='suffix'] {
    margin-left: -0.25em;
    margin-right: 0.25em;
  }

  :host([dir='rtl'][theme~='icon']) [part='prefix'],
  :host([dir='rtl'][theme~='icon']) [part='suffix'] {
    margin-left: 0;
    margin-right: 0;
  }
`;ht("vaadin-button",sv,{moduleId:"lumo-button"});const $1=Q`
  :host {
    width: var(--lumo-size-l);
    height: var(--lumo-size-l);
    min-width: auto;
    margin: 0 var(--lumo-space-s);
    padding: 0;
    background: transparent;
  }

  [part='icon'],
  [part='icon']::after,
  [part='icon']::before {
    position: inherit;
    height: auto;
    width: auto;
    background: transparent;
    top: auto;
  }

  [part='icon']::before {
    font-family: lumo-icons;
    font-size: var(--lumo-icon-size-m);
    content: var(--lumo-icons-menu);
  }

  :host([slot~='navbar']) {
    color: var(--lumo-secondary-text-color);
  }
`;ht("vaadin-drawer-toggle",[sv,$1],{moduleId:"lumo-drawer-toggle"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function z1(r){const e=[];for(;r;){if(r.nodeType===Node.DOCUMENT_NODE){e.push(r);break}if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){e.push(r),r=r.host;continue}if(r.assignedSlot){r=r.assignedSlot;continue}r=r.parentNode}return e}function lv(r){return r?new Set(r.split(" ")):new Set}function uv(r){return[...r].join(" ")}function hv(r,e,t){const n=lv(r.getAttribute(e));n.add(t),r.setAttribute(e,uv(n))}function cv(r,e,t){const n=lv(r.getAttribute(e));if(n.delete(t),n.size===0){r.removeAttribute(e);return}r.setAttribute(e,uv(n))}function fv(r){return r.nodeType===Node.TEXT_NODE&&r.textContent.trim()===""}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let B1=0;function Hh(){return B1++}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class sr extends EventTarget{static generateId(e,t){return`${t||"default"}-${e.localName}-${Hh()}`}constructor(e,t,n,i={}){super();const{initializer:o,multiple:a,observe:s,useUniqueId:l}=i;this.host=e,this.slotName=t,this.tagName=n,this.observe=typeof s=="boolean"?s:!0,this.multiple=typeof a=="boolean"?a:!1,this.slotInitializer=o,a&&(this.nodes=[]),l&&(this.defaultId=this.constructor.generateId(e,t))}hostConnected(){this.initialized||(this.multiple?this.initMultiple():this.initSingle(),this.observe&&this.observeSlot(),this.initialized=!0)}initSingle(){let e=this.getSlotChild();e?(this.node=e,this.initAddedNode(e)):(e=this.attachDefaultNode(),this.initNode(e))}initMultiple(){const e=this.getSlotChildren();if(e.length===0){const t=this.attachDefaultNode();this.nodes=[t],this.initNode(t)}else this.nodes=e,e.forEach(t=>{this.initAddedNode(t)})}attachDefaultNode(){const{host:e,slotName:t,tagName:n}=this;let i=this.defaultNode;return!i&&n&&(i=document.createElement(n),i instanceof Element&&(t!==""&&i.setAttribute("slot",t),this.node=i,this.defaultNode=i)),i&&e.appendChild(i),i}getSlotChildren(){const{slotName:e}=this;return Array.from(this.host.childNodes).filter(t=>t.nodeType===Node.ELEMENT_NODE&&t.slot===e||t.nodeType===Node.TEXT_NODE&&t.textContent.trim()&&e==="")}getSlotChild(){return this.getSlotChildren()[0]}initNode(e){const{slotInitializer:t}=this;t&&t(e,this.host)}initCustomNode(e){}teardownNode(e){}initAddedNode(e){e!==this.defaultNode&&(this.initCustomNode(e),this.initNode(e))}observeSlot(){const{slotName:e}=this,t=e===""?"slot:not([name])":`slot[name=${e}]`,n=this.host.shadowRoot.querySelector(t);this.__slotObserver=new gn(n,i=>{const o=this.multiple?this.nodes:[this.node],a=i.addedNodes.filter(s=>!fv(s)&&!o.includes(s));i.removedNodes.length&&i.removedNodes.forEach(s=>{this.teardownNode(s)}),a&&a.length>0&&(o.forEach(s=>{s&&s.isConnected&&s.parentNode.removeChild(s)}),this.multiple?(this.nodes=a,a.forEach(s=>{this.initAddedNode(s)})):(this.node=a[0],this.initAddedNode(this.node)))})}}/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Wh extends sr{constructor(e){super(e,"tooltip"),this.setTarget(e)}initCustomNode(e){e.target=this.target,this.context!==void 0&&(e.context=this.context),this.manual!==void 0&&(e.manual=this.manual),this.opened!==void 0&&(e.opened=this.opened),this.position!==void 0&&(e._position=this.position),this.shouldShow!==void 0&&(e.shouldShow=this.shouldShow)}setContext(e){this.context=e;const t=this.node;t&&(t.context=e)}setManual(e){this.manual=e;const t=this.node;t&&(t.manual=e)}setOpened(e){this.opened=e;const t=this.node;t&&(t.opened=e)}setPosition(e){this.position=e;const t=this.node;t&&(t._position=e)}setShouldShow(e){this.shouldShow=e;const t=this.node;t&&(t.shouldShow=e)}setTarget(e){this.target=e;const t=this.node;t&&(t.target=e)}}/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const G1=Q`
  :host {
    display: inline-block;
    position: relative;
    outline: none;
    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  :host([hidden]) {
    display: none !important;
  }

  /* Aligns the button with form fields when placed on the same line.
  Note, to make it work, the form fields should have the same "::before" pseudo-element. */
  .vaadin-button-container::before {
    content: '\\2003';
    display: inline-block;
    width: 0;
    max-height: 100%;
  }

  .vaadin-button-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    width: 100%;
    height: 100%;
    min-height: inherit;
    text-shadow: inherit;
  }

  [part='prefix'],
  [part='suffix'] {
    flex: none;
  }

  [part='label'] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,U1=r=>r`
  <div class="vaadin-button-container">
    <span part="prefix" aria-hidden="true">
      <slot name="prefix"></slot>
    </span>
    <span part="label">
      <slot></slot>
    </span>
    <span part="suffix" aria-hidden="true">
      <slot name="suffix"></slot>
    </span>
  </div>
  <slot name="tooltip"></slot>
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const dv=Ot(r=>class extends r{static get properties(){return{disabled:{type:Boolean,value:!1,observer:"_disabledChanged",reflectToAttribute:!0}}}_disabledChanged(t){this._setAriaDisabled(t)}_setAriaDisabled(t){t?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")}click(){this.disabled||super.click()}});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Y1=!1,j1=r=>r,Vh=typeof document.head.style.touchAction=="string",Da="__polymerGestures",pl="__polymerGesturesHandled",Ql="__polymerGesturesTouchAction",df=25,pf=5,H1=2,W1=["mousedown","mousemove","mouseup","click"],V1=[0,1,4,2],q1=function(){try{return new MouseEvent("test",{buttons:1}).buttons===1}catch{return!1}}();function qh(r){return W1.indexOf(r)>-1}let pv=!1;(function(){try{const r=Object.defineProperty({},"passive",{get(){pv=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{}})();function _v(r){if(!(qh(r)||r==="touchend")&&Vh&&pv&&Y1)return{passive:!0}}const X1=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/u),K1={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function kr(r){const e=r.type;if(!qh(e))return!1;if(e==="mousemove"){let n=r.buttons===void 0?1:r.buttons;return r instanceof window.MouseEvent&&!q1&&(n=V1[r.which]||0),Boolean(n&1)}return(r.button===void 0?0:r.button)===0}function Z1(r){if(r.type==="click"){if(r.detail===0)return!0;const e=dr(r);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;const t=e.getBoundingClientRect(),n=r.pageX,i=r.pageY;return!(n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom)}return!1}const Ge={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Q1(r){let e="auto";const t=yv(r);for(let n=0,i;n<t.length;n++)if(i=t[n],i[Ql]){e=i[Ql];break}return e}function vv(r,e,t){r.movefn=e,r.upfn=t,document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)}function bn(r){document.removeEventListener("mousemove",r.movefn),document.removeEventListener("mouseup",r.upfn),r.movefn=null,r.upfn=null}const yv=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:r=>r.composedPath&&r.composedPath()||[],Xi={},Ar=[];function J1(r,e){let t=document.elementFromPoint(r,e),n=t;for(;n&&n.shadowRoot&&!window.ShadyDOM;){const i=n;if(n=n.shadowRoot.elementFromPoint(r,e),i===n)break;n&&(t=n)}return t}function dr(r){const e=yv(r);return e.length>0?e[0]:r.target}function gv(r){const e=r.type,n=r.currentTarget[Da];if(!n)return;const i=n[e];if(!i)return;if(!r[pl]&&(r[pl]={},e.startsWith("touch"))){const a=r.changedTouches[0];if(e==="touchstart"&&r.touches.length===1&&(Ge.touch.id=a.identifier),Ge.touch.id!==a.identifier)return;Vh||(e==="touchstart"||e==="touchmove")&&tb(r)}const o=r[pl];if(!o.skip){for(let a=0,s;a<Ar.length;a++)s=Ar[a],i[s.name]&&!o[s.name]&&s.flow&&s.flow.start.indexOf(r.type)>-1&&s.reset&&s.reset();for(let a=0,s;a<Ar.length;a++)s=Ar[a],i[s.name]&&!o[s.name]&&(o[s.name]=!0,s[e](r))}}function tb(r){const e=r.changedTouches[0],t=r.type;if(t==="touchstart")Ge.touch.x=e.clientX,Ge.touch.y=e.clientY,Ge.touch.scrollDecided=!1;else if(t==="touchmove"){if(Ge.touch.scrollDecided)return;Ge.touch.scrollDecided=!0;const n=Q1(r);let i=!1;const o=Math.abs(Ge.touch.x-e.clientX),a=Math.abs(Ge.touch.y-e.clientY);r.cancelable&&(n==="none"?i=!0:n==="pan-x"?i=a>o:n==="pan-y"&&(i=o>a)),i?r.preventDefault():La("track")}}function me(r,e,t){return Xi[e]?(eb(r,e,t),!0):!1}function hN(r,e,t){return Xi[e]?(rb(r,e,t),!0):!1}function eb(r,e,t){const n=Xi[e],i=n.deps,o=n.name;let a=r[Da];a||(r[Da]=a={});for(let s=0,l,u;s<i.length;s++)l=i[s],!(X1&&qh(l)&&l!=="click")&&(u=a[l],u||(a[l]=u={_count:0}),u._count===0&&r.addEventListener(l,gv,_v(l)),u[o]=(u[o]||0)+1,u._count=(u._count||0)+1);r.addEventListener(e,t),n.touchAction&&mv(r,n.touchAction)}function rb(r,e,t){const n=Xi[e],i=n.deps,o=n.name,a=r[Da];if(a)for(let s=0,l,u;s<i.length;s++)l=i[s],u=a[l],u&&u[o]&&(u[o]=(u[o]||1)-1,u._count=(u._count||1)-1,u._count===0&&r.removeEventListener(l,gv,_v(l)));r.removeEventListener(e,t)}function Xh(r){Ar.push(r),r.emits.forEach(e=>{Xi[e]=r})}function nb(r){for(let e=0,t;e<Ar.length;e++){t=Ar[e];for(let n=0,i;n<t.emits.length;n++)if(i=t.emits[n],i===r)return t}return null}function mv(r,e){Vh&&r instanceof HTMLElement&&rv.run(()=>{r.style.touchAction=e}),r[Ql]=e}function Kh(r,e,t){const n=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(n.detail=t,j1(r).dispatchEvent(n),n.defaultPrevented){const i=t.preventer||t.sourceEvent;i&&i.preventDefault&&i.preventDefault()}}function La(r){const e=nb(r);e.info&&(e.info.prevent=!0)}Xh({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset(){bn(this.info)},mousedown(r){if(!kr(r))return;const e=dr(r),t=this,n=o=>{kr(o)||(ii("up",e,o),bn(t.info))},i=o=>{kr(o)&&ii("up",e,o),bn(t.info)};vv(this.info,n,i),ii("down",e,r)},touchstart(r){ii("down",dr(r),r.changedTouches[0],r)},touchend(r){ii("up",dr(r),r.changedTouches[0],r)}});function ii(r,e,t,n){e&&Kh(e,r,{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:n,prevent(i){return La(i)}})}Xh({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove(r){this.moves.length>H1&&this.moves.shift(),this.moves.push(r)},movefn:null,upfn:null,prevent:!1},reset(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,bn(this.info)},mousedown(r){if(!kr(r))return;const e=dr(r),t=this,n=o=>{const a=o.clientX,s=o.clientY;_f(t.info,a,s)&&(t.info.state=t.info.started?o.type==="mouseup"?"end":"track":"start",t.info.state==="start"&&La("tap"),t.info.addMove({x:a,y:s}),kr(o)||(t.info.state="end",bn(t.info)),e&&_l(t.info,e,o),t.info.started=!0)},i=o=>{t.info.started&&n(o),bn(t.info)};vv(this.info,n,i),this.info.x=r.clientX,this.info.y=r.clientY},touchstart(r){const e=r.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove(r){const e=dr(r),t=r.changedTouches[0],n=t.clientX,i=t.clientY;_f(this.info,n,i)&&(this.info.state==="start"&&La("tap"),this.info.addMove({x:n,y:i}),_l(this.info,e,t),this.info.state="track",this.info.started=!0)},touchend(r){const e=dr(r),t=r.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:t.clientX,y:t.clientY}),_l(this.info,e,t))}});function _f(r,e,t){if(r.prevent)return!1;if(r.started)return!0;const n=Math.abs(r.x-e),i=Math.abs(r.y-t);return n>=pf||i>=pf}function _l(r,e,t){if(!e)return;const n=r.moves[r.moves.length-2],i=r.moves[r.moves.length-1],o=i.x-r.x,a=i.y-r.y;let s,l=0;n&&(s=i.x-n.x,l=i.y-n.y),Kh(e,"track",{state:r.state,x:t.clientX,y:t.clientY,dx:o,dy:a,ddx:s,ddy:l,sourceEvent:t,hover(){return J1(t.clientX,t.clientY)}})}Xh({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown(r){kr(r)&&(this.info.x=r.clientX,this.info.y=r.clientY)},click(r){kr(r)&&vf(this.info,r)},touchstart(r){const e=r.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend(r){vf(this.info,r.changedTouches[0],r)}});function vf(r,e,t){const n=Math.abs(e.clientX-r.x),i=Math.abs(e.clientY-r.y),o=dr(t||e);!o||K1[o.localName]&&o.hasAttribute("disabled")||(isNaN(n)||isNaN(i)||n<=df&&i<=df||Z1(e))&&(r.prevent||Kh(o,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:t}))}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zs=Ot(r=>class extends r{ready(){super.ready(),this.addEventListener("keydown",t=>{this._onKeyDown(t)}),this.addEventListener("keyup",t=>{this._onKeyUp(t)})}_onKeyDown(t){switch(t.key){case"Enter":this._onEnter(t);break;case"Escape":this._onEscape(t);break}}_onKeyUp(t){}_onEnter(t){}_onEscape(t){}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ib=r=>class extends dv(zs(r)){get _activeKeys(){return[" "]}ready(){super.ready(),me(this,"down",t=>{this._shouldSetActive(t)&&this._setActive(!0)}),me(this,"up",()=>{this._setActive(!1)})}disconnectedCallback(){super.disconnectedCallback(),this._setActive(!1)}_shouldSetActive(t){return!this.disabled}_onKeyDown(t){super._onKeyDown(t),this._shouldSetActive(t)&&this._activeKeys.includes(t.key)&&(this._setActive(!0),document.addEventListener("keyup",n=>{this._activeKeys.includes(n.key)&&this._setActive(!1)},{once:!0}))}_setActive(t){this.toggleAttribute("active",t)}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ki=Ot(r=>class extends r{get _keyboardActive(){return nv()}ready(){this.addEventListener("focusin",t=>{this._shouldSetFocus(t)&&this._setFocused(!0)}),this.addEventListener("focusout",t=>{this._shouldRemoveFocus(t)&&this._setFocused(!1)}),super.ready()}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(t){this.toggleAttribute("focused",t),this.toggleAttribute("focus-ring",t&&this._keyboardActive)}_shouldSetFocus(t){return!0}_shouldRemoveFocus(t){return!0}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const bv=r=>class extends dv(r){static get properties(){return{tabindex:{type:Number,reflectToAttribute:!0,observer:"_tabindexChanged"},_lastTabIndex:{type:Number}}}_disabledChanged(t,n){super._disabledChanged(t,n),t?(this.tabindex!==void 0&&(this._lastTabIndex=this.tabindex),this.tabindex=-1):n&&(this.tabindex=this._lastTabIndex)}_tabindexChanged(t){this.disabled&&t!==-1&&(this._lastTabIndex=t,this.tabindex=-1)}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ob=r=>class extends ib(bv(Ki(r))){static get properties(){return{tabindex:{type:Number,value:0,reflectToAttribute:!0}}}get _activeKeys(){return["Enter"," "]}ready(){super.ready(),this.hasAttribute("role")||this.setAttribute("role","button")}_onKeyDown(t){super._onKeyDown(t),this._activeKeys.includes(t.key)&&(t.preventDefault(),this.click())}};/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-button",G1,{moduleId:"vaadin-button-styles"});class Jl extends ob(Ie(ie(mr(Ft)))){static get is(){return"vaadin-button"}static get template(){return U1(Dt)}ready(){super.ready(),this._tooltipController=new Wh(this),this.addController(this._tooltipController)}}customElements.define(Jl.is,Jl);/**
 * @license
 * Copyright (c) 2018 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-drawer-toggle",Q`
    :host {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: default;
      position: relative;
      outline: none;
      height: 24px;
      width: 24px;
      padding: 4px;
    }

    [part='icon'],
    [part='icon']::after,
    [part='icon']::before {
      position: absolute;
      top: 8px;
      height: 3px;
      width: 24px;
      background-color: #000;
    }

    [part='icon']::after,
    [part='icon']::before {
      content: '';
    }

    [part='icon']::after {
      top: 6px;
    }

    [part='icon']::before {
      top: 12px;
    }
  `,{moduleId:"vaadin-drawer-toggle-styles"});class yf extends Jl{static get template(){return Dt`
      <slot id="slot">
        <div part="icon"></div>
      </slot>
      <div part="icon" hidden$="[[!_showFallbackIcon]]"></div>
      <slot name="tooltip"></slot>
    `}static get is(){return"vaadin-drawer-toggle"}static get properties(){return{ariaLabel:{type:String,value:"Toggle navigation panel",reflectToAttribute:!0},_showFallbackIcon:{type:Boolean,value:!1}}}constructor(){super(),this.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("drawer-toggle-click",{bubbles:!0,composed:!0}))})}ready(){super.ready(),this._observer=new gn(this,()=>{this._toggleFallbackIcon()})}_toggleFallbackIcon(){const e=this.$.slot.assignedNodes();this._showFallbackIcon=e.length>0&&e.every(t=>fv(t))}}customElements.define(yf.is,yf);ht("vaadin-input-container",Q`
    :host {
      background-color: var(--lumo-contrast-10pct);
      padding: 0 calc(0.375em + var(--_input-container-radius) / 4 - 1px);
      font-weight: 500;
      line-height: 1;
      position: relative;
      cursor: text;
      box-sizing: border-box;
      border-radius:
        /* See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius#syntax */
        var(--vaadin-input-field-top-start-radius, var(--_input-container-radius))
        var(--vaadin-input-field-top-end-radius, var(--_input-container-radius))
        var(--vaadin-input-field-bottom-end-radius, var(--_input-container-radius))
        var(--vaadin-input-field-bottom-start-radius, var(--_input-container-radius));
      /* Fallback */
      --_input-container-radius: var(--vaadin-input-field-border-radius, var(--lumo-border-radius-m));
    }

    :host([dir='rtl']) {
      border-radius:
        /* Don't use logical props, see https://github.com/vaadin/vaadin-time-picker/issues/145 */
        var(--vaadin-input-field-top-end-radius, var(--_input-container-radius))
        var(--vaadin-input-field-top-start-radius, var(--_input-container-radius))
        var(--vaadin-input-field-bottom-start-radius, var(--_input-container-radius))
        var(--vaadin-input-field-bottom-end-radius, var(--_input-container-radius));
    }

    /* Used for hover and activation effects */
    :host::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      border-radius: inherit;
      pointer-events: none;
      background-color: var(--lumo-contrast-50pct);
      opacity: 0;
      transition: transform 0.15s, opacity 0.2s;
      transform-origin: 100% 0;
    }

    ::slotted(:not([slot$='fix'])) {
      cursor: inherit;
      min-height: var(--lumo-text-field-size, var(--lumo-size-m));
      padding: 0 0.25em;
      --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
      -webkit-mask-image: var(--_lumo-text-field-overflow-mask-image);
      mask-image: var(--_lumo-text-field-overflow-mask-image);
    }

    /* Read-only */
    :host([readonly]) {
      color: var(--lumo-secondary-text-color);
      background-color: transparent;
      cursor: default;
    }

    :host([readonly])::after {
      background-color: transparent;
      opacity: 1;
      border: 1px dashed var(--lumo-contrast-30pct);
    }

    /* Disabled */
    :host([disabled]) {
      background-color: var(--lumo-contrast-5pct);
    }

    :host([disabled]) ::slotted(*) {
      color: var(--lumo-disabled-text-color);
      -webkit-text-fill-color: var(--lumo-disabled-text-color);
    }

    /* Invalid */
    :host([invalid]) {
      background-color: var(--lumo-error-color-10pct);
    }

    :host([invalid])::after {
      background-color: var(--lumo-error-color-50pct);
    }

    /* Slotted icons */
    ::slotted(vaadin-icon) {
      color: var(--lumo-contrast-60pct);
      width: var(--lumo-icon-size-m);
      height: var(--lumo-icon-size-m);
    }

    /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
    ::slotted(vaadin-icon[icon^='vaadin:']) {
      padding: 0.25em;
      box-sizing: border-box !important;
    }

    /* Text align */
    :host([dir='rtl']) ::slotted(:not([slot$='fix'])) {
      --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent, #000 1.25em);
    }

    @-moz-document url-prefix() {
      :host([dir='rtl']) ::slotted(:not([slot$='fix'])) {
        mask-image: var(--_lumo-text-field-overflow-mask-image);
      }
    }

    :host([theme~='align-left']) ::slotted(:not([slot$='fix'])) {
      text-align: start;
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-center']) ::slotted(:not([slot$='fix'])) {
      text-align: center;
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-right']) ::slotted(:not([slot$='fix'])) {
      text-align: end;
      --_lumo-text-field-overflow-mask-image: none;
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-right']) ::slotted(:not([slot$='fix'])) {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);
      }
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-left']) ::slotted(:not([slot$='fix'])) {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent 0.25em, #000 1.5em);
      }
    }

    /* RTL specific styles */
    :host([dir='rtl'])::after {
      transform-origin: 0% 0;
    }

    :host([theme~='align-left'][dir='rtl']) ::slotted(:not([slot$='fix'])) {
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-center'][dir='rtl']) ::slotted(:not([slot$='fix'])) {
      --_lumo-text-field-overflow-mask-image: none;
    }

    :host([theme~='align-right'][dir='rtl']) ::slotted(:not([slot$='fix'])) {
      --_lumo-text-field-overflow-mask-image: none;
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-right'][dir='rtl']) ::slotted(:not([slot$='fix'])) {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to right, transparent 0.25em, #000 1.5em);
      }
    }

    @-moz-document url-prefix() {
      /* Firefox is smart enough to align overflowing text to right */
      :host([theme~='align-left'][dir='rtl']) ::slotted(:not([slot$='fix'])) {
        --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent 0.25em, #000 1.5em);
      }
    }
  `,{moduleId:"lumo-input-container"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class gf extends ie($s(Ft)){static get is(){return"vaadin-input-container"}static get template(){return Dt`
      <style>
        :host {
          display: flex;
          align-items: center;
          flex: 0 1 auto;
          border-radius:
            /* See https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius */
            var(--vaadin-input-field-top-start-radius, var(--__border-radius))
            var(--vaadin-input-field-top-end-radius, var(--__border-radius))
            var(--vaadin-input-field-bottom-end-radius, var(--__border-radius))
            var(--vaadin-input-field-bottom-start-radius, var(--__border-radius));
          --_border-radius: var(--vaadin-input-field-border-radius, 0px);
        }

        :host([dir='rtl']) {
          border-radius:
            /* Don't use logical props, see https://github.com/vaadin/vaadin-time-picker/issues/145 */
            var(--vaadin-input-field-top-end-radius, var(--_border-radius))
            var(--vaadin-input-field-top-start-radius, var(--_border-radius))
            var(--vaadin-input-field-bottom-start-radius, var(--_border-radius))
            var(--vaadin-input-field-bottom-end-radius, var(--_border-radius));
        }

        :host([hidden]) {
          display: none !important;
        }

        /* Reset the native input styles */
        ::slotted(input) {
          -webkit-appearance: none;
          -moz-appearance: none;
          flex: auto;
          white-space: nowrap;
          overflow: hidden;
          width: 100%;
          height: 100%;
          outline: none;
          margin: 0;
          padding: 0;
          border: 0;
          border-radius: 0;
          min-width: 0;
          font: inherit;
          line-height: normal;
          color: inherit;
          background-color: transparent;
          /* Disable default invalid style in Firefox */
          box-shadow: none;
        }

        ::slotted(*) {
          flex: none;
        }

        ::slotted(:is(input, textarea))::placeholder {
          /* Use ::slotted(input:placeholder-shown) in themes to style the placeholder. */
          /* because ::slotted(...)::placeholder does not work in Safari. */
          font: inherit;
          color: inherit;
          /* Override default opacity in Firefox */
          opacity: 1;
        }
      </style>
      <slot name="prefix"></slot>
      <slot></slot>
      <slot name="suffix"></slot>
    `}static get properties(){return{disabled:{type:Boolean,reflectToAttribute:!0},readonly:{type:Boolean,reflectToAttribute:!0},invalid:{type:Boolean,reflectToAttribute:!0}}}ready(){super.ready(),this.addEventListener("pointerdown",e=>{e.target===this&&e.preventDefault()}),this.addEventListener("click",e=>{e.target===this&&this.shadowRoot.querySelector("slot:not([name])").assignedNodes({flatten:!0}).forEach(t=>t.focus&&t.focus())})}}customElements.define(gf.is,gf);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Bs=Q`
  :host {
    top: var(--lumo-space-m);
    right: var(--lumo-space-m);
    bottom: var(--lumo-space-m);
    left: var(--lumo-space-m);
    /* Workaround for Edge issue (only on Surface), where an overflowing vaadin-list-box inside vaadin-select-overlay makes the overlay transparent */
    /* stylelint-disable-next-line */
    outline: 0px solid transparent;
  }

  [part='overlay'] {
    background-color: var(--lumo-base-color);
    background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
    border-radius: var(--lumo-border-radius-m);
    box-shadow: 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-m);
    color: var(--lumo-body-text-color);
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    font-weight: 400;
    line-height: var(--lumo-line-height-m);
    letter-spacing: 0;
    text-transform: none;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  [part='content'] {
    padding: var(--lumo-space-xs);
  }

  [part='backdrop'] {
    background-color: var(--lumo-shade-20pct);
    animation: 0.2s lumo-overlay-backdrop-enter both;
    will-change: opacity;
  }

  @keyframes lumo-overlay-backdrop-enter {
    0% {
      opacity: 0;
    }
  }

  :host([closing]) [part='backdrop'] {
    animation: 0.2s lumo-overlay-backdrop-exit both;
  }

  @keyframes lumo-overlay-backdrop-exit {
    100% {
      opacity: 0;
    }
  }

  @keyframes lumo-overlay-dummy-animation {
    0% {
      opacity: 1;
    }

    100% {
      opacity: 1;
    }
  }
`;ht("",Bs,{moduleId:"lumo-overlay"});ht("vaadin-overlay",Bs,{moduleId:"lumo-vaadin-overlay"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function ab(r){if(window.Vaadin&&window.Vaadin.templateRendererCallback){window.Vaadin.templateRendererCallback(r);return}r.querySelector("template")&&console.warn(`WARNING: <template> inside <${r.localName}> is no longer supported. Import @vaadin/polymer-legacy-adapter/template-renderer.js to enable compatibility.`)}/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class be extends ie($s(mr(Ft))){static get template(){return Dt`
      <style>
        :host {
          z-index: 200;
          position: fixed;

          /* Despite of what the names say, <vaadin-overlay> is just a container
          for position/sizing/alignment. The actual overlay is the overlay part. */

          /* Default position constraints: the entire viewport. Note: themes can
          override this to introduce gaps between the overlay and the viewport. */
          top: 0;
          right: 0;
          bottom: var(--vaadin-overlay-viewport-bottom);
          left: 0;

          /* Use flexbox alignment for the overlay part. */
          display: flex;
          flex-direction: column; /* makes dropdowns sizing easier */
          /* Align to center by default. */
          align-items: center;
          justify-content: center;

          /* Allow centering when max-width/max-height applies. */
          margin: auto;

          /* The host is not clickable, only the overlay part is. */
          pointer-events: none;

          /* Remove tap highlight on touch devices. */
          -webkit-tap-highlight-color: transparent;

          /* CSS API for host */
          --vaadin-overlay-viewport-bottom: 0;
        }

        :host([hidden]),
        :host(:not([opened]):not([closing])) {
          display: none !important;
        }

        [part='overlay'] {
          -webkit-overflow-scrolling: touch;
          overflow: auto;
          pointer-events: auto;

          /* Prevent overflowing the host in MSIE 11 */
          max-width: 100%;
          box-sizing: border-box;

          -webkit-tap-highlight-color: initial; /* reenable tap highlight inside */
        }

        [part='backdrop'] {
          z-index: -1;
          content: '';
          background: rgba(0, 0, 0, 0.5);
          position: fixed;
          top: 0;
          left: 0;
          bottom: 0;
          right: 0;
          pointer-events: auto;
        }
      </style>

      <div id="backdrop" part="backdrop" hidden$="[[!withBackdrop]]"></div>
      <div part="overlay" id="overlay" tabindex="0">
        <div part="content" id="content">
          <slot></slot>
        </div>
      </div>
    `}static get is(){return"vaadin-overlay"}static get properties(){return{opened:{type:Boolean,notify:!0,observer:"_openedChanged",reflectToAttribute:!0},owner:Element,renderer:Function,withBackdrop:{type:Boolean,value:!1,reflectToAttribute:!0},model:Object,modeless:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_modelessChanged"},hidden:{type:Boolean,reflectToAttribute:!0,observer:"_hiddenChanged"},focusTrap:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!1},restoreFocusNode:{type:HTMLElement},_mouseDownInside:{type:Boolean},_mouseUpInside:{type:Boolean},_oldOwner:Element,_oldModel:Object,_oldRenderer:Object,_oldOpened:Boolean}}static get observers(){return["_rendererOrDataChanged(renderer, owner, model, opened)"]}static get __attachedInstances(){return Array.from(document.body.children).filter(e=>e instanceof be&&!e.hasAttribute("closing")).sort((e,t)=>e.__zIndex-t.__zIndex||0)}constructor(){super(),this._boundMouseDownListener=this._mouseDownListener.bind(this),this._boundMouseUpListener=this._mouseUpListener.bind(this),this._boundOutsideClickListener=this._outsideClickListener.bind(this),this._boundKeydownListener=this._keydownListener.bind(this),Nh&&(this._boundIosResizeListener=()=>this._detectIosNavbar()),this.__focusTrapController=new av(this)}get _last(){return this===be.__attachedInstances.pop()}ready(){super.ready(),this.addEventListener("click",()=>{}),this.$.backdrop.addEventListener("click",()=>{}),this.addController(this.__focusTrapController),ab(this)}_detectIosNavbar(){if(!this.opened)return;const e=window.innerHeight,n=window.innerWidth>e,i=document.documentElement.clientHeight;n&&i>e?this.style.setProperty("--vaadin-overlay-viewport-bottom",`${i-e}px`):this.style.setProperty("--vaadin-overlay-viewport-bottom","0")}close(e){const t=new CustomEvent("vaadin-overlay-close",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),t.defaultPrevented||(this.opened=!1)}connectedCallback(){super.connectedCallback(),this._boundIosResizeListener&&(this._detectIosNavbar(),window.addEventListener("resize",this._boundIosResizeListener))}disconnectedCallback(){super.disconnectedCallback(),this._boundIosResizeListener&&window.removeEventListener("resize",this._boundIosResizeListener)}requestContentUpdate(){this.renderer&&this.renderer.call(this.owner,this,this.owner,this.model)}_mouseDownListener(e){this._mouseDownInside=e.composedPath().indexOf(this.$.overlay)>=0}_mouseUpListener(e){this._mouseUpInside=e.composedPath().indexOf(this.$.overlay)>=0}_shouldCloseOnOutsideClick(e){return this._last}_outsideClickListener(e){if(e.composedPath().includes(this.$.overlay)||this._mouseDownInside||this._mouseUpInside){this._mouseDownInside=!1,this._mouseUpInside=!1;return}if(!this._shouldCloseOnOutsideClick(e))return;const t=new CustomEvent("vaadin-overlay-outside-click",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),this.opened&&!t.defaultPrevented&&this.close(e)}_keydownListener(e){if(this._last&&!(this.modeless&&!e.composedPath().includes(this.$.overlay))&&e.key==="Escape"){const t=new CustomEvent("vaadin-overlay-escape-press",{bubbles:!0,cancelable:!0,detail:{sourceEvent:e}});this.dispatchEvent(t),this.opened&&!t.defaultPrevented&&this.close(e)}}_openedChanged(e,t){e?(this.__restoreFocusNode=this._getActiveElement(),this._animatedOpening(),ks(this,()=>{this.focusTrap&&this.__focusTrapController.trapFocus(this.$.overlay);const n=new CustomEvent("vaadin-overlay-open",{bubbles:!0});this.dispatchEvent(n)}),document.addEventListener("keydown",this._boundKeydownListener),this.modeless||this._addGlobalListeners()):t&&(this.focusTrap&&this.__focusTrapController.releaseFocus(),this._animatedClosing(),document.removeEventListener("keydown",this._boundKeydownListener),this.modeless||this._removeGlobalListeners())}_hiddenChanged(e){e&&this.hasAttribute("closing")&&this._flushAnimation("closing")}_shouldAnimate(){const e=getComputedStyle(this),t=e.getPropertyValue("animation-name");return!(e.getPropertyValue("display")==="none")&&t&&t!=="none"}_enqueueAnimation(e,t){const n=`__${e}Handler`,i=o=>{o&&o.target!==this||(t(),this.removeEventListener("animationend",i),delete this[n])};this[n]=i,this.addEventListener("animationend",i)}_flushAnimation(e){const t=`__${e}Handler`;typeof this[t]=="function"&&this[t]()}_animatedOpening(){this.parentNode===document.body&&this.hasAttribute("closing")&&this._flushAnimation("closing"),this._attachOverlay(),this.modeless||this._enterModalState(),this.setAttribute("opening",""),this._shouldAnimate()?this._enqueueAnimation("opening",()=>{this._finishOpening()}):this._finishOpening()}_attachOverlay(){this._placeholder=document.createComment("vaadin-overlay-placeholder"),this.parentNode.insertBefore(this._placeholder,this),document.body.appendChild(this),this.bringToFront()}_finishOpening(){this.removeAttribute("opening")}_finishClosing(){this._detachOverlay(),this.$.overlay.style.removeProperty("pointer-events"),this.removeAttribute("closing"),this.dispatchEvent(new CustomEvent("vaadin-overlay-closed"))}_animatedClosing(){if(this.hasAttribute("opening")&&this._flushAnimation("opening"),this._placeholder){this._exitModalState();const e=this.restoreFocusNode||this.__restoreFocusNode;if(this.restoreFocusOnClose&&e){const t=this._getActiveElement();(t===document.body||this._deepContains(t))&&setTimeout(()=>e.focus()),this.__restoreFocusNode=null}this.setAttribute("closing",""),this.dispatchEvent(new CustomEvent("vaadin-overlay-closing")),this._shouldAnimate()?this._enqueueAnimation("closing",()=>{this._finishClosing()}):this._finishClosing()}}_detachOverlay(){this._placeholder.parentNode.insertBefore(this,this._placeholder),this._placeholder.parentNode.removeChild(this._placeholder)}_modelessChanged(e){e?(this._removeGlobalListeners(),this._exitModalState()):this.opened&&(this._addGlobalListeners(),this._enterModalState())}_addGlobalListeners(){document.addEventListener("mousedown",this._boundMouseDownListener),document.addEventListener("mouseup",this._boundMouseUpListener),document.documentElement.addEventListener("click",this._boundOutsideClickListener,!0)}_enterModalState(){document.body.style.pointerEvents!=="none"&&(this._previousDocumentPointerEvents=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),be.__attachedInstances.forEach(e=>{e!==this&&(e.shadowRoot.querySelector('[part="overlay"]').style.pointerEvents="none")})}_removeGlobalListeners(){document.removeEventListener("mousedown",this._boundMouseDownListener),document.removeEventListener("mouseup",this._boundMouseUpListener),document.documentElement.removeEventListener("click",this._boundOutsideClickListener,!0)}_exitModalState(){this._previousDocumentPointerEvents!==void 0&&(document.body.style.pointerEvents=this._previousDocumentPointerEvents,delete this._previousDocumentPointerEvents);const e=be.__attachedInstances;let t;for(;(t=e.pop())&&!(t!==this&&(t.shadowRoot.querySelector('[part="overlay"]').style.removeProperty("pointer-events"),!t.modeless)););}_rendererOrDataChanged(e,t,n,i){const o=this._oldOwner!==t||this._oldModel!==n;this._oldModel=n,this._oldOwner=t;const a=this._oldRenderer!==e;this._oldRenderer=e;const s=this._oldOpened!==i;this._oldOpened=i,a&&(this.innerHTML="",delete this._$litPart$),i&&e&&(a||s||o)&&this.requestContentUpdate()}_getActiveElement(){let e=document.activeElement||document.body;for(;e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}_deepContains(e){if(this.contains(e))return!0;let t=e;const n=e.ownerDocument;for(;t&&t!==n&&t!==this;)t=t.parentNode||t.host;return t===this}bringToFront(){let e="";const t=be.__attachedInstances.filter(n=>n!==this).pop();t&&(e=t.__zIndex+1),this.style.zIndex=e,this.__zIndex=e||parseFloat(getComputedStyle(this).zIndex)}}customElements.define(be.is,be);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const wv=Q`
  :host([opening]),
  :host([closing]) {
    animation: 0.14s lumo-overlay-dummy-animation;
  }

  [part='overlay'] {
    will-change: opacity, transform;
  }

  :host([opening]) [part='overlay'] {
    animation: 0.1s lumo-menu-overlay-enter ease-out both;
  }

  @keyframes lumo-menu-overlay-enter {
    0% {
      opacity: 0;
      transform: translateY(-4px);
    }
  }

  :host([closing]) [part='overlay'] {
    animation: 0.1s lumo-menu-overlay-exit both;
  }

  @keyframes lumo-menu-overlay-exit {
    100% {
      opacity: 0;
    }
  }
`;ht("",wv,{moduleId:"lumo-menu-overlay-core"});const sb=Q`
  /* Small viewport (bottom sheet) styles */
  /* Use direct media queries instead of the state attributes ([phone] and [fullscreen]) provided by the elements */
  @media (max-width: 420px), (max-height: 420px) {
    :host {
      top: 0 !important;
      right: 0 !important;
      bottom: var(--vaadin-overlay-viewport-bottom, 0) !important;
      left: 0 !important;
      align-items: stretch !important;
      justify-content: flex-end !important;
    }

    [part='overlay'] {
      max-height: 50vh;
      width: 100vw;
      border-radius: 0;
      box-shadow: var(--lumo-box-shadow-xl);
    }

    /* The content part scrolls instead of the overlay part, because of the gradient fade-out */
    [part='content'] {
      padding: 30px var(--lumo-space-m);
      max-height: inherit;
      box-sizing: border-box;
      -webkit-overflow-scrolling: touch;
      overflow: auto;
      -webkit-mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
      mask-image: linear-gradient(transparent, #000 40px, #000 calc(100% - 40px), transparent);
    }

    [part='backdrop'] {
      display: block;
    }

    /* Animations */

    :host([opening]) [part='overlay'] {
      animation: 0.2s lumo-mobile-menu-overlay-enter cubic-bezier(0.215, 0.61, 0.355, 1) both;
    }

    :host([closing]),
    :host([closing]) [part='backdrop'] {
      animation-delay: 0.14s;
    }

    :host([closing]) [part='overlay'] {
      animation: 0.14s 0.14s lumo-mobile-menu-overlay-exit cubic-bezier(0.55, 0.055, 0.675, 0.19) both;
    }
  }

  @keyframes lumo-mobile-menu-overlay-enter {
    0% {
      transform: translateY(150%);
    }
  }

  @keyframes lumo-mobile-menu-overlay-exit {
    100% {
      transform: translateY(150%);
    }
  }
`,xv=[Bs,wv,sb];ht("",xv,{moduleId:"lumo-menu-overlay"});const lb=Q`
  [part='overlay'] {
    /*
  Width:
      date cell widths
    + month calendar side padding
    + year scroller width
  */
    /* prettier-ignore */
    width:
    calc(
        var(--lumo-size-m) * 7
      + var(--lumo-space-xs) * 2
      + 57px
    );
    height: 100%;
    max-height: calc(var(--lumo-size-m) * 14);
    overflow: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  [part='overlay'] {
    flex-direction: column;
  }

  [part='content'] {
    padding: 0;
    height: 100%;
    overflow: hidden;
    -webkit-mask-image: none;
    mask-image: none;
  }

  :host([top-aligned]) [part~='overlay'] {
    margin-top: var(--lumo-space-xs);
  }

  :host([bottom-aligned]) [part~='overlay'] {
    margin-bottom: var(--lumo-space-xs);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay'] {
      width: 100vw;
      height: 70vh;
      max-height: 70vh;
    }
  }
`;ht("vaadin-date-picker-overlay",[xv,lb],{moduleId:"lumo-date-picker-overlay"});ht("vaadin-date-picker-year",Q`
    :host([current]) [part='year-number'] {
      color: var(--lumo-primary-text-color);
    }

    :host(:not([current])) [part='year-number'],
    [part='year-separator'] {
      opacity: var(--_lumo-date-picker-year-opacity, 0.7);
      transition: 0.2s opacity;
    }

    [part='year-number'],
    [part='year-separator'] {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 50%;
      transform: translateY(-50%);
    }

    [part='year-separator']::after {
      color: var(--lumo-disabled-text-color);
      content: '\\2022';
    }
  `,{moduleId:"lumo-date-picker-year"});ht("vaadin-date-picker-overlay-content",Q`
    :host {
      position: relative;
      /* Background for the year scroller, placed here as we are using a mask image on the actual years part */
      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));
      background-size: 57px 100%;
      background-position: top right;
      background-repeat: no-repeat;
      cursor: default;
    }

    ::slotted([slot='months']) {
      /* Month calendar height:
              header height + margin-bottom
            + weekdays height + margin-bottom
            + date cell heights
            + small margin between month calendars
        */
      /* prettier-ignore */
      --vaadin-infinite-scroller-item-height:
          calc(
              var(--lumo-font-size-l) + var(--lumo-space-m)
            + var(--lumo-font-size-xs) + var(--lumo-space-s)
            + var(--lumo-size-m) * 6
            + var(--lumo-space-s)
          );
      --vaadin-infinite-scroller-buffer-offset: 10%;
      -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);
      position: relative;
      margin-right: 57px;
    }

    ::slotted([slot='years']) {
      /* TODO get rid of fixed magic number */
      --vaadin-infinite-scroller-buffer-width: 97px;
      width: 57px;
      height: auto;
      top: 0;
      bottom: 0;
      font-size: var(--lumo-font-size-s);
      box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);
      -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);
      cursor: var(--lumo-clickable-cursor);
    }

    ::slotted([slot='years']:hover) {
      --_lumo-date-picker-year-opacity: 1;
    }

    /* TODO unsupported selector */
    #scrollers {
      position: static;
      display: block;
    }

    /* TODO fix this in vaadin-date-picker that it adapts to the width of the year scroller */
    :host([desktop]) ::slotted([slot='months']) {
      right: auto;
    }

    /* Year scroller position indicator */
    ::slotted([slot='years'])::before {
      border: none;
      width: 1em;
      height: 1em;
      background-color: var(--lumo-base-color);
      background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));
      transform: translate(-75%, -50%) rotate(45deg);
      border-top-right-radius: var(--lumo-border-radius-s);
      box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);
      z-index: 1;
    }

    [part='toolbar'] {
      padding: var(--lumo-space-s);
      border-bottom-left-radius: var(--lumo-border-radius-l);
      margin-right: 57px;
    }

    [part='toolbar'] ::slotted(vaadin-button) {
      margin: 0;
    }

    /* Narrow viewport mode (fullscreen) */

    :host([fullscreen]) [part='toolbar'] {
      order: -1;
      background-color: var(--lumo-base-color);
    }

    :host([fullscreen]) [part='overlay-header'] {
      order: -2;
      height: var(--lumo-size-m);
      padding: var(--lumo-space-s);
      position: absolute;
      left: 0;
      right: 0;
      justify-content: center;
    }

    :host([fullscreen]) [part='toggle-button'],
    :host([fullscreen]) [part='clear-button'],
    [part='overlay-header'] [part='label'] {
      display: none;
    }

    /* Very narrow screen (year scroller initially hidden) */

    [part='years-toggle-button'] {
      display: flex;
      align-items: center;
      height: var(--lumo-size-s);
      padding: 0 0.5em;
      border-radius: var(--lumo-border-radius-m);
      z-index: 3;
      color: var(--lumo-primary-text-color);
      font-weight: 500;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    :host([years-visible]) [part='years-toggle-button'] {
      background-color: var(--lumo-primary-color);
      color: var(--lumo-primary-contrast-color);
    }

    /* TODO magic number (same as used for media-query in vaadin-date-picker-overlay-content) */
    @media screen and (max-width: 374px) {
      :host {
        background-image: none;
      }

      [part='toolbar'],
      ::slotted([slot='months']) {
        margin-right: 0;
      }

      /* TODO make date-picker adapt to the width of the years part */
      ::slotted([slot='years']) {
        --vaadin-infinite-scroller-buffer-width: 90px;
        width: 50px;
        background-color: var(--lumo-shade-5pct);
      }

      :host([years-visible]) ::slotted([slot='months']) {
        padding-left: 50px;
      }
    }
  `,{moduleId:"lumo-date-picker-overlay-content"});ht("vaadin-month-calendar",Q`
    :host {
      -moz-user-select: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      font-size: var(--lumo-font-size-m);
      color: var(--lumo-body-text-color);
      text-align: center;
      padding: 0 var(--lumo-space-xs);
    }

    /* Month header */

    [part='month-header'] {
      color: var(--lumo-header-text-color);
      font-size: var(--lumo-font-size-l);
      line-height: 1;
      font-weight: 500;
      margin-bottom: var(--lumo-space-m);
    }

    /* Week days and numbers */

    [part='weekdays'],
    [part='weekday'],
    [part='week-number'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      color: var(--lumo-secondary-text-color);
    }

    [part='weekdays'] {
      margin-bottom: var(--lumo-space-s);
    }

    [part='weekday']:empty,
    [part='week-number'] {
      width: var(--lumo-size-xs);
    }

    /* Date and week number cells */

    [part~='date'],
    [part='week-number'] {
      box-sizing: border-box;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: var(--lumo-size-m);
      position: relative;
    }

    [part~='date'] {
      transition: color 0.1s;
    }

    [part~='date']:not(:empty) {
      cursor: var(--lumo-clickable-cursor);
    }

    :host([week-numbers]) [part='weekday']:not(:empty),
    :host([week-numbers]) [part~='date'] {
      width: calc((100% - var(--lumo-size-xs)) / 7);
    }

    /* Today date */

    [part~='date'][part~='today'] {
      color: var(--lumo-primary-text-color);
    }

    /* Focused date */

    [part~='date']::before {
      content: '';
      position: absolute;
      z-index: -1;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      min-width: 2em;
      min-height: 2em;
      width: 80%;
      height: 80%;
      max-height: 100%;
      max-width: 100%;
      border-radius: var(--lumo-border-radius-m);
    }

    [part~='date'][part~='focused']::before {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px var(--lumo-primary-color-50pct);
    }

    :host(:not([focused])) [part~='date'][part~='focused']::before {
      animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;
    }

    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 3px transparent;
      }
    }

    [part~='date']:not(:empty):not([part~='disabled']):not([part~='selected']):hover::before {
      background-color: var(--lumo-primary-color-10pct);
    }

    [part~='date'][part~='selected'] {
      color: var(--lumo-primary-contrast-color);
    }

    [part~='date'][part~='selected']::before {
      background-color: var(--lumo-primary-color);
    }

    [part~='date'][part~='disabled'] {
      color: var(--lumo-disabled-text-color);
    }

    @media (pointer: coarse) {
      [part~='date']:hover:not([part~='selected'])::before,
      [part~='focused']:not([part~='selected'])::before {
        display: none;
      }

      [part~='date']:not(:empty):not([part~='disabled']):active::before {
        display: block;
      }

      [part~='date'][part~='selected']::before {
        box-shadow: none;
      }
    }

    /* Disabled */

    :host([disabled]) * {
      color: var(--lumo-disabled-text-color) !important;
    }
  `,{moduleId:"lumo-month-calendar"});const Ev=document.createElement("template");Ev.innerHTML=`
  <style>
    @keyframes vaadin-date-picker-month-calendar-focus-date {
      50% {
        box-shadow: 0 0 0 2px transparent;
      }
    }
  </style>
`;document.head.appendChild(Ev.content);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Tv=Q`
  [part$='button'] {
    flex: none;
    width: 1em;
    height: 1em;
    line-height: 1;
    font-size: var(--lumo-icon-size-m);
    text-align: center;
    color: var(--lumo-contrast-60pct);
    transition: 0.2s color;
    cursor: var(--lumo-clickable-cursor);
  }

  [part$='button']:hover {
    color: var(--lumo-contrast-90pct);
  }

  :host([disabled]) [part$='button'],
  :host([readonly]) [part$='button'] {
    color: var(--lumo-contrast-20pct);
    cursor: default;
  }

  [part$='button']::before {
    font-family: 'lumo-icons';
    display: block;
  }
`;ht("",Tv,{moduleId:"lumo-field-button"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ub=Q`
  :host([has-helper]) [part='helper-text']::before {
    content: '';
    display: block;
    height: 0.4em;
  }

  [part='helper-text'] {
    display: block;
    color: var(--lumo-secondary-text-color);
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-xs);
    margin-left: calc(var(--lumo-border-radius-m) / 4);
    transition: color 0.2s;
  }

  :host(:hover:not([readonly])) [part='helper-text'] {
    color: var(--lumo-body-text-color);
  }

  :host([disabled]) [part='helper-text'] {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  :host([has-helper][theme~='helper-above-field']) [part='helper-text']::before {
    display: none;
  }

  :host([has-helper][theme~='helper-above-field']) [part='helper-text']::after {
    content: '';
    display: block;
    height: 0.4em;
  }

  :host([has-helper][theme~='helper-above-field']) [part='label'] {
    order: 0;
    padding-bottom: 0.4em;
  }

  :host([has-helper][theme~='helper-above-field']) [part='helper-text'] {
    order: 1;
  }

  :host([has-helper][theme~='helper-above-field']) [part='label'] + * {
    order: 2;
  }

  :host([has-helper][theme~='helper-above-field']) [part='error-message'] {
    order: 3;
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Cv=Q`
  [part='label'] {
    align-self: flex-start;
    color: var(--lumo-secondary-text-color);
    font-weight: 500;
    font-size: var(--lumo-font-size-s);
    margin-left: calc(var(--lumo-border-radius-m) / 4);
    transition: color 0.2s;
    line-height: 1;
    padding-right: 1em;
    padding-bottom: 0.5em;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    position: relative;
    max-width: 100%;
    box-sizing: border-box;
  }

  :host([has-label])::before {
    margin-top: calc(var(--lumo-font-size-s) * 1.5);
  }

  :host([has-label][theme~='small'])::before {
    margin-top: calc(var(--lumo-font-size-xs) * 1.5);
  }

  :host([has-label]) {
    padding-top: var(--lumo-space-m);
  }

  :host([has-label]) ::slotted([slot='tooltip']) {
    --vaadin-tooltip-offset-bottom: calc((var(--lumo-space-m) - var(--lumo-space-xs)) * -1);
  }

  :host([required]) [part='required-indicator']::after {
    content: var(--lumo-required-field-indicator, '\\2022');
    transition: opacity 0.2s;
    color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));
    position: absolute;
    right: 0;
    width: 1em;
    text-align: center;
  }

  :host([invalid]) [part='required-indicator']::after {
    color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));
  }

  [part='error-message'] {
    margin-left: calc(var(--lumo-border-radius-m) / 4);
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-xs);
    color: var(--lumo-error-text-color);
    will-change: max-height;
    transition: 0.4s max-height;
    max-height: 5em;
  }

  :host([has-error-message]) [part='error-message']::before,
  :host([has-error-message]) [part='error-message']::after {
    content: '';
    display: block;
    height: 0.4em;
  }

  :host(:not([invalid])) [part='error-message'] {
    max-height: 0;
    overflow: hidden;
  }

  /* RTL specific styles */

  :host([dir='rtl']) [part='label'] {
    margin-left: 0;
    margin-right: calc(var(--lumo-border-radius-m) / 4);
  }

  :host([dir='rtl']) [part='label'] {
    padding-left: 1em;
    padding-right: 0;
  }

  :host([dir='rtl']) [part='required-indicator']::after {
    right: auto;
    left: 0;
  }

  :host([dir='rtl']) [part='error-message'] {
    margin-left: 0;
    margin-right: calc(var(--lumo-border-radius-m) / 4);
  }
`;ht("",Cv,{moduleId:"lumo-required-field"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const hb=Q`
  :host {
    --lumo-text-field-size: var(--lumo-size-m);
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-m);
    font-family: var(--lumo-font-family);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    padding: var(--lumo-space-xs) 0;
  }

  :host::before {
    height: var(--lumo-text-field-size);
    box-sizing: border-box;
    display: inline-flex;
    align-items: center;
  }

  :host([focused]:not([readonly])) [part='label'] {
    color: var(--lumo-primary-text-color);
  }

  :host([focused]) [part='input-field'] ::slotted(:is(input, textarea)) {
    -webkit-mask-image: none;
    mask-image: none;
  }

  ::slotted(:is(input, textarea):placeholder-shown) {
    color: var(--lumo-secondary-text-color);
  }

  /* Hover */
  :host(:hover:not([readonly]):not([focused])) [part='label'] {
    color: var(--lumo-body-text-color);
  }

  :host(:hover:not([readonly]):not([focused])) [part='input-field']::after {
    opacity: 0.1;
  }

  /* Touch device adjustment */
  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused])) [part='label'] {
      color: var(--lumo-secondary-text-color);
    }

    :host(:hover:not([readonly]):not([focused])) [part='input-field']::after {
      opacity: 0;
    }

    :host(:active:not([readonly]):not([focused])) [part='input-field']::after {
      opacity: 0.2;
    }
  }

  /* Trigger when not focusing using the keyboard */
  :host([focused]:not([focus-ring]):not([readonly])) [part='input-field']::after {
    transform: scaleX(0);
    transition-duration: 0.15s, 1s;
  }

  /* Focus-ring */
  :host([focus-ring]) [part='input-field'] {
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  /* Read-only and disabled */
  :host(:is([readonly], [disabled])) ::slotted(:is(input, textarea):placeholder-shown) {
    opacity: 0;
  }

  /* Disabled style */
  :host([disabled]) {
    pointer-events: none;
  }

  :host([disabled]) [part='label'],
  :host([disabled]) [part='input-field'] ::slotted(*) {
    color: var(--lumo-disabled-text-color);
    -webkit-text-fill-color: var(--lumo-disabled-text-color);
  }

  /* Invalid style */
  :host([invalid][focus-ring]) [part='input-field'] {
    box-shadow: 0 0 0 2px var(--lumo-error-color-50pct);
  }

  :host([input-prevented]) [part='input-field'] {
    animation: shake 0.15s infinite;
  }

  @keyframes shake {
    25% {
      transform: translateX(4px);
    }
    75% {
      transform: translateX(-4px);
    }
  }

  /* Small theme */
  :host([theme~='small']) {
    font-size: var(--lumo-font-size-s);
    --lumo-text-field-size: var(--lumo-size-s);
  }

  :host([theme~='small']) [part='label'] {
    font-size: var(--lumo-font-size-xs);
  }

  :host([theme~='small']) [part='error-message'] {
    font-size: var(--lumo-font-size-xxs);
  }

  /* Slotted content */
  [part='input-field'] ::slotted(:not(vaadin-icon):not(input):not(textarea)) {
    color: var(--lumo-secondary-text-color);
    font-weight: 400;
  }

  [part='clear-button']::before {
    content: var(--lumo-icons-cross);
  }
`,Zh=[Cv,Tv,ub,hb];ht("",Zh,{moduleId:"lumo-input-field-shared-styles"});const cb=Q`
  :host {
    outline: none;
  }

  [part='toggle-button']::before {
    content: var(--lumo-icons-calendar);
  }

  [part='clear-button']::before {
    content: var(--lumo-icons-cross);
  }

  @media (max-width: 420px), (max-height: 420px) {
    [part='overlay-content'] {
      height: 70vh;
    }
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input) {
    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);
  }

  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {
    --_lumo-text-field-overflow-mask-image: none;
  }
`;ht("vaadin-date-picker",[Zh,cb],{moduleId:"lumo-date-picker"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const vl={start:"top",end:"bottom"},yl={start:"left",end:"right"},mf=new ResizeObserver(r=>{setTimeout(()=>{r.forEach(e=>{e.target.__overlay&&e.target.__overlay._updatePosition()})})}),Ov=r=>class extends r{static get properties(){return{positionTarget:{type:Object,value:null},horizontalAlign:{type:String,value:"start"},verticalAlign:{type:String,value:"top"},noHorizontalOverlap:{type:Boolean,value:!1},noVerticalOverlap:{type:Boolean,value:!1},requiredVerticalSpace:{type:Number,value:0}}}static get observers(){return["__positionSettingsChanged(horizontalAlign, verticalAlign, noHorizontalOverlap, noVerticalOverlap, requiredVerticalSpace)","__overlayOpenedChanged(opened, positionTarget)"]}constructor(){super(),this.__onScroll=this.__onScroll.bind(this),this._updatePosition=this._updatePosition.bind(this)}connectedCallback(){super.connectedCallback(),this.opened&&this.__addUpdatePositionEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.__removeUpdatePositionEventListeners()}__addUpdatePositionEventListeners(){window.addEventListener("resize",this._updatePosition),this.__positionTargetAncestorRootNodes=z1(this.positionTarget),this.__positionTargetAncestorRootNodes.forEach(t=>{t.addEventListener("scroll",this.__onScroll,!0)})}__removeUpdatePositionEventListeners(){window.removeEventListener("resize",this._updatePosition),this.__positionTargetAncestorRootNodes&&(this.__positionTargetAncestorRootNodes.forEach(t=>{t.removeEventListener("scroll",this.__onScroll,!0)}),this.__positionTargetAncestorRootNodes=null)}__overlayOpenedChanged(t,n){if(this.__removeUpdatePositionEventListeners(),n&&(n.__overlay=null,mf.unobserve(n),t&&(this.__addUpdatePositionEventListeners(),n.__overlay=this,mf.observe(n))),t){const i=getComputedStyle(this);this.__margins||(this.__margins={},["top","bottom","left","right"].forEach(o=>{this.__margins[o]=parseInt(i[o],10)})),this.setAttribute("dir",i.direction),this._updatePosition(),requestAnimationFrame(()=>this._updatePosition())}}__positionSettingsChanged(){this._updatePosition()}__onScroll(t){this.contains(t.target)||this._updatePosition()}_updatePosition(){if(!this.positionTarget||!this.opened)return;const t=this.positionTarget.getBoundingClientRect(),n=this.__shouldAlignStartVertically(t);this.style.justifyContent=n?"flex-start":"flex-end";const i=this.__isRTL,o=this.__shouldAlignStartHorizontally(t,i),a=!i&&o||i&&!o;this.style.alignItems=a?"flex-start":"flex-end";const s=this.getBoundingClientRect(),l=this.__calculatePositionInOneDimension(t,s,this.noVerticalOverlap,vl,this,n),u=this.__calculatePositionInOneDimension(t,s,this.noHorizontalOverlap,yl,this,o);Object.assign(this.style,l,u),this.toggleAttribute("bottom-aligned",!n),this.toggleAttribute("top-aligned",n),this.toggleAttribute("end-aligned",!a),this.toggleAttribute("start-aligned",a)}__shouldAlignStartHorizontally(t,n){const i=Math.max(this.__oldContentWidth||0,this.$.overlay.offsetWidth);this.__oldContentWidth=this.$.overlay.offsetWidth;const o=Math.min(window.innerWidth,document.documentElement.clientWidth),a=!n&&this.horizontalAlign==="start"||n&&this.horizontalAlign==="end";return this.__shouldAlignStart(t,i,o,this.__margins,a,this.noHorizontalOverlap,yl)}__shouldAlignStartVertically(t){const n=this.requiredVerticalSpace||Math.max(this.__oldContentHeight||0,this.$.overlay.offsetHeight);this.__oldContentHeight=this.$.overlay.offsetHeight;const i=Math.min(window.innerHeight,document.documentElement.clientHeight),o=this.verticalAlign==="top";return this.__shouldAlignStart(t,n,i,this.__margins,o,this.noVerticalOverlap,vl)}__shouldAlignStart(t,n,i,o,a,s,l){const u=i-t[s?l.end:l.start]-o[l.end],h=t[s?l.start:l.end]-o[l.start],c=a?u:h,d=c>(a?h:u)||c>n;return a===d}__adjustBottomProperty(t,n,i){let o;if(t===n.end){if(n.end===vl.end){const a=Math.min(window.innerHeight,document.documentElement.clientHeight);if(i>a&&this.__oldViewportHeight){const s=this.__oldViewportHeight-a;o=i-s}this.__oldViewportHeight=a}if(n.end===yl.end){const a=Math.min(window.innerWidth,document.documentElement.clientWidth);if(i>a&&this.__oldViewportWidth){const s=this.__oldViewportWidth-a;o=i-s}this.__oldViewportWidth=a}}return o}__calculatePositionInOneDimension(t,n,i,o,a,s){const l=s?o.start:o.end,u=s?o.end:o.start,h=parseFloat(a.style[l]||getComputedStyle(a)[l]),c=this.__adjustBottomProperty(l,o,h),f=n[s?o.start:o.end]-t[i===s?o.end:o.start],d=c?`${c}px`:`${h+f*(s?-1:1)}px`;return{[l]:d,[u]:""}}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-date-picker-overlay",Q`
    [part='overlay'] {
      display: flex;
      flex: auto;
    }

    [part~='content'] {
      flex: auto;
    }
  `,{moduleId:"vaadin-date-picker-overlay-styles"});let xo;class bf extends Ov(be){static get is(){return"vaadin-date-picker-overlay"}static get template(){return xo||(xo=super.template.cloneNode(!0),xo.content.querySelector('[part~="overlay"]').removeAttribute("tabindex")),xo}}customElements.define(bf.is,bf);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Qh(r,e,t,n,i){let o;i&&(o=typeof t=="object"&&t!==null,o&&(n=r.__dataTemp[e]));let a=n!==t&&(n===n||t===t);return o&&a&&(r.__dataTemp[e]=t),a}const Jh=Ot(r=>{class e extends r{_shouldPropertyChange(n,i,o){return Qh(this,n,i,o,!0)}}return e}),fb=Ot(r=>{class e extends r{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(n,i,o){return Qh(this,n,i,o,this.mutableData)}}return e});Jh._mutablePropertyChange=Qh;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let tu=null;function eu(){return tu}eu.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:eu,writable:!0}});const Mv=Yh(eu),db=Jh(Mv);function pb(r,e){tu=r,Object.setPrototypeOf(r,e.prototype),new e,tu=null}const _b=Yh(class{});function vb(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(Boolean(r)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)r?(n.__polymerTextContent__=n.textContent,n.textContent=""):n.textContent=n.__polymerTextContent__;else if(n.localName==="slot")if(r)n.__polymerReplaced__=document.createComment("hidden-slot"),vt(vt(n).parentNode).replaceChild(n.__polymerReplaced__,n);else{const i=n.__polymerReplaced__;i&&vt(vt(i).parentNode).replaceChild(n,i)}else n.style&&(r?(n.__polymerDisplay__=n.style.display,n.style.display="none"):n.style.display=n.__polymerDisplay__);n.__hideTemplateChildren__=r,n._showHideChildren&&n._showHideChildren(r)}}class br extends _b{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let i=this.root.firstChild;i;i=i.nextSibling)t.push(i),i.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(e&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let n in this.__hostProps)this._setPendingProperty(n,this.__dataHost["_host_"+n]);for(let n in e)this._setPendingProperty(n,e[n])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,i=>{i.model=this,n(i)});else{let i=this.__dataHost.__dataHost;i&&i._addEventListenerToNode(e,t,n)}}_showHideChildren(e){vb(e,this.children)}_setUnmanagedPropertyToNode(e,t,n){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&t=="textContent"?e.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(e,t,n)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do e=e.__dataHost.__dataHost;while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}br.prototype.__dataHost;br.prototype.__templatizeOptions;br.prototype._methodHost;br.prototype.__templatizeOwner;br.prototype.__hostProps;const yb=Jh(br);function wf(r){let e=r.__dataHost;return e&&e._methodHost||e}function gb(r,e,t){let n=t.mutableData?yb:br;ru.mixin&&(n=ru.mixin(n));let i=class extends n{};return i.prototype.__templatizeOptions=t,i.prototype._bindTemplate(r),wb(i,r,e,t),i}function mb(r,e,t,n){let i=t.forwardHostProp;if(i&&e.hasHostProps){const o=r.localName=="template";let a=e.templatizeTemplateClass;if(!a){if(o){let l=t.mutableData?db:Mv;class u extends l{}a=e.templatizeTemplateClass=u}else{const l=r.constructor;class u extends l{}a=e.templatizeTemplateClass=u}let s=e.hostProps;for(let l in s)a.prototype._addPropertyEffect("_host_"+l,a.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:bb(l,i)}),a.prototype._createNotifyingProperty("_host_"+l);L_&&n&&Tb(e,t,n)}if(r.__dataProto&&Object.assign(r.__data,r.__dataProto),o)pb(r,a),r.__dataTemp={},r.__dataPending=null,r.__dataOld=null,r._enableProperties();else{Object.setPrototypeOf(r,a.prototype);const s=e.hostProps;for(let l in s)if(l="_host_"+l,l in r){const u=r[l];delete r[l],r.__data[l]=u}}}}function bb(r,e){return function(n,i,o){e.call(n.__templatizeOwner,i.substring(6),o[i])}}function wb(r,e,t,n){let i=t.hostProps||{};for(let o in n.instanceProps){delete i[o];let a=n.notifyInstanceProp;a&&r.prototype._addPropertyEffect(o,r.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:xb(o,a)})}if(n.forwardHostProp&&e.__dataHost)for(let o in i)t.hasHostProps||(t.hasHostProps=!0),r.prototype._addPropertyEffect(o,r.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:Eb()})}function xb(r,e){return function(n,i,o){e.call(n.__templatizeOwner,n,i,o[i])}}function Eb(){return function(e,t,n){e.__dataHost._setPendingPropertyOrPath("_host_"+t,n[t],!0,!0)}}function ru(r,e,t){if(Ia&&!wf(r))throw new Error("strictTemplatePolicy: template owner not trusted");if(t=t||{},r.__templatizeOwner)throw new Error("A <template> can only be templatized once");r.__templatizeOwner=e;let i=(e?e.constructor:br)._parseTemplate(r),o=i.templatizeInstanceClass;o||(o=gb(r,i,t),i.templatizeInstanceClass=o);const a=wf(r);mb(r,i,t,a);let s=class extends o{};return s.prototype._methodHost=a,s.prototype.__dataHost=r,s.prototype.__templatizeOwner=e,s.prototype.__hostProps=i.hostProps,s=s,s}function Tb(r,e,t){const n=t.constructor._properties,{propertyEffects:i}=r,{instanceProps:o}=e;for(let a in i)if(!n[a]&&!(o&&o[a])){const s=i[a];for(let l=0;l<s.length;l++){const{part:u}=s[l].info;if(!(u.signature&&u.signature.static)){console.warn(`Property '${a}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}function Cb(r,e){let t;for(;e;)if(t=e.__dataHost?e:e.__templatizeInstance)if(t.__dataHost!=r)e=t.__dataHost;else return t;else e=vt(e).parentNode;return null}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class Na{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,Li.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Li.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}static debounce(e,t,n){return e instanceof Na?e._cancelAsync():e=new Na,e.setConfig(t,n),e}}let Li=new Set;const Ob=function(r){Li.add(r)},Mb=function(){const r=Boolean(Li.size);return Li.forEach(e=>{try{e.flush()}catch(t){setTimeout(()=>{throw t})}}),r};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Pv=function(){let r,e;do r=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=Mb();while(r||e)};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let xf=!1;function Pb(){if(D_&&!A_){if(!xf){xf=!0;const r=document.createElement("style");r.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(r)}return!0}return!1}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Sb=fb(Ft);class Ef extends Sb{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!jc,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),Pb()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=vt(vt(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let i=new MutationObserver(()=>{if(this.querySelector("template"))i.disconnect(),this.__render();else throw new Error("dom-repeat requires a <template> child")});return i.observe(this,{childList:!0}),!1}let n={};n[this.as]=!0,n[this.indexAs]=!0,n[this.itemsIndexAs]=!0,this.__ctor=ru(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:n,forwardHostProp:function(i,o){let a=this.__instances;for(let s=0,l;s<a.length&&(l=a[s]);s++)l.forwardHostProp(i,o)},notifyInstanceProp:function(i,o,a){if(_0(this.as,o)){let s=i[this.itemsIndexAs];o==this.as&&(this.items[s]=a);let l=Ii(this.as,`${JSCompiler_renameProperty("items",this)}.${s}`,o);this.notifyPath(l,a)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if(typeof e=="string"){let t=e,n=this.__getMethodHost();return function(){return n[t].apply(n,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn){if(!e)this.__debounceRender(this.__render,this.delay);else if(this.__observePaths){let t=this.__observePaths;for(let n=0;n<t.length;n++)e.indexOf(t[n])===0&&this.__debounceRender(this.__render,this.delay)}}}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||(e.path==="items"&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e,t=0){this.__renderDebouncer=Na.debounce(this.__renderDebouncer,t>0?Xm.after(t):Fh,e.bind(this)),Ob(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Pv()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),n=this.__calculateLimit(t.length);this.__updateInstances(e,n,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame(()=>{this.__chunkingId=null,this.__continueChunking()})),this._setRenderedItemCount(this.__instances.length),(!jc||this.notifyDomChange)&&this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=n;return this.__filterFn&&(t=t.filter((n,i,o)=>this.__filterFn(e[n],i,o))),this.__sortFn&&t.sort((n,i)=>this.__sortFn(e[n],e[i])),t}__calculateLimit(e){let t=e;const n=this.__instances.length;if(this.initialCount){let i;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),i=Math.max(t-n,0),this.__chunkCount=i||1):(i=Math.min(Math.max(e-n,0),this.__chunkCount),t=Math.min(n+i,e)),this.__shouldMeasureChunk=i===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,n){const i=this.__itemsIdxToInstIdx={};let o;for(o=0;o<t;o++){let a=this.__instances[o],s=n[o],l=e[s];i[s]=o,a?(a._setPendingProperty(this.as,l),a._setPendingProperty(this.indexAs,o),a._setPendingProperty(this.itemsIndexAs,s),a._flushProperties()):this.__insertInstance(l,o,s)}for(let a=this.__instances.length-1;a>=o;a--)this.__detachAndRemoveInstance(a)}__detachInstance(e){let t=this.__instances[e];const n=vt(t.root);for(let i=0;i<t.children.length;i++){let o=t.children[i];n.appendChild(o)}return t}__attachInstance(e,t){let n=this.__instances[e];t.insertBefore(n.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,n){let i={};return i[this.as]=e,i[this.indexAs]=t,i[this.itemsIndexAs]=n,new this.__ctor(i)}__insertInstance(e,t,n){const i=this.__stampInstance(e,t,n);let o=this.__instances[t+1],a=o?o.children[0]:this;return vt(vt(this).parentNode).insertBefore(i.root,a),this.__instances[t]=i,i}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let n=e.slice(6),i=n.indexOf("."),o=i<0?n:n.substring(0,i);if(o==parseInt(o,10)){let a=i<0?"":n.substring(i+1);this.__handleObservedPaths(a);let s=this.__itemsIdxToInstIdx[o],l=this.__instances[s];if(l){let u=this.as+(a?"."+a:"");l._setPendingPropertyOrPath(u,t,!1,!0),l._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return Cb(this.template,e)}}customElements.define(Ef.is,Ef);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function Ib(r){let e=r.getDay();e===0&&(e=7);const t=4-e,n=new Date(r.getTime()+t*24*3600*1e3),i=new Date(0,0);i.setFullYear(n.getFullYear());const o=n.getTime()-i.getTime(),a=Math.round(o/(24*3600*1e3));return Math.floor(a/7+1)}function Ue(r,e){return r instanceof Date&&e instanceof Date&&r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()}function Ci(r,e,t){return(!e||r>=e)&&(!t||r<=t)}function Sv(r,e){return e.filter(t=>t!==void 0).reduce((t,n)=>{if(!n)return t;if(!t)return n;const i=Math.abs(r.getTime()-n.getTime()),o=Math.abs(t.getTime()-r.getTime());return i<o?n:t})}function tc(r){return{day:r.getDate(),month:r.getMonth(),year:r.getFullYear()}}function Iv(r){const e=new Date,t=new Date(e);return t.setDate(1),t.setMonth(parseInt(r)+e.getMonth()),t}function Rb(r,e,t=0,n=1){if(e>99)throw new Error("The provided year cannot have more than 2 digits.");if(e<0)throw new Error("The provided year cannot be negative.");let i=e+Math.floor(r.getFullYear()/100)*100;return r<new Date(i-50,t,n)?i-=100:r>new Date(i+50,t,n)&&(i+=100),i}function an(r){const e=/^([-+]\d{1}|\d{2,4}|[-+]\d{6})-(\d{1,2})-(\d{1,2})$/u.exec(r);if(!e)return;const t=new Date(0,0);return t.setFullYear(parseInt(e[1],10)),t.setMonth(parseInt(e[2],10)-1),t.setDate(parseInt(e[3],10)),t}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Tf extends Ki(ie(Ft)){static get template(){return Dt`
      <style>
        :host {
          display: block;
        }

        #monthGrid {
          width: 100%;
          border-collapse: collapse;
        }

        #days-container tr,
        #weekdays-container tr {
          display: flex;
        }

        [part~='date'] {
          outline: none;
        }

        [part~='disabled'] {
          pointer-events: none;
        }

        [part='week-number'][hidden],
        [part='weekday'][hidden] {
          display: none;
        }

        [part='weekday'],
        [part~='date'] {
          width: calc(100% / 7);
          padding: 0;
          font-weight: normal;
        }

        [part='weekday']:empty,
        [part='week-number'] {
          width: 12.5%;
          flex-shrink: 0;
          padding: 0;
        }

        :host([week-numbers]) [part='weekday']:not(:empty),
        :host([week-numbers]) [part~='date'] {
          width: 12.5%;
        }
      </style>

      <div part="month-header" id="month-header" aria-hidden="true">[[_getTitle(month, i18n.monthNames)]]</div>
      <table
        id="monthGrid"
        role="grid"
        aria-labelledby="month-header"
        on-touchend="_preventDefault"
        on-touchstart="_onMonthGridTouchStart"
      >
        <thead id="weekdays-container">
          <tr role="row" part="weekdays">
            <th
              part="weekday"
              aria-hidden="true"
              hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]"
            ></th>
            <template
              is="dom-repeat"
              items="[[_getWeekDayNames(i18n.weekdays, i18n.weekdaysShort, showWeekNumbers, i18n.firstDayOfWeek)]]"
            >
              <th role="columnheader" part="weekday" scope="col" abbr$="[[item.weekDay]]" aria-hidden="true">
                [[item.weekDayShort]]
              </th>
            </template>
          </tr>
        </thead>
        <tbody id="days-container">
          <template is="dom-repeat" items="[[_weeks]]" as="week">
            <tr role="row">
              <td
                part="week-number"
                aria-hidden="true"
                hidden$="[[!_showWeekSeparator(showWeekNumbers, i18n.firstDayOfWeek)]]"
              >
                [[__getWeekNumber(week)]]
              </td>
              <template is="dom-repeat" items="[[week]]">
                <td
                  role="gridcell"
                  part$="[[__getDatePart(item, focusedDate, selectedDate, minDate, maxDate)]]"
                  date="[[item]]"
                  tabindex$="[[__getDayTabindex(item, focusedDate)]]"
                  disabled$="[[__isDayDisabled(item, minDate, maxDate)]]"
                  aria-selected$="[[__getDayAriaSelected(item, selectedDate)]]"
                  aria-disabled$="[[__getDayAriaDisabled(item, minDate, maxDate)]]"
                  aria-label$="[[__getDayAriaLabel(item)]]"
                  >[[_getDate(item)]]</td
                >
              </template>
            </tr>
          </template>
        </tbody>
      </table>
    `}static get is(){return"vaadin-month-calendar"}static get properties(){return{month:{type:Date,value:new Date},selectedDate:{type:Date,notify:!0},focusedDate:Date,showWeekNumbers:{type:Boolean,value:!1},i18n:{type:Object},ignoreTaps:Boolean,_notTapping:Boolean,minDate:{type:Date,value:null},maxDate:{type:Date,value:null},_days:{type:Array,computed:"_getDays(month, i18n.firstDayOfWeek, minDate, maxDate)"},_weeks:{type:Array,computed:"_getWeeks(_days)"},disabled:{type:Boolean,reflectToAttribute:!0,computed:"_isDisabled(month, minDate, maxDate)"}}}static get observers(){return["_showWeekNumbersChanged(showWeekNumbers, i18n.firstDayOfWeek)","__focusedDateChanged(focusedDate, _days)"]}get focusableDateElement(){return[...this.shadowRoot.querySelectorAll("[part~=date]")].find(e=>Ue(e.date,this.focusedDate))}ready(){super.ready(),me(this.$.monthGrid,"tap",this._handleTap.bind(this))}_isDisabled(e,t,n){const i=new Date(0,0);i.setFullYear(e.getFullYear()),i.setMonth(e.getMonth()),i.setDate(1);const o=new Date(0,0);return o.setFullYear(e.getFullYear()),o.setMonth(e.getMonth()+1),o.setDate(0),t&&n&&t.getMonth()===n.getMonth()&&t.getMonth()===e.getMonth()&&n.getDate()-t.getDate()>=0?!1:!Ci(i,t,n)&&!Ci(o,t,n)}_getTitle(e,t){if(!(e===void 0||t===void 0))return this.i18n.formatTitle(t[e.getMonth()],e.getFullYear())}_onMonthGridTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300)}_dateAdd(e,t){e.setDate(e.getDate()+t)}_applyFirstDayOfWeek(e,t){if(!(e===void 0||t===void 0))return e.slice(t).concat(e.slice(0,t))}_getWeekDayNames(e,t,n,i){if(!(e===void 0||t===void 0||n===void 0||i===void 0))return e=this._applyFirstDayOfWeek(e,i),t=this._applyFirstDayOfWeek(t,i),e=e.map((o,a)=>({weekDay:o,weekDayShort:t[a]})),e}__focusedDateChanged(e,t){t.some(n=>Ue(n,e))?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true")}_getDate(e){return e?e.getDate():""}_showWeekNumbersChanged(e,t){e&&t===1?this.setAttribute("week-numbers",""):this.removeAttribute("week-numbers")}_showWeekSeparator(e,t){return e&&t===1}_isToday(e){return Ue(new Date,e)}_getDays(e,t){if(e===void 0||t===void 0)return;const n=new Date(0,0);for(n.setFullYear(e.getFullYear()),n.setMonth(e.getMonth()),n.setDate(1);n.getDay()!==t;)this._dateAdd(n,-1);const i=[],o=n.getMonth(),a=e.getMonth();for(;n.getMonth()===a||n.getMonth()===o;)i.push(n.getMonth()===a?new Date(n.getTime()):null),this._dateAdd(n,1);return i}_getWeeks(e){return e.reduce((t,n,i)=>(i%7===0&&t.push([]),t[t.length-1].push(n),t),[])}_handleTap(e){!this.ignoreTaps&&!this._notTapping&&e.target.date&&!e.target.hasAttribute("disabled")&&(this.selectedDate=e.target.date,this.dispatchEvent(new CustomEvent("date-tap",{detail:{date:e.target.date},bubbles:!0,composed:!0})))}_preventDefault(e){e.preventDefault()}__getDatePart(e,t,n,i,o){const a=["date"];return this.__isDayDisabled(e,i,o)&&a.push("disabled"),this.__isDayFocused(e,t)&&a.push("focused"),this.__isDaySelected(e,n)&&a.push("selected"),this._isToday(e)&&a.push("today"),a.join(" ")}__getWeekNumber(e){const t=e.reduce((n,i)=>!n&&i?i:n);return Ib(t)}__isDayFocused(e,t){return Ue(e,t)}__isDaySelected(e,t){return Ue(e,t)}__getDayAriaSelected(e,t){if(this.__isDaySelected(e,t))return"true"}__isDayDisabled(e,t,n){return!Ci(e,t,n)}__getDayAriaDisabled(e,t,n){if(!(e===void 0||t===void 0||n===void 0)&&this.__isDayDisabled(e,t,n))return"true"}__getDayAriaLabel(e){if(!e)return"";let t=`${this._getDate(e)} ${this.i18n.monthNames[e.getMonth()]} ${e.getFullYear()}, ${this.i18n.weekdays[e.getDay()]}`;return this._isToday(e)&&(t+=`, ${this.i18n.today}`),t}__getDayTabindex(e,t){return this.__isDayFocused(e,t)?"0":"-1"}}customElements.define(Tf.is,Tf);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Rv extends Ft{static get template(){return Dt`
      <style>
        :host {
          display: block;
          overflow: hidden;
          height: 500px;
        }

        #scroller {
          position: relative;
          height: 100%;
          overflow: auto;
          outline: none;
          margin-right: -40px;
          -webkit-overflow-scrolling: touch;
          overflow-x: hidden;
        }

        #scroller.notouchscroll {
          -webkit-overflow-scrolling: auto;
        }

        #scroller::-webkit-scrollbar {
          display: none;
        }

        .buffer {
          position: absolute;
          width: var(--vaadin-infinite-scroller-buffer-width, 100%);
          box-sizing: border-box;
          padding-right: 40px;
          top: var(--vaadin-infinite-scroller-buffer-offset, 0);
          animation: fadein 0.2s;
        }

        @keyframes fadein {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
      </style>

      <div id="scroller" on-scroll="_scroll">
        <div class="buffer"></div>
        <div class="buffer"></div>
        <div id="fullHeight"></div>
      </div>
    `}static get properties(){return{bufferSize:{type:Number,value:20},_initialScroll:{value:5e5},_initialIndex:{value:0},_buffers:Array,_preventScrollEvent:Boolean,_mayHaveMomentum:Boolean,_initialized:Boolean,active:{type:Boolean,observer:"_activated"}}}get bufferOffset(){return this._buffers[0].offsetTop}get itemHeight(){if(!this._itemHeightVal){const e=getComputedStyle(this).getPropertyValue("--vaadin-infinite-scroller-item-height"),t="background-position";this.$.fullHeight.style.setProperty(t,e);const n=getComputedStyle(this.$.fullHeight).getPropertyValue(t);this.$.fullHeight.style.removeProperty(t),this._itemHeightVal=parseFloat(n)}return this._itemHeightVal}get _bufferHeight(){return this.itemHeight*this.bufferSize}get position(){return(this.$.scroller.scrollTop-this._buffers[0].translateY)/this.itemHeight+this._firstIndex}set position(e){this._preventScrollEvent=!0,e>this._firstIndex&&e<this._firstIndex+this.bufferSize*2?this.$.scroller.scrollTop=this.itemHeight*(e-this._firstIndex)+this._buffers[0].translateY:(this._initialIndex=~~e,this._reset(),this._scrollDisabled=!0,this.$.scroller.scrollTop+=e%1*this.itemHeight,this._scrollDisabled=!1),this._mayHaveMomentum&&(this.$.scroller.classList.add("notouchscroll"),this._mayHaveMomentum=!1,setTimeout(()=>{this.$.scroller.classList.remove("notouchscroll")},10))}ready(){super.ready(),this._buffers=[...this.shadowRoot.querySelectorAll(".buffer")],this.$.fullHeight.style.height=`${this._initialScroll*2}px`,Fm&&(this.$.scroller.tabIndex=-1)}forceUpdate(){this._debouncerUpdateClones&&(this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(),this._debouncerUpdateClones.cancel())}_createElement(){}_updateElement(e,t){}_activated(e){e&&!this._initialized&&(this._createPool(),this._initialized=!0)}_finishInit(){this._initDone||(this._buffers.forEach(e=>{[...e.children].forEach(t=>{this._ensureStampedInstance(t._itemWrapper)})}),this._buffers[0].translateY||this._reset(),this._initDone=!0,this.dispatchEvent(new CustomEvent("init-done")))}_translateBuffer(e){const t=e?1:0;this._buffers[t].translateY=this._buffers[t?0:1].translateY+this._bufferHeight*(t?-1:1),this._buffers[t].style.transform=`translate3d(0, ${this._buffers[t].translateY}px, 0)`,this._buffers[t].updated=!1,this._buffers.reverse()}_scroll(){if(this._scrollDisabled)return;const e=this.$.scroller.scrollTop;(e<this._bufferHeight||e>this._initialScroll*2-this._bufferHeight)&&(this._initialIndex=~~this.position,this._reset());const t=this.itemHeight+this.bufferOffset,n=e>this._buffers[1].translateY+t,i=e<this._buffers[0].translateY+t;(n||i)&&(this._translateBuffer(i),this._updateClones()),this._preventScrollEvent||(this.dispatchEvent(new CustomEvent("custom-scroll",{bubbles:!1,composed:!0})),this._mayHaveMomentum=!0),this._preventScrollEvent=!1,this._debouncerScrollFinish=Br.debounce(this._debouncerScrollFinish,Aa.after(200),()=>{const o=this.$.scroller.getBoundingClientRect();!this._isVisible(this._buffers[0],o)&&!this._isVisible(this._buffers[1],o)&&(this.position=this.position)})}_reset(){this._scrollDisabled=!0,this.$.scroller.scrollTop=this._initialScroll,this._buffers[0].translateY=this._initialScroll-this._bufferHeight,this._buffers[1].translateY=this._initialScroll,this._buffers.forEach(e=>{e.style.transform=`translate3d(0, ${e.translateY}px, 0)`}),this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones(!0),this._debouncerUpdateClones=Br.debounce(this._debouncerUpdateClones,Aa.after(200),()=>{this._buffers[0].updated=this._buffers[1].updated=!1,this._updateClones()}),this._scrollDisabled=!1}_createPool(){const e=this.getBoundingClientRect();this._buffers.forEach(t=>{for(let n=0;n<this.bufferSize;n++){const i=document.createElement("div");i.style.height=`${this.itemHeight}px`,i.instance={};const o=`vaadin-infinite-scroller-item-content-${Hh()}`,a=document.createElement("slot");a.setAttribute("name",o),a._itemWrapper=i,t.appendChild(a),i.setAttribute("slot",o),this.appendChild(i),this._isVisible(i,e)&&this._ensureStampedInstance(i)}}),ks(this,()=>{this._finishInit()})}_ensureStampedInstance(e){if(e.firstElementChild)return;const t=e.instance;e.instance=this._createElement(),e.appendChild(e.instance),Object.keys(t).forEach(n=>{e.instance.set(n,t[n])})}_updateClones(e){this._firstIndex=~~((this._buffers[0].translateY-this._initialScroll)/this.itemHeight)+this._initialIndex;const t=e?this.$.scroller.getBoundingClientRect():void 0;this._buffers.forEach((n,i)=>{if(!n.updated){const o=this._firstIndex+this.bufferSize*i;[...n.children].forEach((a,s)=>{const l=a._itemWrapper;(!e||this._isVisible(l,t))&&this._updateElement(l.instance,o+s)}),n.updated=!0}})}_isVisible(e,t){const n=e.getBoundingClientRect();return n.bottom>t.top&&n.top<t.bottom}}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Ab=Dt`
  <style>
    :host {
      --vaadin-infinite-scroller-item-height: 270px;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      height: 100%;
    }
  </style>
`;let Eo;class Cf extends Rv{static get is(){return"vaadin-date-picker-month-scroller"}static get template(){return Eo||(Eo=super.template.cloneNode(!0),Eo.content.appendChild(Ab.content.cloneNode(!0))),Eo}static get properties(){return{bufferSize:{type:Number,value:3}}}_createElement(){return document.createElement("vaadin-month-calendar")}_updateElement(e,t){e.month=Iv(t)}}customElements.define(Cf.is,Cf);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Db=Dt`
  <style>
    :host {
      --vaadin-infinite-scroller-item-height: 80px;
      width: 50px;
      display: block;
      height: 100%;
      position: absolute;
      right: 0;
      transform: translateX(100%);
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      /* Center the year scroller position. */
      --vaadin-infinite-scroller-buffer-offset: 50%;
    }

    :host::before {
      content: '';
      display: block;
      background: transparent;
      width: 0;
      height: 0;
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      border-width: 6px;
      border-style: solid;
      border-color: transparent;
      border-left-color: #000;
    }
  </style>
`;let To;class Of extends Rv{static get is(){return"vaadin-date-picker-year-scroller"}static get template(){return To||(To=super.template.cloneNode(!0),To.content.appendChild(Db.content.cloneNode(!0))),To}static get properties(){return{bufferSize:{type:Number,value:12}}}_createElement(){return document.createElement("vaadin-date-picker-year")}_updateElement(e,t){e.year=this._yearAfterXYears(t)}_yearAfterXYears(e){const t=new Date,n=new Date(t);return n.setFullYear(parseInt(e)+t.getFullYear()),n.getFullYear()}}customElements.define(Of.is,Of);/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Mf extends ie(Ft){static get is(){return"vaadin-date-picker-year"}static get template(){return Dt`
      <style>
        :host {
          display: block;
          height: 100%;
        }
      </style>
      <div part="year-number">[[year]]</div>
      <div part="year-separator" aria-hidden="true"></div>
    `}static get properties(){return{year:{type:String},selectedDate:{type:Object}}}static get observers(){return["__updateSelected(year, selectedDate)"]}__updateSelected(e,t){this.toggleAttribute("selected",t&&t.getFullYear()===e),this.toggleAttribute("current",e===new Date().getFullYear())}}customElements.define(Mf.is,Mf);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Av{constructor(e,t){this.query=e,this.callback=t,this._boundQueryHandler=this._queryHandler.bind(this)}hostConnected(){this._removeListener(),this._mediaQuery=window.matchMedia(this.query),this._addListener(),this._queryHandler(this._mediaQuery)}hostDisconnected(){this._removeListener()}_addListener(){this._mediaQuery&&this._mediaQuery.addListener(this._boundQueryHandler)}_removeListener(){this._mediaQuery&&this._mediaQuery.removeListener(this._boundQueryHandler),this._mediaQuery=null}_queryHandler(e){typeof this.callback=="function"&&this.callback(e.matches)}}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Pf extends mr(ie($s(Ft))){static get template(){return Dt`
      <style>
        :host {
          display: flex;
          flex-direction: column;
          height: 100%;
          width: 100%;
          outline: none;
        }

        [part='overlay-header'] {
          display: flex;
          flex-shrink: 0;
          flex-wrap: nowrap;
          align-items: center;
        }

        :host(:not([fullscreen])) [part='overlay-header'] {
          display: none;
        }

        [part='label'] {
          flex-grow: 1;
        }

        [hidden] {
          display: none !important;
        }

        [part='years-toggle-button'] {
          display: flex;
        }

        #scrollers {
          display: flex;
          height: 100%;
          width: 100%;
          position: relative;
          overflow: hidden;
        }

        :host([desktop]) ::slotted([slot='months']) {
          right: 50px;
          transform: none !important;
        }

        :host([desktop]) ::slotted([slot='years']) {
          transform: none !important;
        }

        :host(.animate) ::slotted([slot='months']),
        :host(.animate) ::slotted([slot='years']) {
          transition: all 200ms;
        }

        [part='toolbar'] {
          display: flex;
          justify-content: space-between;
          z-index: 2;
          flex-shrink: 0;
        }
      </style>

      <div part="overlay-header" on-touchend="_preventDefault" aria-hidden="true">
        <div part="label">[[_formatDisplayed(selectedDate, i18n.formatDate, label)]]</div>
        <div part="clear-button" hidden$="[[!selectedDate]]"></div>
        <div part="toggle-button"></div>

        <div part="years-toggle-button" hidden$="[[_desktopMode]]" aria-hidden="true">
          [[_yearAfterXMonths(_visibleMonthIndex)]]
        </div>
      </div>

      <div id="scrollers">
        <slot name="months"></slot>
        <slot name="years"></slot>
      </div>

      <div on-touchend="_preventDefault" role="toolbar" part="toolbar">
        <slot name="today-button"></slot>
        <slot name="cancel-button"></slot>
      </div>
    `}static get is(){return"vaadin-date-picker-overlay-content"}static get properties(){return{scrollDuration:{type:Number,value:300},selectedDate:{type:Date,value:null},focusedDate:{type:Date,notify:!0,observer:"_focusedDateChanged"},_focusedMonthDate:Number,initialPosition:{type:Date,observer:"_initialPositionChanged"},_originDate:{value:new Date},_visibleMonthIndex:Number,_desktopMode:{type:Boolean,observer:"_desktopModeChanged"},_desktopMediaQuery:{type:String,value:"(min-width: 375px)"},_translateX:{observer:"_translateXChanged"},_yearScrollerWidth:{value:50},i18n:{type:Object},showWeekNumbers:{type:Boolean,value:!1},_ignoreTaps:Boolean,_notTapping:Boolean,minDate:Date,maxDate:Date,label:String,_cancelButton:{type:Object},_todayButton:{type:Object},calendars:{type:Array,value:()=>[]},years:{type:Array,value:()=>[]}}}static get observers(){return["__updateCalendars(calendars, i18n, minDate, maxDate, selectedDate, focusedDate, showWeekNumbers, _ignoreTaps, _theme)","__updateCancelButton(_cancelButton, i18n)","__updateTodayButton(_todayButton, i18n, minDate, maxDate)","__updateYears(years, selectedDate, _theme)"]}get __useSubMonthScrolling(){return this._monthScroller.clientHeight<this._monthScroller.itemHeight+this._monthScroller.bufferOffset}get focusableDateElement(){return this.calendars.map(e=>e.focusableDateElement).find(Boolean)}ready(){super.ready(),this.setAttribute("role","dialog"),me(this.$.scrollers,"track",this._track.bind(this)),me(this.shadowRoot.querySelector('[part="clear-button"]'),"tap",this._clear.bind(this)),me(this.shadowRoot.querySelector('[part="toggle-button"]'),"tap",this._cancel.bind(this)),me(this.shadowRoot.querySelector('[part="years-toggle-button"]'),"tap",this._toggleYearScroller.bind(this)),this.addController(new Av(this._desktopMediaQuery,e=>{this._desktopMode=e})),this.addController(new sr(this,"today-button","vaadin-button",{observe:!1,initializer:e=>{e.setAttribute("theme","tertiary"),e.addEventListener("keydown",t=>this.__onTodayButtonKeyDown(t)),me(e,"tap",this._onTodayTap.bind(this)),this._todayButton=e}})),this.addController(new sr(this,"cancel-button","vaadin-button",{observe:!1,initializer:e=>{e.setAttribute("theme","tertiary"),e.addEventListener("keydown",t=>this.__onCancelButtonKeyDown(t)),me(e,"tap",this._cancel.bind(this)),this._cancelButton=e}})),this.__initMonthScroller(),this.__initYearScroller()}connectedCallback(){super.connectedCallback(),this._closeYearScroller(),this._toggleAnimateClass(!0),mv(this.$.scrollers,"pan-y")}focusCancel(){this._cancelButton.focus()}scrollToDate(e,t){const n=this.__useSubMonthScrolling?this._calculateWeekScrollOffset(e):0;this._scrollToPosition(this._differenceInMonths(e,this._originDate)+n,t),this._monthScroller.forceUpdate()}__initMonthScroller(){this.addController(new sr(this,"months","vaadin-date-picker-month-scroller",{observe:!1,initializer:e=>{e.addEventListener("custom-scroll",()=>{this._onMonthScroll()}),e.addEventListener("touchstart",()=>{this._onMonthScrollTouchStart()}),e.addEventListener("keydown",t=>{this.__onMonthCalendarKeyDown(t)}),e.addEventListener("init-done",()=>{const t=[...this.querySelectorAll("vaadin-month-calendar")];t.forEach(n=>{n.addEventListener("selected-date-changed",i=>{this.selectedDate=i.detail.value})}),this.calendars=t}),this._monthScroller=e}}))}__initYearScroller(){this.addController(new sr(this,"years","vaadin-date-picker-year-scroller",{observe:!1,initializer:e=>{e.setAttribute("aria-hidden","true"),me(e,"tap",t=>{this._onYearTap(t)}),e.addEventListener("custom-scroll",()=>{this._onYearScroll()}),e.addEventListener("touchstart",()=>{this._onYearScrollTouchStart()}),e.addEventListener("init-done",()=>{this.years=[...this.querySelectorAll("vaadin-date-picker-year")]}),this._yearScroller=e}}))}__updateCancelButton(e,t){e&&(e.textContent=t&&t.cancel)}__updateTodayButton(e,t,n,i){e&&(e.textContent=t&&t.today,e.disabled=!this._isTodayAllowed(n,i))}__updateCalendars(e,t,n,i,o,a,s,l,u){e&&e.length&&e.forEach(h=>{h.setProperties({i18n:t,minDate:n,maxDate:i,focusedDate:a,selectedDate:o,showWeekNumbers:s,ignoreTaps:l}),u?h.setAttribute("theme",u):h.removeAttribute("theme")})}__updateYears(e,t,n){e&&e.length&&e.forEach(i=>{i.selectedDate=t,n?i.setAttribute("theme",n):i.removeAttribute("theme")})}_selectDate(e){this.selectedDate=e,this.dispatchEvent(new CustomEvent("date-selected",{detail:{date:e},bubbles:!0,composed:!0}))}_desktopModeChanged(e){this.toggleAttribute("desktop",e)}_focusedDateChanged(e){this.revealDate(e)}revealDate(e,t=!0){if(!e)return;const n=this._differenceInMonths(e,this._originDate);if(this.__useSubMonthScrolling){const l=this._calculateWeekScrollOffset(e);this._scrollToPosition(n+l,t);return}const i=this._monthScroller.position>n,a=Math.max(this._monthScroller.itemHeight,this._monthScroller.clientHeight-this._monthScroller.bufferOffset*2)/this._monthScroller.itemHeight,s=this._monthScroller.position+a-1<n;i?this._scrollToPosition(n,t):s&&this._scrollToPosition(n-a+1,t)}_calculateWeekScrollOffset(e){const t=new Date(0,0);t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(1);let n=0;for(;t.getDate()<e.getDate();)t.setDate(t.getDate()+1),t.getDay()===this.i18n.firstDayOfWeek&&(n+=1);return n/6}_initialPositionChanged(e){this._monthScroller&&this._yearScroller&&(this._monthScroller.active=!0,this._yearScroller.active=!0),this.scrollToDate(e)}_repositionYearScroller(){const e=this._monthScroller.position;this._visibleMonthIndex=Math.floor(e),this._yearScroller.position=(e+this._originDate.getMonth())/12}_repositionMonthScroller(){this._monthScroller.position=this._yearScroller.position*12-this._originDate.getMonth(),this._visibleMonthIndex=Math.floor(this._monthScroller.position)}_onMonthScroll(){this._repositionYearScroller(),this._doIgnoreTaps()}_onYearScroll(){this._repositionMonthScroller(),this._doIgnoreTaps()}_onYearScrollTouchStart(){this._notTapping=!1,setTimeout(()=>{this._notTapping=!0},300),this._repositionMonthScroller()}_onMonthScrollTouchStart(){this._repositionYearScroller()}_doIgnoreTaps(){this._ignoreTaps=!0,this._debouncer=Br.debounce(this._debouncer,Aa.after(300),()=>{this._ignoreTaps=!1})}_formatDisplayed(e,t,n){return e?t(tc(e)):n}_onTodayTap(){const e=new Date;Math.abs(this._monthScroller.position-this._differenceInMonths(e,this._originDate))<.001?(this._selectDate(e),this._close()):this._scrollToCurrentMonth()}_scrollToCurrentMonth(){this.focusedDate&&(this.focusedDate=new Date),this.scrollToDate(new Date,!0)}_onYearTap(e){if(!this._ignoreTaps&&!this._notTapping){const n=(e.detail.y-(this._yearScroller.getBoundingClientRect().top+this._yearScroller.clientHeight/2))/this._yearScroller.itemHeight;this._scrollToPosition(this._monthScroller.position+n*12,!0)}}_scrollToPosition(e,t){if(this._targetPosition!==void 0){this._targetPosition=e;return}if(!t){this._monthScroller.position=e,this._targetPosition=void 0,this._repositionYearScroller(),this.__tryFocusDate();return}this._targetPosition=e;let n;this._revealPromise=new Promise(l=>{n=l});const i=(l,u,h,c)=>(l/=c/2,l<1?h/2*l*l+u:(l-=1,-h/2*(l*(l-2)-1)+u));let o=0;const a=this._monthScroller.position,s=l=>{o||(o=l);const u=l-o;if(u<this.scrollDuration){const h=i(u,a,this._targetPosition-a,this.scrollDuration);this._monthScroller.position=h,window.requestAnimationFrame(s)}else this.dispatchEvent(new CustomEvent("scroll-animation-finished",{bubbles:!0,composed:!0,detail:{position:this._targetPosition,oldPosition:a}})),this._monthScroller.position=this._targetPosition,this._targetPosition=void 0,n(),this._revealPromise=void 0;setTimeout(this._repositionYearScroller.bind(this),1)};window.requestAnimationFrame(s)}_limit(e,t){return Math.min(t.max,Math.max(t.min,e))}_handleTrack(e){if(Math.abs(e.detail.dx)<10||Math.abs(e.detail.ddy)>10)return;Math.abs(e.detail.ddx)>this._yearScrollerWidth/3&&this._toggleAnimateClass(!0);const t=this._translateX+e.detail.ddx;this._translateX=this._limit(t,{min:0,max:this._yearScrollerWidth})}_track(e){if(!this._desktopMode)switch(e.detail.state){case"start":this._toggleAnimateClass(!1);break;case"track":this._handleTrack(e);break;case"end":this._toggleAnimateClass(!0),this._translateX>=this._yearScrollerWidth/2?this._closeYearScroller():this._openYearScroller();break}}_toggleAnimateClass(e){e?this.classList.add("animate"):this.classList.remove("animate")}_toggleYearScroller(){this._isYearScrollerVisible()?this._closeYearScroller():this._openYearScroller()}_openYearScroller(){this._translateX=0,this.setAttribute("years-visible","")}_closeYearScroller(){this.removeAttribute("years-visible"),this._translateX=this._yearScrollerWidth}_isYearScrollerVisible(){return this._translateX<this._yearScrollerWidth/2}_translateXChanged(e){this._desktopMode||(this._monthScroller.style.transform=`translateX(${e-this._yearScrollerWidth}px)`,this._yearScroller.style.transform=`translateX(${e}px)`)}_yearAfterXMonths(e){return Iv(e).getFullYear()}_differenceInMonths(e,t){return(e.getFullYear()-t.getFullYear())*12-t.getMonth()+e.getMonth()}_clear(){this._selectDate("")}_close(){this.dispatchEvent(new CustomEvent("close",{bubbles:!0,composed:!0}))}_cancel(){this.focusedDate=this.selectedDate,this._close()}_preventDefault(e){e.preventDefault()}__toggleDate(e){Ue(e,this.selectedDate)?(this._clear(),this.focusedDate=e):this._selectDate(e)}__onMonthCalendarKeyDown(e){let t=!1;switch(e.key){case"ArrowDown":this._moveFocusByDays(7),t=!0;break;case"ArrowUp":this._moveFocusByDays(-7),t=!0;break;case"ArrowRight":this._moveFocusByDays(this.__isRTL?-1:1),t=!0;break;case"ArrowLeft":this._moveFocusByDays(this.__isRTL?1:-1),t=!0;break;case"Enter":this._selectDate(this.focusedDate),this._close(),t=!0;break;case" ":this.__toggleDate(this.focusedDate),t=!0;break;case"Home":this._moveFocusInsideMonth(this.focusedDate,"minDate"),t=!0;break;case"End":this._moveFocusInsideMonth(this.focusedDate,"maxDate"),t=!0;break;case"PageDown":this._moveFocusByMonths(e.shiftKey?12:1),t=!0;break;case"PageUp":this._moveFocusByMonths(e.shiftKey?-12:-1),t=!0;break;case"Tab":this._onTabKeyDown(e,"calendar");break}t&&(e.preventDefault(),e.stopPropagation())}_onTabKeyDown(e,t){switch(e.stopPropagation(),t){case"calendar":e.shiftKey&&(e.preventDefault(),this.hasAttribute("fullscreen")?this.focusCancel():this.__focusInput());break;case"today":e.shiftKey&&(e.preventDefault(),this.focusDateElement());break;case"cancel":e.shiftKey||(e.preventDefault(),this.hasAttribute("fullscreen")?this.focusDateElement():this.__focusInput());break}}__onTodayButtonKeyDown(e){e.key==="Tab"&&this._onTabKeyDown(e,"today")}__onCancelButtonKeyDown(e){e.key==="Tab"&&this._onTabKeyDown(e,"cancel")}__focusInput(){this.dispatchEvent(new CustomEvent("focus-input",{bubbles:!0,composed:!0}))}__tryFocusDate(){if(this.__pendingDateFocus){const t=this.focusableDateElement;t&&Ue(t.date,this.__pendingDateFocus)&&(delete this.__pendingDateFocus,t.focus())}}async focusDate(e,t){const n=e||this.selectedDate||this.initialPosition||new Date;this.focusedDate=n,t||(this._focusedMonthDate=n.getDate()),await this.focusDateElement(!1)}async focusDateElement(e=!0){this.__pendingDateFocus=this.focusedDate,this.calendars.length||await new Promise(t=>{ks(this,()=>{Pv(),t()})}),e&&this.revealDate(this.focusedDate),this._revealPromise&&await this._revealPromise,this.__tryFocusDate()}_focusClosestDate(e){this.focusDate(Sv(e,[this.minDate,this.maxDate]))}_focusAllowedDate(e,t,n){this._dateAllowed(e)?this.focusDate(e,n):this._dateAllowed(this.focusedDate)?t>0?this.focusDate(this.maxDate):this.focusDate(this.minDate):this._focusClosestDate(this.focusedDate)}_getDateDiff(e,t){const n=new Date(0,0);return n.setFullYear(this.focusedDate.getFullYear()),n.setMonth(this.focusedDate.getMonth()+e),t&&n.setDate(this.focusedDate.getDate()+t),n}_moveFocusByDays(e){const t=this._getDateDiff(0,e);this._focusAllowedDate(t,e,!1)}_moveFocusByMonths(e){const t=this._getDateDiff(e),n=t.getMonth();this._focusedMonthDate||(this._focusedMonthDate=this.focusedDate.getDate()),t.setDate(this._focusedMonthDate),t.getMonth()!==n&&t.setDate(0),this._focusAllowedDate(t,e,!0)}_moveFocusInsideMonth(e,t){const n=new Date(0,0);n.setFullYear(e.getFullYear()),t==="minDate"?(n.setMonth(e.getMonth()),n.setDate(1)):(n.setMonth(e.getMonth()+1),n.setDate(0)),this._dateAllowed(n)?this.focusDate(n):this._dateAllowed(e)?this.focusDate(this[t]):this._focusClosestDate(e)}_dateAllowed(e,t=this.minDate,n=this.maxDate){return(!t||e>=t)&&(!n||e<=n)}_isTodayAllowed(e,t){const n=new Date,i=new Date(0,0);return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),this._dateAllowed(i,e,t)}}customElements.define(Pf.is,Pf);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Dv=Ot(r=>class extends Ki(bv(r)){static get properties(){return{autofocus:{type:Boolean},focusElement:{type:Object,readOnly:!0,observer:"_focusElementChanged"},_lastTabIndex:{value:0}}}constructor(){super(),this._boundOnBlur=this._onBlur.bind(this),this._boundOnFocus=this._onFocus.bind(this)}ready(){super.ready(),this.autofocus&&!this.disabled&&requestAnimationFrame(()=>{this.focus(),this.setAttribute("focus-ring","")})}focus(){!this.focusElement||this.disabled||(this.focusElement.focus(),this._setFocused(!0))}blur(){this.focusElement&&(this.focusElement.blur(),this._setFocused(!1))}click(){this.focusElement&&!this.disabled&&this.focusElement.click()}_focusElementChanged(t,n){t?(t.disabled=this.disabled,this._addFocusListeners(t),this.__forwardTabIndex(this.tabindex)):n&&this._removeFocusListeners(n)}_addFocusListeners(t){t.addEventListener("blur",this._boundOnBlur),t.addEventListener("focus",this._boundOnFocus)}_removeFocusListeners(t){t.removeEventListener("blur",this._boundOnBlur),t.removeEventListener("focus",this._boundOnFocus)}_onFocus(t){t.stopPropagation(),this.dispatchEvent(new Event("focus"))}_onBlur(t){t.stopPropagation(),this.dispatchEvent(new Event("blur"))}_shouldSetFocus(t){return t.target===this.focusElement}_disabledChanged(t,n){super._disabledChanged(t,n),this.focusElement&&(this.focusElement.disabled=t),t&&this.blur()}_tabindexChanged(t){this.__forwardTabIndex(t)}__forwardTabIndex(t){t!==void 0&&this.focusElement&&(this.focusElement.tabIndex=t,t!==-1&&(this.tabindex=void 0)),this.disabled&&t&&(t!==-1&&(this._lastTabIndex=t),this.tabindex=void 0)}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Lv=Ot(r=>class extends r{static get properties(){return{inputElement:{type:Object,readOnly:!0,observer:"_inputElementChanged"},type:{type:String,readOnly:!0},value:{type:String,value:"",observer:"_valueChanged",notify:!0},_hasInputValue:{type:Boolean,value:!1,observer:"_hasInputValueChanged"}}}constructor(){super(),this._boundOnInput=this.__onInput.bind(this),this._boundOnChange=this._onChange.bind(this)}get _hasValue(){return this.value!=null&&this.value!==""}get _inputElementValueProperty(){return"value"}get _inputElementValue(){return this.inputElement?this.inputElement[this._inputElementValueProperty]:void 0}set _inputElementValue(t){this.inputElement&&(this.inputElement[this._inputElementValueProperty]=t)}clear(){this._hasInputValue=!1,this.value="",this._inputElementValue=""}_addInputListeners(t){t.addEventListener("input",this._boundOnInput),t.addEventListener("change",this._boundOnChange)}_removeInputListeners(t){t.removeEventListener("input",this._boundOnInput),t.removeEventListener("change",this._boundOnChange)}_forwardInputValue(t){this.inputElement&&(this._inputElementValue=t??"")}_inputElementChanged(t,n){t?this._addInputListeners(t):n&&this._removeInputListeners(n)}_hasInputValueChanged(t,n){(t||n)&&this.dispatchEvent(new CustomEvent("has-input-value-changed"))}__onInput(t){this._setHasInputValue(t),this._onInput(t)}_onInput(t){const n=t.composedPath()[0];this.__userInput=t.isTrusted,this.value=n.value,this.__userInput=!1}_onChange(t){}_toggleHasValue(t){this.toggleAttribute("has-value",t)}_valueChanged(t,n){this._toggleHasValue(this._hasValue),!(t===""&&n===void 0)&&(this.__userInput||this._forwardInputValue(t))}_setHasInputValue(t){const n=t.composedPath()[0];this._hasInputValue=n.value.length>0}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Lb=r=>class extends Lv(zs(r)){static get properties(){return{clearButtonVisible:{type:Boolean,reflectToAttribute:!0,value:!1}}}get clearElement(){return console.warn(`Please implement the 'clearElement' property in <${this.localName}>`),null}ready(){super.ready(),this.clearElement&&this.clearElement.addEventListener("click",t=>this._onClearButtonClick(t))}_onClearButtonClick(t){t.preventDefault(),this.inputElement.focus(),this._onClearAction()}_onEscape(t){super._onEscape(t),this.clearButtonVisible&&this.value&&(t.stopPropagation(),this._onClearAction())}_onClearAction(){this.clear(),this.inputElement.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),this.inputElement.dispatchEvent(new Event("change",{bubbles:!0}))}};/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class ec extends sr{constructor(e,t,n,i={}){super(e,t,n,{...i,useUniqueId:!0})}initCustomNode(e){this.__updateNodeId(e),this.__notifyChange(e)}teardownNode(e){const t=this.getSlotChild();t&&t!==this.defaultNode?this.__notifyChange(t):(this.restoreDefaultNode(),this.updateDefaultNode(this.node))}attachDefaultNode(){const e=super.attachDefaultNode();return e&&this.__updateNodeId(e),e}restoreDefaultNode(){}updateDefaultNode(e){this.__notifyChange(e)}observeNode(e){this.__nodeObserver&&this.__nodeObserver.disconnect(),this.__nodeObserver=new MutationObserver(t=>{t.forEach(n=>{const i=n.target,o=i===this.node;n.type==="attributes"?o&&this.__updateNodeId(i):(o||i.parentElement===this.node)&&this.__notifyChange(this.node)})}),this.__nodeObserver.observe(e,{attributes:!0,attributeFilter:["id"],childList:!0,subtree:!0,characterData:!0})}__hasContent(e){return e?e.nodeType===Node.ELEMENT_NODE&&(customElements.get(e.localName)||e.children.length>0)||e.textContent&&e.textContent.trim()!=="":!1}__notifyChange(e){this.dispatchEvent(new CustomEvent("slot-content-changed",{detail:{hasContent:this.__hasContent(e),node:e}}))}__updateNodeId(e){const t=!this.nodes||e===this.nodes[0];e.nodeType===Node.ELEMENT_NODE&&t&&!e.id&&(e.id=this.defaultId)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Nb extends ec{constructor(e){super(e,"error-message","div")}setErrorMessage(e){this.errorMessage=e,this.updateDefaultNode(this.node)}setInvalid(e){this.invalid=e,this.updateDefaultNode(this.node)}initAddedNode(e){e!==this.defaultNode&&this.initCustomNode(e)}initNode(e){this.updateDefaultNode(e)}initCustomNode(e){e.textContent&&!this.errorMessage&&(this.errorMessage=e.textContent.trim()),super.initCustomNode(e)}restoreDefaultNode(){this.attachDefaultNode()}updateDefaultNode(e){const{errorMessage:t,invalid:n}=this,i=Boolean(n&&t&&t.trim()!=="");e&&(e.textContent=i?t:"",e.hidden=!i,i?e.setAttribute("role","alert"):e.removeAttribute("role")),super.updateDefaultNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class kb{constructor(e){this.host=e,this.__required=!1}get __isGroupField(){return this.__target===this.host}setTarget(e){this.__target=e,this.__setAriaRequiredAttribute(this.__required),this.__setLabelIdToAriaAttribute(this.__labelId),this.__setErrorIdToAriaAttribute(this.__errorId),this.__setHelperIdToAriaAttribute(this.__helperId)}setRequired(e){this.__setAriaRequiredAttribute(e),this.__required=e}setLabelId(e){this.__setLabelIdToAriaAttribute(e,this.__labelId),this.__labelId=e}setErrorId(e){this.__setErrorIdToAriaAttribute(e,this.__errorId),this.__errorId=e}setHelperId(e){this.__setHelperIdToAriaAttribute(e,this.__helperId),this.__helperId=e}__setLabelIdToAriaAttribute(e,t){this.__setAriaAttributeId("aria-labelledby",e,t)}__setErrorIdToAriaAttribute(e,t){this.__isGroupField?this.__setAriaAttributeId("aria-labelledby",e,t):this.__setAriaAttributeId("aria-describedby",e,t)}__setHelperIdToAriaAttribute(e,t){this.__isGroupField?this.__setAriaAttributeId("aria-labelledby",e,t):this.__setAriaAttributeId("aria-describedby",e,t)}__setAriaRequiredAttribute(e){this.__target&&(["input","textarea"].includes(this.__target.localName)||(e?this.__target.setAttribute("aria-required","true"):this.__target.removeAttribute("aria-required")))}__setAriaAttributeId(e,t,n){this.__target&&(n&&cv(this.__target,e,n),t&&hv(this.__target,e,t))}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Fb extends ec{constructor(e){super(e,"helper",null)}setHelperText(e){this.helperText=e,this.getSlotChild()||this.restoreDefaultNode(),this.node===this.defaultNode&&this.updateDefaultNode(this.node)}restoreDefaultNode(){const{helperText:e}=this;if(e&&e.trim()!==""){this.tagName="div";const t=this.attachDefaultNode();this.observeNode(t)}}updateDefaultNode(e){e&&(e.textContent=this.helperText),super.updateDefaultNode(e)}initCustomNode(e){super.initCustomNode(e),this.observeNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class $b extends ec{constructor(e){super(e,"label","label")}setLabel(e){this.label=e,this.getSlotChild()||this.restoreDefaultNode(),this.node===this.defaultNode&&this.updateDefaultNode(this.node)}restoreDefaultNode(){const{label:e}=this;if(e&&e.trim()!==""){const t=this.attachDefaultNode();this.observeNode(t)}}updateDefaultNode(e){e&&(e.textContent=this.label),super.updateDefaultNode(e)}initCustomNode(e){super.initCustomNode(e),this.observeNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zb=Ot(r=>class extends mr(r){static get properties(){return{label:{type:String,observer:"_labelChanged"}}}constructor(){super(),this._labelController=new $b(this),this._labelController.addEventListener("slot-content-changed",t=>{this.toggleAttribute("has-label",t.detail.hasContent)})}get _labelId(){const t=this._labelNode;return t&&t.id}get _labelNode(){return this._labelController.node}ready(){super.ready(),this.addController(this._labelController)}_labelChanged(t){this._labelController.setLabel(t)}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Nv=Ot(r=>class extends r{static get properties(){return{invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},required:{type:Boolean,reflectToAttribute:!0}}}validate(){const t=this.checkValidity();return this._setInvalid(!t),this.dispatchEvent(new CustomEvent("validated",{detail:{valid:t}})),t}checkValidity(){return!this.required||!!this.value}_setInvalid(t){this._shouldSetInvalid(t)&&(this.invalid=t)}_shouldSetInvalid(t){return!0}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Bb=r=>class extends Nv(zb(mr(r))){static get properties(){return{ariaTarget:{type:Object,observer:"_ariaTargetChanged"},errorMessage:{type:String,observer:"_errorMessageChanged"},helperText:{type:String,observer:"_helperTextChanged"}}}static get observers(){return["_invalidChanged(invalid)","_requiredChanged(required)"]}constructor(){super(),this._fieldAriaController=new kb(this),this._helperController=new Fb(this),this._errorController=new Nb(this),this._errorController.addEventListener("slot-content-changed",t=>{this.toggleAttribute("has-error-message",t.detail.hasContent)}),this._labelController.addEventListener("slot-content-changed",t=>{const{hasContent:n,node:i}=t.detail;this.__labelChanged(n,i)}),this._helperController.addEventListener("slot-content-changed",t=>{const{hasContent:n,node:i}=t.detail;this.toggleAttribute("has-helper",n),this.__helperChanged(n,i)})}get _errorNode(){return this._errorController.node}get _helperNode(){return this._helperController.node}ready(){super.ready(),this.addController(this._fieldAriaController),this.addController(this._helperController),this.addController(this._errorController)}__helperChanged(t,n){t?this._fieldAriaController.setHelperId(n.id):this._fieldAriaController.setHelperId(null)}__labelChanged(t,n){t?this._fieldAriaController.setLabelId(n.id):this._fieldAriaController.setLabelId(null)}_errorMessageChanged(t){this._errorController.setErrorMessage(t)}_helperTextChanged(t){this._helperController.setHelperText(t)}_ariaTargetChanged(t){t&&this._fieldAriaController.setTarget(t)}_requiredChanged(t){this._fieldAriaController.setRequired(t)}_invalidChanged(t){this._errorController.setInvalid(t),setTimeout(()=>{if(t){const n=this._errorNode;this._fieldAriaController.setErrorId(n&&n.id)}else this._fieldAriaController.setErrorId(null)})}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Gb=Ot(r=>class extends r{static get properties(){return{stateTarget:{type:Object,observer:"_stateTargetChanged"}}}static get delegateAttrs(){return[]}static get delegateProps(){return[]}ready(){super.ready(),this._createDelegateAttrsObserver(),this._createDelegatePropsObserver()}_stateTargetChanged(t){t&&(this._ensureAttrsDelegated(),this._ensurePropsDelegated())}_createDelegateAttrsObserver(){this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(", ")})`)}_createDelegatePropsObserver(){this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(", ")})`)}_ensureAttrsDelegated(){this.constructor.delegateAttrs.forEach(t=>{this._delegateAttribute(t,this[t])})}_ensurePropsDelegated(){this.constructor.delegateProps.forEach(t=>{this._delegateProperty(t,this[t])})}_delegateAttrsChanged(...t){this.constructor.delegateAttrs.forEach((n,i)=>{this._delegateAttribute(n,t[i])})}_delegatePropsChanged(...t){this.constructor.delegateProps.forEach((n,i)=>{this._delegateProperty(n,t[i])})}_delegateAttribute(t,n){this.stateTarget&&(t==="invalid"&&this._delegateAttribute("aria-invalid",n?"true":!1),typeof n=="boolean"?this.stateTarget.toggleAttribute(t,n):n?this.stateTarget.setAttribute(t,n):this.stateTarget.removeAttribute(t))}_delegateProperty(t,n){this.stateTarget&&(this.stateTarget[t]=n)}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const kv=Ot(r=>class extends Gb(Nv(Lv(r))){static get constraints(){return["required"]}static get delegateAttrs(){return[...super.delegateAttrs,"required"]}ready(){super.ready(),this._createConstraintsObserver()}checkValidity(){return this.inputElement&&this._hasValidConstraints(this.constructor.constraints.map(t=>this[t]))?this.inputElement.checkValidity():!this.invalid}_hasValidConstraints(t){return t.some(n=>this.__isValidConstraint(n))}_createConstraintsObserver(){this._createMethodObserver(`_constraintsChanged(stateTarget, ${this.constructor.constraints.join(", ")})`)}_constraintsChanged(t,...n){if(!t)return;const i=this._hasValidConstraints(n),o=this.__previousHasConstraints&&!i;(this._hasValue||this.invalid)&&i?this.validate():o&&this._setInvalid(!1),this.__previousHasConstraints=i}_onChange(t){t.stopPropagation(),this.validate(),this.dispatchEvent(new CustomEvent("change",{detail:{sourceEvent:t},bubbles:t.bubbles,cancelable:t.cancelable}))}__isValidConstraint(t){return Boolean(t)||t===0}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const gl=new WeakMap;function Ub(r){return gl.has(r)||gl.set(r,new Set),gl.get(r)}function Yb(r,e){const t=document.createElement("style");t.textContent=r,e===document?document.head.appendChild(t):e.insertBefore(t,e.firstChild)}const jb=Ot(r=>class extends r{get slotStyles(){return{}}connectedCallback(){super.connectedCallback(),this.__applySlotStyles()}__applySlotStyles(){const t=this.getRootNode(),n=Ub(t);this.slotStyles.forEach(i=>{n.has(i)||(Yb(i,t),n.add(i))})}});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Fv=r=>class extends jb(Dv(kv(Bb(Lb(zs(r)))))){static get properties(){return{allowedCharPattern:{type:String,observer:"_allowedCharPatternChanged"},autoselect:{type:Boolean,value:!1},name:{type:String,reflectToAttribute:!0},placeholder:{type:String,reflectToAttribute:!0},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},title:{type:String,reflectToAttribute:!0}}}static get delegateAttrs(){return[...super.delegateAttrs,"name","type","placeholder","readonly","invalid","title"]}constructor(){super(),this._boundOnPaste=this._onPaste.bind(this),this._boundOnDrop=this._onDrop.bind(this),this._boundOnBeforeInput=this._onBeforeInput.bind(this)}get slotStyles(){return[`
          :is(input[slot='input'], textarea[slot='textarea'])::placeholder {
            font: inherit;
            color: inherit;
          }
        `]}_onFocus(t){super._onFocus(t),this.autoselect&&this.inputElement&&this.inputElement.select()}_onChange(t){t.stopPropagation(),this.validate(),this.dispatchEvent(new CustomEvent("change",{detail:{sourceEvent:t},bubbles:t.bubbles,cancelable:t.cancelable}))}_addInputListeners(t){super._addInputListeners(t),t.addEventListener("paste",this._boundOnPaste),t.addEventListener("drop",this._boundOnDrop),t.addEventListener("beforeinput",this._boundOnBeforeInput)}_removeInputListeners(t){super._removeInputListeners(t),t.removeEventListener("paste",this._boundOnPaste),t.removeEventListener("drop",this._boundOnDrop),t.removeEventListener("beforeinput",this._boundOnBeforeInput)}_onKeyDown(t){super._onKeyDown(t),this.allowedCharPattern&&!this.__shouldAcceptKey(t)&&(t.preventDefault(),this._markInputPrevented())}_markInputPrevented(){this.setAttribute("input-prevented",""),this._preventInputDebouncer=Br.debounce(this._preventInputDebouncer,Aa.after(200),()=>{this.removeAttribute("input-prevented")})}__shouldAcceptKey(t){return t.metaKey||t.ctrlKey||!t.key||t.key.length!==1||this.__allowedCharRegExp.test(t.key)}_onPaste(t){if(this.allowedCharPattern){const n=t.clipboardData.getData("text");this.__allowedTextRegExp.test(n)||(t.preventDefault(),this._markInputPrevented())}}_onDrop(t){if(this.allowedCharPattern){const n=t.dataTransfer.getData("text");this.__allowedTextRegExp.test(n)||(t.preventDefault(),this._markInputPrevented())}}_onBeforeInput(t){this.allowedCharPattern&&t.data&&!this.__allowedTextRegExp.test(t.data)&&(t.preventDefault(),this._markInputPrevented())}_allowedCharPatternChanged(t){if(t)try{this.__allowedCharRegExp=new RegExp(`^${t}$`,"u"),this.__allowedTextRegExp=new RegExp(`^${t}*$`,"u")}catch(n){console.error(n)}}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Hb extends sr{constructor(e,t){super(e,"input","input",{initializer:(n,i)=>{i.value&&n.setAttribute("value",i.value),i.type&&n.setAttribute("type",i.type),n.id=this.defaultId,typeof t=="function"&&t(n)},useUniqueId:!0})}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class $v{constructor(e,t){this.input=e,this.__preventDuplicateLabelClick=this.__preventDuplicateLabelClick.bind(this),t.addEventListener("slot-content-changed",n=>{this.__initLabel(n.detail.node)}),this.__initLabel(t.node)}__initLabel(e){e&&(e.addEventListener("click",this.__preventDuplicateLabelClick),this.input&&e.setAttribute("for",this.input.id))}__preventDuplicateLabelClick(){const e=t=>{t.stopImmediatePropagation(),this.input.removeEventListener("click",e)};this.input.addEventListener("click",e)}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd..
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Wb=Q`
  [part='clear-button'] {
    display: none;
    cursor: default;
  }

  [part='clear-button']::before {
    content: '\\2715';
  }

  :host([clear-button-visible][has-value]:not([disabled]):not([readonly])) [part='clear-button'] {
    display: block;
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd..
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Vb=Q`
  :host {
    display: inline-flex;
    outline: none;
  }

  :host::before {
    content: '\\2003';
    width: 0;
    display: inline-block;
    /* Size and position this element on the same vertical position as the input-field element
          to make vertical align for the host element work as expected */
  }

  :host([hidden]) {
    display: none !important;
  }

  :host(:not([has-label])) [part='label'] {
    display: none;
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd..
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const qb=Q`
  [class$='container'] {
    display: flex;
    flex-direction: column;
    min-width: 100%;
    max-width: 100%;
    width: var(--vaadin-field-default-width, 12em);
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd..
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zv=[Vb,qb,Wb];/**
 * @license
 * Copyright (c) 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Bv=r=>class extends r{static get properties(){return{overlayClass:{type:String},_overlayElement:{type:Object}}}static get observers(){return["__updateOverlayClassNames(overlayClass, _overlayElement)"]}__updateOverlayClassNames(t,n){if(!n||t===void 0)return;const{classList:i}=n;if(this.__initialClasses||(this.__initialClasses=new Set(i)),Array.isArray(this.__previousClasses)){const a=this.__previousClasses.filter(s=>!this.__initialClasses.has(s));a.length>0&&i.remove(...a)}const o=typeof t=="string"?t.split(" "):[];o.length>0&&i.add(...o),this.__previousClasses=o}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Xb{constructor(e){this.host=e,e.addEventListener("opened-changed",()=>{e.opened||this.__setVirtualKeyboardEnabled(!1)}),e.addEventListener("blur",()=>this.__setVirtualKeyboardEnabled(!0)),e.addEventListener("touchstart",()=>this.__setVirtualKeyboardEnabled(!0))}__setVirtualKeyboardEnabled(e){this.host.inputElement&&(this.host.inputElement.inputMode=e?"":"none")}}/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Kb=r=>class extends Bv(mr(Dv(kv(zs(r))))){static get properties(){return{_selectedDate:{type:Date},_focusedDate:Date,value:{type:String,notify:!0,value:""},initialPosition:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:"_openedChanged"},autoOpenDisabled:Boolean,showWeekNumbers:{type:Boolean,value:!1},_fullscreen:{type:Boolean,value:!1},_fullscreenMediaQuery:{value:"(max-width: 420px), (max-height: 420px)"},i18n:{type:Object,value:()=>({monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDayOfWeek:0,today:"Today",cancel:"Cancel",referenceDate:"",formatDate(t){const n=String(t.year).replace(/\d+/u,i=>"0000".substr(i.length)+i);return[t.month+1,t.day,n].join("/")},parseDate(t){const n=t.split("/"),i=new Date;let o,a=i.getMonth(),s=i.getFullYear();if(n.length===3){if(a=parseInt(n[0])-1,o=parseInt(n[1]),s=parseInt(n[2]),n[2].length<3&&s>=0){const l=this.referenceDate?an(this.referenceDate):new Date;s=Rb(l,s,a,o)}}else n.length===2?(a=parseInt(n[0])-1,o=parseInt(n[1])):n.length===1&&(o=parseInt(n[0]));if(o!==void 0)return{day:o,month:a,year:s}},formatTitle:(t,n)=>`${t} ${n}`})},min:{type:String},max:{type:String},_minDate:{type:Date,computed:"__computeMinOrMaxDate(min)"},_maxDate:{type:Date,computed:"__computeMinOrMaxDate(max)"},_noInput:{type:Boolean,computed:"_isNoInput(inputElement, _fullscreen, _ios, i18n, opened, autoOpenDisabled)"},_ios:{type:Boolean,value:Nh},_focusOverlayOnOpen:Boolean,_overlayContent:Object,_hasInputValue:{type:Boolean}}}static get observers(){return["_selectedDateChanged(_selectedDate, i18n.formatDate)","_focusedDateChanged(_focusedDate, i18n.formatDate)","__updateOverlayContent(_overlayContent, i18n, label, _minDate, _maxDate, _focusedDate, _selectedDate, showWeekNumbers)","__updateOverlayContentTheme(_overlayContent, _theme)","__updateOverlayContentFullScreen(_overlayContent, _fullscreen)"]}static get constraints(){return[...super.constraints,"min","max"]}constructor(){super(),this._boundOnClick=this._onClick.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._boundOverlayRenderer=this._overlayRenderer.bind(this)}get _inputElementValue(){return super._inputElementValue}set _inputElementValue(t){super._inputElementValue=t,this._hasInputValue=!1}get clearElement(){return null}get _nativeInput(){return this.inputElement?this.inputElement.focusElement||this.inputElement:null}_onFocus(t){super._onFocus(t),this._noInput&&t.target.blur()}_onBlur(t){super._onBlur(t),this.opened||(this.autoOpenDisabled&&this._selectParsedOrFocusedDate(),this.validate(),this._inputElementValue===""&&this.value!==""&&(this.value=""))}ready(){super.ready(),this.addEventListener("click",this._boundOnClick),this.addController(new Av(this._fullscreenMediaQuery,n=>{this._fullscreen=n})),this.addController(new Xb(this));const t=this.$.overlay;this._overlayElement=t,t.renderer=this._boundOverlayRenderer,this.addEventListener("mousedown",()=>this.__bringToFront()),this.addEventListener("touchstart",()=>this.__bringToFront())}disconnectedCallback(){super.disconnectedCallback(),this.opened=!1}_propertiesChanged(t,n,i){super._propertiesChanged(t,n,i),"value"in n&&this.__dispatchChange&&(this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.__dispatchChange=!1)}open(){!this.disabled&&!this.readonly&&(this.opened=!0)}close(){this.$.overlay.close()}_overlayRenderer(t){if(t.firstChild)return;const n=document.createElement("vaadin-date-picker-overlay-content");t.appendChild(n),this._overlayContent=n,n.addEventListener("close",()=>{this._close()}),n.addEventListener("focus-input",this._focusAndSelect.bind(this)),n.addEventListener("date-tap",i=>{this.__userConfirmedDate=!0,this._selectDate(i.detail.date),this._close()}),n.addEventListener("date-selected",i=>{this.__userConfirmedDate=!!i.detail.date,this._selectDate(i.detail.date)}),n.addEventListener("focusin",()=>{this._keyboardActive&&this._setFocused(!0)}),n.addEventListener("focused-date-changed",i=>{this._focusedDate=i.detail.value})}checkValidity(){const t=this._inputElementValue,n=!t||!!this._selectedDate&&t===this._getFormattedDate(this.i18n.formatDate,this._selectedDate),i=!this._selectedDate||Ci(this._selectedDate,this._minDate,this._maxDate);let o=!0;return this.inputElement&&(this.inputElement.checkValidity?o=this.inputElement.checkValidity():this.inputElement.validate&&(o=this.inputElement.validate())),n&&i&&o}_shouldSetFocus(t){return!this._shouldKeepFocusRing}_shouldRemoveFocus(t){return!this.opened}_setFocused(t){super._setFocused(t),this._shouldKeepFocusRing=t&&this._keyboardActive}_selectDate(t){const n=this._formatISO(t);this.value!==n&&(this.__dispatchChange=!0),this._selectedDate=t}_close(){this._focus(),this.close()}__bringToFront(){requestAnimationFrame(()=>{this.$.overlay.bringToFront()})}_isNoInput(t,n,i,o,a,s){return!t||n&&(!s||a)||i&&a||!o.parseDate}_formatISO(t){if(!(t instanceof Date))return"";const n=(h,c="00")=>(c+h).substr((c+h).length-c.length);let i="",o="0000",a=t.getFullYear();a<0?(a=-a,i="-",o="000000"):t.getFullYear()>=1e4&&(i="+",o="000000");const s=i+n(a,o),l=n(t.getMonth()+1),u=n(t.getDate());return[s,l,u].join("-")}_inputElementChanged(t){super._inputElementChanged(t),t&&(t.autocomplete="off",t.setAttribute("role","combobox"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded",!!this.opened),this._applyInputValue(this._selectedDate))}_openedChanged(t){this.inputElement&&this.inputElement.setAttribute("aria-expanded",t)}_selectedDateChanged(t,n){if(t===void 0||n===void 0)return;const i=this._formatISO(t);this.__keepInputValue||this._applyInputValue(t),i!==this.value&&(this.validate(),this.value=i),this._ignoreFocusedDateChange=!0,this._focusedDate=t,this._ignoreFocusedDateChange=!1}_focusedDateChanged(t,n){t===void 0||n===void 0||!this._ignoreFocusedDateChange&&!this._noInput&&this._applyInputValue(t)}_valueChanged(t,n){const i=an(t);if(t&&!i){this.value=n;return}t?Ue(this._selectedDate,i)||(this._selectedDate=i,n!==void 0&&this.validate()):this._selectedDate=null,this._toggleHasValue(this._hasValue)}__updateOverlayContent(t,n,i,o,a,s,l,u){t&&t.setProperties({i18n:n,label:i,minDate:o,maxDate:a,focusedDate:s,selectedDate:l,showWeekNumbers:u})}__updateOverlayContentTheme(t,n){t&&(n?t.setAttribute("theme",n):t.removeAttribute("theme"))}__updateOverlayContentFullScreen(t,n){t&&t.toggleAttribute("fullscreen",n)}_onOverlayEscapePress(){this._focusedDate=this._selectedDate,this._close()}_onOverlayOpened(){const t=this._getInitialPosition();this._overlayContent.initialPosition=t;const n=this._overlayContent.focusedDate||t;this._overlayContent.scrollToDate(n),this._ignoreFocusedDateChange=!0,this._overlayContent.focusedDate=n,this._ignoreFocusedDateChange=!1,window.addEventListener("scroll",this._boundOnScroll,!0),this._focusOverlayOnOpen?(this._overlayContent.focusDateElement(),this._focusOverlayOnOpen=!1):this._focus(),this._noInput&&this.focusElement&&(this.focusElement.blur(),this._overlayContent.focusDateElement())}_getInitialPosition(){const t=an(this.initialPosition),n=this._selectedDate||this._overlayContent.initialPosition||t||new Date;return t||Ci(n,this._minDate,this._maxDate)?n:Sv(n,[this._minDate,this._maxDate])}_selectParsedOrFocusedDate(){if(this._ignoreFocusedDateChange=!0,this.i18n.parseDate){const t=this._inputElementValue||"",n=this._getParsedDate(t);this._isValidDate(n)?this._selectDate(n):(this.__keepInputValue=!0,this._selectDate(null),this._selectedDate=null,this.__keepInputValue=!1)}else this._focusedDate&&this._selectDate(this._focusedDate);this._ignoreFocusedDateChange=!1}_onOverlayClosed(){window.removeEventListener("scroll",this._boundOnScroll,!0),this.__userConfirmedDate?this.__userConfirmedDate=!1:this._selectParsedOrFocusedDate(),this._nativeInput&&this._nativeInput.selectionStart&&(this._nativeInput.selectionStart=this._nativeInput.selectionEnd),this.value||this.validate()}_onScroll(t){(t.target===window||!this._overlayContent.contains(t.target))&&this._overlayContent._repositionYearScroller()}_focus(){this._noInput||this.inputElement.focus()}_focusAndSelect(){this._focus(),this._setSelectionRange(0,this._inputElementValue.length)}_applyInputValue(t){this._inputElementValue=t?this._getFormattedDate(this.i18n.formatDate,t):""}_getFormattedDate(t,n){return t(tc(n))}_setSelectionRange(t,n){this._nativeInput&&this._nativeInput.setSelectionRange&&this._nativeInput.setSelectionRange(t,n)}_isValidDate(t){return t&&!isNaN(t.getTime())}_onChange(t){this._inputElementValue===""&&(this.__dispatchChange=!0),t.stopPropagation()}_onClick(t){this._isClearButton(t)||this._onHostClick(t)}_onHostClick(t){(!this.autoOpenDisabled||this._noInput)&&(t.preventDefault(),this.open())}_onClearButtonClick(t){t.preventDefault(),this._inputElementValue="",this.value="",this.validate(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}_onKeyDown(t){switch(super._onKeyDown(t),this._noInput&&[9].indexOf(t.keyCode)===-1&&t.preventDefault(),t.key){case"ArrowDown":case"ArrowUp":t.preventDefault(),this.opened?this._overlayContent.focusDateElement():(this._focusOverlayOnOpen=!0,this.open());break;case"Tab":this.opened&&(t.preventDefault(),t.stopPropagation(),this._setSelectionRange(0,0),t.shiftKey?this._overlayContent.focusCancel():this._overlayContent.focusDateElement());break}}_onEnter(t){const n=this.value;this.opened?this.close():this._selectParsedOrFocusedDate(),n===this.value&&this.validate()}_onEscape(t){if(!this.opened){if(this.clearButtonVisible&&this.value){t.stopPropagation(),this._onClearButtonClick(t);return}this.autoOpenDisabled?(this.inputElement.value===""&&this._selectDate(null),this._applyInputValue(this._selectedDate)):(this._focusedDate=this._selectedDate,this._selectParsedOrFocusedDate())}}_getParsedDate(t=this._inputElementValue){const n=this.i18n.parseDate&&this.i18n.parseDate(t);return n&&an(`${n.year}-${n.month+1}-${n.day}`)}_isClearButton(t){return t.composedPath()[0]===this.clearElement}_onInput(){!this.opened&&this.inputElement.value&&!this.autoOpenDisabled&&this.open(),this._userInputValueChanged()}_userInputValueChanged(){if(this._inputElementValue){const t=this._getParsedDate();this._isValidDate(t)&&(this._ignoreFocusedDateChange=!0,Ue(t,this._focusedDate)||(this._focusedDate=t),this._ignoreFocusedDateChange=!1)}}__computeMinOrMaxDate(t){return an(t)}};/**
 * @license
 * Copyright (c) 2016 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-date-picker",zv,{moduleId:"vaadin-date-picker-styles"});class Sf extends Kb(Fv(ie(Ie(Ft)))){static get is(){return"vaadin-date-picker"}static get template(){return Dt`
      <style>
        :host([opened]) {
          pointer-events: auto;
        }

        :host([dir='rtl']) [part='input-field'] {
          direction: ltr;
        }

        :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {
          direction: rtl;
          text-align: left;
        }
      </style>

      <div class="vaadin-date-picker-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true" on-click="focus"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="input"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
          <div part="toggle-button" slot="suffix" aria-hidden="true" on-click="_toggle"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <vaadin-date-picker-overlay
        id="overlay"
        fullscreen$="[[_fullscreen]]"
        theme$="[[_theme]]"
        opened="{{opened}}"
        on-vaadin-overlay-escape-press="_onOverlayEscapePress"
        on-vaadin-overlay-open="_onOverlayOpened"
        on-vaadin-overlay-closing="_onOverlayClosed"
        restore-focus-on-close
        restore-focus-node="[[inputElement]]"
      ></vaadin-date-picker-overlay>

      <slot name="tooltip"></slot>
    `}get clearElement(){return this.$.clearButton}ready(){super.ready(),this.addController(new Hb(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new $v(this.inputElement,this._labelController)),this._tooltipController=new Wh(this),this.addController(this._tooltipController),this._tooltipController.setPosition("top"),this._tooltipController.setShouldShow(t=>!t.opened),this.shadowRoot.querySelector('[part="toggle-button"]').addEventListener("mousedown",t=>t.preventDefault()),this.$.overlay.addEventListener("vaadin-overlay-close",this._onVaadinOverlayClose.bind(this))}_onVaadinOverlayClose(e){e.detail.sourceEvent&&e.detail.sourceEvent.composedPath().includes(this)&&e.preventDefault()}_toggle(e){e.stopPropagation(),this.$.overlay.opened?this.close():this.open()}_openedChanged(e){super._openedChanged(e),this.$.overlay.positionTarget=this.shadowRoot.querySelector('[part="input-field"]'),this.$.overlay.noVerticalOverlap=!0}}customElements.define(Sf.is,Sf);const Zb=Q`
  :host([theme~='margin']) {
    margin: var(--lumo-space-m);
  }

  :host([theme~='padding']) {
    padding: var(--lumo-space-m);
  }

  :host([theme~='spacing-xs']) {
    gap: var(--lumo-space-xs);
  }

  :host([theme~='spacing-s']) {
    gap: var(--lumo-space-s);
  }

  :host([theme~='spacing']) {
    gap: var(--lumo-space-m);
  }

  :host([theme~='spacing-l']) {
    gap: var(--lumo-space-l);
  }

  :host([theme~='spacing-xl']) {
    gap: var(--lumo-space-xl);
  }
`;ht("vaadin-horizontal-layout",Zb,{moduleId:"lumo-horizontal-layout"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class If extends Ie(ie(Ft)){static get template(){return Dt`
      <style>
        :host {
          display: flex;
          box-sizing: border-box;
        }

        :host([hidden]) {
          display: none !important;
        }

        /* Theme variations */
        :host([theme~='margin']) {
          margin: 1em;
        }

        :host([theme~='padding']) {
          padding: 1em;
        }

        :host([theme~='spacing']) {
          gap: 1em;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-horizontal-layout"}}customElements.define(If.is,If);/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */ht("vaadin-map",Q`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      --vaadin-map-controls-inset: var(--lumo-space-xs);
      --vaadin-map-icon-zoom-in: var(--lumo-icons-plus);
      --vaadin-map-icon-zoom-out: var(--lumo-icons-minus);
      --vaadin-map-icon-compass: var(--lumo-icons-arrow-up);
      --vaadin-map-icon-overview-map-collapse: var(--lumo-icons-angle-down);
      --vaadin-map-icon-overview-map-expand: var(--lumo-icons-angle-up);
      --vaadin-map-icon-close: var(--lumo-icons-cross);
      --vaadin-map-icon-attribution-collapse: var(--lumo-icons-angle-right);
    }

    :host(:not([theme~='borderless'])) {
      border-radius: var(--lumo-border-radius-l);
      position: relative;
    }

    :host(:not([theme~='borderless']))::before {
      content: '';
      position: absolute;
      inset: 0;
      border: 1px solid var(--lumo-contrast-10pct);
      border-radius: inherit;
      z-index: 1;
      pointer-events: none;
    }

    :host([focus-ring]) {
      box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    .ol-control,
    .ol-scale-bar,
    .ol-scale-line {
      margin: var(--lumo-space-xs);
    }

    .ol-control {
      border-radius: var(--lumo-border-radius-m);
      transition: 0.15s box-shadow, 0.15s background-color;
      -webkit-backdrop-filter: blur(8px);
    }

    .ol-control:hover {
      background-color: var(--lumo-base-color);
    }

    .ol-control:not(.ol-uncollapsible):hover {
      box-shadow: var(--lumo-box-shadow-s);
      background-color: var(--lumo-shade-20pct);
    }

    .ol-control button {
      width: var(--lumo-size-s);
      height: var(--lumo-size-s);
      border-radius: inherit;
      font-family: 'lumo-icons';
      font-size: var(--lumo-icon-size-s);
      font-weight: 400;
    }

    .ol-control button,
    .ol-attribution:not(.ol-uncollapsible) ul {
      transition: 0.15s opacity;
      background-color: var(--lumo-base-color);
      color: var(--lumo-body-text-color);
      opacity: 0.65;
    }

    .ol-control:hover button,
    .ol-control button:focus,
    .ol-attribution:hover ul {
      opacity: 1;
    }

    .ol-control button:hover {
      color: var(--lumo-primary-text-color);
    }

    .ol-control button:active {
      background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    }

    @supports not selector(:focus-visible) {
      .ol-control button:focus {
        outline: none;
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
      }
    }

    .ol-control button:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    .ol-zoom {
      gap: 2px;
    }

    button.ol-zoom-in {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }

    button.ol-zoom-out {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }

    .ol-attribution.ol-uncollapsible {
      border-radius: var(--lumo-border-radius-m) 0 0 0;
    }

    .ol-attribution ul {
      font-size: var(--lumo-font-size-xxs);
      color: var(--lumo-secondary-text-color);
      padding: var(--lumo-space-xs) var(--lumo-space-s);
      cursor: default;
    }

    .ol-attribution:not(.ol-uncollapsible) ul {
      background-color: var(--lumo-base-color);
    }

    .ol-attribution a {
      color: inherit;
      cursor: pointer;
    }

    .ol-scale-bar-inner {
      border-radius: var(--lumo-border-radius-s);
    }

    .ol-full-screen {
      height: var(--lumo-size-s);
    }

    .ol-overviewmap:not(.ol-collapsed),
    .ol-overviewmap:not(.ol-collapsed):hover {
      background-color: var(--lumo-base-color);
      box-shadow: var(--lumo-box-shadow-s);
      transition: 0.15s box-shadow;
    }

    .ol-overviewmap-map {
      margin: var(--lumo-space-xs);
      border: 0;
      border-radius: var(--lumo-border-radius-s);
    }

    .ol-overviewmap:not(.ol-uncollapsible) .ol-overviewmap-map {
      margin-bottom: 0;
    }

    .ol-zoomslider:not(.ol-uncollapsible):hover {
      box-shadow: none;
      overflow: visible;
    }

    .ol-zoomslider button {
      height: var(--lumo-space-m);
    }

    .ol-zoomslider:hover button {
      box-shadow: var(--lumo-box-shadow-s);
    }
  `,{moduleId:"lumo-map"});var Qb=function(){function r(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return r.prototype.preventDefault=function(){this.defaultPrevented=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r}();const Re=Qb,In={PROPERTYCHANGE:"propertychange"};var Jb=function(){function r(){this.disposed=!1}return r.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},r}();const rc=Jb;function Rn(r,e){return r>e?1:r<e?-1:0}function Gs(r,e,t){var n=r.length;if(r[0]<=e)return 0;if(e<=r[n-1])return n-1;var i=void 0;if(t>0){for(i=1;i<n;++i)if(r[i]<e)return i-1}else if(t<0){for(i=1;i<n;++i)if(r[i]<=e)return i}else for(i=1;i<n;++i){if(r[i]==e)return i;if(r[i]<e)return typeof t=="function"?t(e,r[i-1],r[i])>0?i-1:i:r[i-1]-e<e-r[i]?i-1:i}return n-1}function tw(r,e,t){for(;e<t;){var n=r[e];r[e]=r[t],r[t]=n,++e,--t}}function Gv(r,e){for(var t=Array.isArray(e)?e:[e],n=t.length,i=0;i<n;i++)r[r.length]=t[i]}function qr(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function ew(r,e,t){var n=e||Rn;return r.every(function(i,o){if(o===0)return!0;var a=n(r[o-1],i);return!(a>0||t&&a===0)})}function wn(){return!0}function Us(){return!1}function Gr(){}function rw(r){var e=!1,t,n,i;return function(){var o=Array.prototype.slice.call(arguments);return(!e||this!==i||!qr(o,n))&&(e=!0,i=this,n=o,t=r.apply(this,arguments)),t}}var ut=typeof Object.assign=="function"?Object.assign:function(r,e){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t};function Zi(r){for(var e in r)delete r[e]}var Uv=typeof Object.values=="function"?Object.values:function(r){var e=[];for(var t in r)e.push(r[t]);return e};function Ni(r){var e;for(e in r)return!1;return!e}var nw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iw=function(r){nw(e,r);function e(t){var n=r.call(this)||this;return n.eventTarget_=t,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return e.prototype.addEventListener=function(t,n){if(!(!t||!n)){var i=this.listeners_||(this.listeners_={}),o=i[t]||(i[t]=[]);o.indexOf(n)===-1&&o.push(n)}},e.prototype.dispatchEvent=function(t){var n=typeof t=="string",i=n?t:t.type,o=this.listeners_&&this.listeners_[i];if(o){var a=n?new Re(t):t;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,l[i]=0),++s[i];for(var u,h=0,c=o.length;h<c;++h)if("handleEvent"in o[h]?u=o[h].handleEvent(a):u=o[h].call(this,a),u===!1||a.propagationStopped){u=!1;break}if(--s[i]===0){var f=l[i];for(delete l[i];f--;)this.removeEventListener(i,Gr);delete s[i]}return u}},e.prototype.disposeInternal=function(){this.listeners_&&Zi(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},e.prototype.removeEventListener=function(t,n){var i=this.listeners_&&this.listeners_[t];if(i){var o=i.indexOf(n);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[o]=Gr,++this.pendingRemovals_[t]):(i.splice(o,1),i.length===0&&delete this.listeners_[t]))}},e}(rc);const Bn=iw,G={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Z(r,e,t,n,i){if(n&&n!==r&&(t=t.bind(n)),i){var o=t;t=function(){r.removeEventListener(e,t),o.apply(this,arguments)}}var a={target:r,type:e,listener:t};return r.addEventListener(e,t),a}function ka(r,e,t,n){return Z(r,e,t,n,!0)}function pt(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Zi(r))}var ow=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ys=function(r){ow(e,r);function e(){var t=r.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return e.prototype.changed=function(){++this.revision_,this.dispatchEvent(G.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,n){if(Array.isArray(t)){for(var i=t.length,o=new Array(i),a=0;a<i;++a)o[a]=Z(this,t[a],n);return o}else return Z(this,t,n)},e.prototype.onceInternal=function(t,n){var i;if(Array.isArray(t)){var o=t.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=ka(this,t[a],n)}else i=ka(this,t,n);return n.ol_key=i,i},e.prototype.unInternal=function(t,n){var i=n.ol_key;if(i)aw(i);else if(Array.isArray(t))for(var o=0,a=t.length;o<a;++o)this.removeEventListener(t[o],n);else this.removeEventListener(t,n)},e}(Bn);Ys.prototype.on;Ys.prototype.once;Ys.prototype.un;function aw(r){if(Array.isArray(r))for(var e=0,t=r.length;e<t;++e)pt(r[e]);else pt(r)}const Yv=Ys;function X(){return function(){throw new Error("Unimplemented abstract method.")}()}var sw=0;function et(r){return r.ol_uid||(r.ol_uid=String(++sw))}var lw="6.13.0",jv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rf=function(r){jv(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.key=n,o.oldValue=i,o}return e}(Re),uw=function(r){jv(e,r);function e(t){var n=r.call(this)||this;return n.on,n.once,n.un,et(n),n.values_=null,t!==void 0&&n.setProperties(t),n}return e.prototype.get=function(t){var n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&ut({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,n){var i;i="change:".concat(t),this.hasListener(i)&&this.dispatchEvent(new Rf(i,t,n)),i=In.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Rf(i,t,n))},e.prototype.addChangeListener=function(t,n){this.addEventListener("change:".concat(t),n)},e.prototype.removeChangeListener=function(t,n){this.removeEventListener("change:".concat(t),n)},e.prototype.set=function(t,n,i){var o=this.values_||(this.values_={});if(i)o[t]=n;else{var a=o[t];o[t]=n,a!==n&&this.notify(t,a)}},e.prototype.setProperties=function(t,n){for(var i in t)this.set(i,t[i],n)},e.prototype.applyProperties=function(t){t.values_&&ut(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,n){if(this.values_&&t in this.values_){var i=this.values_[t];delete this.values_[t],Ni(this.values_)&&(this.values_=null),n||this.notify(t,i)}},e}(Yv);const Ae=uw,zo={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};var An=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",hw=An.indexOf("firefox")!==-1;An.indexOf("safari")!==-1&&An.indexOf("chrom")==-1;var cw=An.indexOf("webkit")!==-1&&An.indexOf("edge")==-1,fw=An.indexOf("macintosh")!==-1,Hv=typeof devicePixelRatio<"u"?devicePixelRatio:1,js=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,dw=typeof Image<"u"&&Image.prototype.decode,Wv=function(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();function ue(r,e,t,n){var i;return t&&t.length?i=t.shift():js?i=new OffscreenCanvas(r||300,e||300):i=document.createElement("canvas"),r&&(i.width=r),e&&(i.height=e),i.getContext("2d",n)}function Af(r,e){var t=e.parentNode;t&&t.replaceChild(r,e)}function nu(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function pw(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function _w(r,e){for(var t=r.childNodes,n=0;;++n){var i=t[n],o=e[n];if(!i&&!o)break;if(i!==o){if(!i){r.appendChild(o);continue}if(!o){r.removeChild(i),--n;continue}r.insertBefore(o,i)}}}var vw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yw=function(r){vw(e,r);function e(t){var n=r.call(this)||this,i=t.element;return i&&!t.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],t.render&&(n.render=t.render),t.target&&n.setTarget(t.target),n}return e.prototype.disposeInternal=function(){nu(this.element),r.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&nu(this.element);for(var n=0,i=this.listenerKeys.length;n<i;++n)pt(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==Gr&&this.listenerKeys.push(Z(t,zo.POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},e}(Ae);const nc=yw;var Co="ol-hidden",Hs="ol-unselectable",ic="ol-control",Df="ol-collapsed",gw=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Lf=["style","variant","weight","size","lineHeight","family"],Vv=function(r){var e=r.match(gw);if(!e)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},n=0,i=Lf.length;n<i;++n){var o=e[n+1];o!==void 0&&(t[Lf[n]]=o)}return t.families=t.family.split(/,\s?/),t};function qv(r){return r===1?"":String(Math.round(r*100)/100)}const ot={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var mw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bw=function(r){mw(e,r);function e(t){var n=this,i="v"+lw.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return n=r.call(this,o)||this,n.code=t,n.name="AssertionError",n.message=o,n}return e}(Error);const Xv=bw;function V(r,e){if(!r)throw new Xv(e)}function mt(r,e,t){return Math.min(Math.max(r,e),t)}var ww=function(){var r;return"cosh"in Math?r=Math.cosh:r=function(e){var t=Math.exp(e);return(t+1/t)/2},r}(),xw=function(){var r;return"log2"in Math?r=Math.log2:r=function(e){return Math.log(e)*Math.LOG2E},r}();function Ew(r,e,t,n,i,o){var a=i-t,s=o-n;if(a!==0||s!==0){var l=((r-t)*a+(e-n)*s)/(a*a+s*s);l>1?(t=i,n=o):l>0&&(t+=a*l,n+=s*l)}return xn(r,e,t,n)}function xn(r,e,t,n){var i=t-r,o=n-e;return i*i+o*o}function Tw(r){for(var e=r.length,t=0;t<e;t++){for(var n=t,i=Math.abs(r[t][t]),o=t+1;o<e;o++){var a=Math.abs(r[o][t]);a>i&&(i=a,n=o)}if(i===0)return null;var s=r[n];r[n]=r[t],r[t]=s;for(var l=t+1;l<e;l++)for(var u=-r[l][t]/r[t][t],h=t;h<e+1;h++)t==h?r[l][h]=0:r[l][h]+=u*r[t][h]}for(var c=new Array(e),f=e-1;f>=0;f--){c[f]=r[f][e]/r[f][f];for(var d=f-1;d>=0;d--)r[d][e]-=r[d][f]*c[f]}return c}function Bo(r){return r*Math.PI/180}function Fr(r,e){var t=r%e;return t*e<0?t+e:t}function Sr(r,e,t){return r+t*(e-r)}function oc(r,e){var t=Math.pow(10,e);return Math.round(r*t)/t}function Nf(r,e){return Math.round(oc(r,e))}function hn(r,e){return Math.floor(oc(r,e))}function lr(r,e){return Math.ceil(oc(r,e))}var Cw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ow=function(r){Cw(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un,n.background_=t.background;var i=ut({},t);return typeof t.properties=="object"&&(delete i.properties,ut(i,t.properties)),i[ot.OPACITY]=t.opacity!==void 0?t.opacity:1,V(typeof i[ot.OPACITY]=="number",64),i[ot.VISIBLE]=t.visible!==void 0?t.visible:!0,i[ot.Z_INDEX]=t.zIndex,i[ot.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[ot.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[ot.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[ot.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,n.className_=i.className!==void 0?i.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=mt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n},e.prototype.getLayersArray=function(t){return X()},e.prototype.getLayerStatesArray=function(t){return X()},e.prototype.getExtent=function(){return this.get(ot.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ot.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ot.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(ot.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(ot.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(ot.OPACITY)},e.prototype.getSourceState=function(){return X()},e.prototype.getVisible=function(){return this.get(ot.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ot.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(ot.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ot.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ot.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(ot.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(ot.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){V(typeof t=="number",64),this.set(ot.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ot.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ot.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),r.prototype.disposeInternal.call(this)},e}(Ae);const Kv=Ow,Ur={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Yr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};var Mw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qi=function(r){Mw(e,r);function e(t){var n=this,i=ut({},t);delete i.source,n=r.call(this,i)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,t.render&&(n.render=t.render),t.map&&n.setMap(t.map),n.addChangeListener(ot.SOURCE,n.handleSourcePropertyChange_);var o=t.source?t.source:null;return n.setSource(o),n}return e.prototype.getLayersArray=function(t){var n=t||[];return n.push(this),n},e.prototype.getLayerStatesArray=function(t){var n=t||[];return n.push(this.getLayerState()),n},e.prototype.getSource=function(){return this.get(ot.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Yr.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(pt(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Z(t,G.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(n){return n([])})},e.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},e.prototype.render=function(t,n){var i=this.getRenderer();if(i.prepareFrame(t))return this.rendered=!0,i.renderFrame(t,n)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(ot.MAP,t)},e.prototype.getMapInternal=function(){return this.get(ot.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(pt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(pt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Z(t,Ur.PRECOMPOSE,function(n){var i=n,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);V(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Z(this,G.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ot.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),r.prototype.disposeInternal.call(this)},e}(Kv);function Fa(r,e){if(!r.visible)return!1;var t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;var n=e.zoom;return n>r.minZoom&&n<=r.maxZoom}var Pw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sw=function(r){Pw(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=i.collapsed!==void 0?i.collapsed:!0,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=i.collapsible!==void 0,n.collapsible_=i.collapsible!==void 0?i.collapsible:!0,n.collapsible_||(n.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",l=i.collapseLabel!==void 0?i.collapseLabel:"›",u=i.collapseClassName!==void 0?i.collapseClassName:o+"-collapse";typeof l=="string"?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=l,n.collapseLabel_.className=u):n.collapseLabel_=l;var h=i.label!==void 0?i.label:"i";typeof h=="string"?(n.label_=document.createElement("span"),n.label_.textContent=h,n.label_.className=s):n.label_=h;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(G.CLICK,n.handleClick_.bind(n),!1);var f=o+" "+Hs+" "+ic+(n.collapsed_&&n.collapsible_?" "+Df:"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=f,d.appendChild(n.toggleButton_),d.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return e.prototype.collectSourceAttributions_=function(t){for(var n={},i=[],o=!0,a=t.layerStatesArray,s=0,l=a.length;s<l;++s){var u=a[s];if(Fa(u,t.viewState)){var h=u.layer.getSource();if(h){var c=h.getAttributions();if(c){var f=c(t);if(f)if(o=o&&h.getAttributionsCollapsible()!==!1,Array.isArray(f))for(var d=0,p=f.length;d<p;++d)f[d]in n||(i.push(f[d]),n[f[d]]=!0);else f in n||(i.push(f),n[f]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},e.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var n=this.collectSourceAttributions_(t),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!qr(n,this.renderedAttributions_)){pw(this.ulElement_);for(var o=0,a=n.length;o<a;++o){var s=document.createElement("li");s.innerHTML=n[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(Df),this.collapsed_?Af(this.collapseLabel_,this.label_):Af(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(nc);const Iw=Sw,Kt={ADD:"add",REMOVE:"remove"};var Zv=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kf={LENGTH:"length"},Oo=function(r){Zv(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.element=n,o.index=i,o}return e}(Re),Rw=function(r){Zv(e,r);function e(t,n){var i=r.call(this)||this;i.on,i.once,i.un;var o=n||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var n=0,i=t.length;n<i;++n)this.push(t[n]);return this},e.prototype.forEach=function(t){for(var n=this.array_,i=0,o=n.length;i<o;++i)t(n[i],i,n)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(kf.LENGTH)},e.prototype.insertAt=function(t,n){this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Oo(Kt.ADD,n,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var n=this.getLength();return this.insertAt(n,t),this.getLength()},e.prototype.remove=function(t){for(var n=this.array_,i=0,o=n.length;i<o;++i)if(n[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Oo(Kt.REMOVE,n,t)),n},e.prototype.setAt=function(t,n){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(n,t);var o=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Oo(Kt.REMOVE,o,t)),this.dispatchEvent(new Oo(Kt.ADD,n,t))}else{for(var a=i;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,n)}},e.prototype.updateLength_=function(){this.set(kf.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,n){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==n)throw new Xv(58)},e}(Ae);const re=Rw;function Qv(r){return Math.pow(r,3)}function Gn(r){return 1-Qv(1-r)}function Aw(r){return 3*r*r-2*r*r*r}function Dw(r){return r}var Lw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nw=function(r){Lw(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"⇧",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";n.label_=null,typeof a=="string"?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var l=i.tipLabel?i.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(n.label_),u.addEventListener(G.CLICK,n.handleClick_.bind(n),!1);var h=o+" "+Hs+" "+ic,c=n.element;return c.className=h,c.appendChild(u),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=i.duration!==void 0?i.duration:250,n.autoHide_=i.autoHide!==void 0?i.autoHide:!0,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Co),n}return e.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),n=t.getView();if(n){var i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Gn}):n.setRotation(0))}},e.prototype.render=function(t){var n=t.frameState;if(n){var i=n.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(Co);!a&&i===0?this.element.classList.add(Co):a&&i!==0&&this.element.classList.remove(Co)}this.label_.style.transform=o}this.rotation_=i}},e}(nc);const kw=Nw;var Fw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$w=function(r){Fw(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",l=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",u=i.zoomInLabel!==void 0?i.zoomInLabel:"+",h=i.zoomOutLabel!==void 0?i.zoomOutLabel:"–",c=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",f=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof u=="string"?document.createTextNode(u):u),d.addEventListener(G.CLICK,n.handleClick_.bind(n,a),!1);var p=document.createElement("button");p.className=l,p.setAttribute("type","button"),p.title=f,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(G.CLICK,n.handleClick_.bind(n,-a),!1);var _=o+" "+Hs+" "+ic,v=n.element;return v.className=_,v.appendChild(d),v.appendChild(p),n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleClick_=function(t,n){n.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var n=this.getMap(),i=n.getView();if(i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Gn})):i.setZoom(a)}}},e}(nc);const zw=$w,$t={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},iu={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Un={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},he={};he[Un.RADIANS]=6370997/(2*Math.PI);he[Un.DEGREES]=2*Math.PI*6370997/360;he[Un.FEET]=.3048;he[Un.METERS]=1;he[Un.USFEET]=1200/3937;const je=Un;var Bw=function(){function r(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||he[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},r.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},r.prototype.setWorldExtent=function(e){this.worldExtent_=e},r.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},r}();const ac=Bw;var Gw=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ji=6378137,cn=Math.PI*Ji,Uw=[-cn,-cn,cn,cn],Yw=[-180,-85,180,85],Mo=Ji*Math.log(Math.tan(Math.PI/2)),tn=function(r){Gw(e,r);function e(t){return r.call(this,{code:t,units:je.METERS,extent:Uw,global:!0,worldExtent:Yw,getPointResolution:function(n,i){return n/ww(i[1]/Ji)}})||this}return e}(ac),Ff=[new tn("EPSG:3857"),new tn("EPSG:102100"),new tn("EPSG:102113"),new tn("EPSG:900913"),new tn("http://www.opengis.net/def/crs/EPSG/0/3857"),new tn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function jw(r,e,t){var n=r.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=r.slice():o=new Array(n));for(var a=0;a<n;a+=i){o[a]=cn*r[a]/180;var s=Ji*Math.log(Math.tan(Math.PI*(+r[a+1]+90)/360));s>Mo?s=Mo:s<-Mo&&(s=-Mo),o[a+1]=s}return o}function Hw(r,e,t){var n=r.length,i=t>1?t:2,o=e;o===void 0&&(i>2?o=r.slice():o=new Array(n));for(var a=0;a<n;a+=i)o[a]=180*r[a]/cn,o[a+1]=360*Math.atan(Math.exp(r[a+1]/Ji))/Math.PI-90;return o}var Ww=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vw=6378137,$f=[-180,-90,180,90],qw=Math.PI*Vw/180,Or=function(r){Ww(e,r);function e(t,n){return r.call(this,{code:t,units:je.DEGREES,extent:$f,axisOrientation:n,global:!0,metersPerUnit:qw,worldExtent:$f})||this}return e}(ac),zf=[new Or("CRS:84"),new Or("EPSG:4326","neu"),new Or("urn:ogc:def:crs:OGC:1.3:CRS84"),new Or("urn:ogc:def:crs:OGC:2:84"),new Or("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Or("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Or("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],ou={};function Xw(r){return ou[r]||ou[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Kw(r,e){ou[r]=e}var En={};function Dn(r,e,t){var n=r.getCode(),i=e.getCode();n in En||(En[n]={}),En[n][i]=t}function Jv(r,e){var t;return r in En&&e in En[r]&&(t=En[r][e]),t}const yi={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Rt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Bf(r){for(var e=ce(),t=0,n=r.length;t<n;++t)Oi(e,r[t]);return e}function Zw(r,e,t){var n=Math.min.apply(null,r),i=Math.min.apply(null,e),o=Math.max.apply(null,r),a=Math.max.apply(null,e);return Pe(n,i,o,a,t)}function ki(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function ty(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function ey(r,e,t){var n,i;return e<r[0]?n=r[0]-e:r[2]<e?n=e-r[2]:n=0,t<r[1]?i=r[1]-t:r[3]<t?i=t-r[3]:i=0,n*n+i*i}function Yn(r,e){return ry(r,e[0],e[1])}function ur(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function ry(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function au(r,e){var t=r[0],n=r[1],i=r[2],o=r[3],a=e[0],s=e[1],l=Rt.UNKNOWN;return a<t?l=l|Rt.LEFT:a>i&&(l=l|Rt.RIGHT),s<n?l=l|Rt.BELOW:s>o&&(l=l|Rt.ABOVE),l===Rt.UNKNOWN&&(l=Rt.INTERSECTING),l}function ce(){return[1/0,1/0,-1/0,-1/0]}function Pe(r,e,t,n,i){return i?(i[0]=r,i[1]=e,i[2]=t,i[3]=n,i):[r,e,t,n]}function Ws(r){return Pe(1/0,1/0,-1/0,-1/0,r)}function Qw(r,e){var t=r[0],n=r[1];return Pe(t,n,t,n,e)}function Jw(r,e,t,n,i){var o=Ws(i);return ny(o,r,e,t,n)}function Ln(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function tx(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function Oi(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function ny(r,e,t,n,i){for(;t<n;t+=i)ex(r,e[t],e[t+1]);return r}function ex(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function iy(r,e){var t;return t=e(Vs(r)),t||(t=e(qs(r)),t)||(t=e(Xs(r)),t)||(t=e(Xr(r)),t)?t:!1}function su(r){var e=0;return Ks(r)||(e=st(r)*Bt(r)),e}function Vs(r){return[r[0],r[1]]}function qs(r){return[r[2],r[1]]}function vr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function rx(r,e){var t;return e===yi.BOTTOM_LEFT?t=Vs(r):e===yi.BOTTOM_RIGHT?t=qs(r):e===yi.TOP_LEFT?t=Xr(r):e===yi.TOP_RIGHT?t=Xs(r):V(!1,13),t}function Tn(r,e,t,n,i){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(t),l=Math.sin(t),u=o*s,h=o*l,c=a*s,f=a*l,d=r[0],p=r[1],_=d-u+f,v=d-u-f,y=d+u-f,g=d+u+f,m=p-h-c,b=p-h+c,w=p+h+c,x=p+h-c;return Pe(Math.min(_,v,y,g),Math.min(m,b,w,x),Math.max(_,v,y,g),Math.max(m,b,w,x),i)}function Bt(r){return r[3]-r[1]}function $r(r,e,t){var n=t||ce();return jt(r,e)?(r[0]>e[0]?n[0]=r[0]:n[0]=e[0],r[1]>e[1]?n[1]=r[1]:n[1]=e[1],r[2]<e[2]?n[2]=r[2]:n[2]=e[2],r[3]<e[3]?n[3]=r[3]:n[3]=e[3]):Ws(n),n}function Xr(r){return[r[0],r[3]]}function Xs(r){return[r[2],r[3]]}function st(r){return r[2]-r[0]}function jt(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function Ks(r){return r[2]<r[0]||r[3]<r[1]}function nx(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function ix(r,e,t){var n=!1,i=au(r,e),o=au(r,t);if(i===Rt.INTERSECTING||o===Rt.INTERSECTING)n=!0;else{var a=r[0],s=r[1],l=r[2],u=r[3],h=e[0],c=e[1],f=t[0],d=t[1],p=(d-c)/(f-h),_=void 0,v=void 0;o&Rt.ABOVE&&!(i&Rt.ABOVE)&&(_=f-(d-u)/p,n=_>=a&&_<=l),!n&&o&Rt.RIGHT&&!(i&Rt.RIGHT)&&(v=d-(f-l)*p,n=v>=s&&v<=u),!n&&o&Rt.BELOW&&!(i&Rt.BELOW)&&(_=f-(d-s)/p,n=_>=a&&_<=l),!n&&o&Rt.LEFT&&!(i&Rt.LEFT)&&(v=d-(f-a)*p,n=v>=s&&v<=u)}return n}function ox(r,e,t,n){var i=[];if(n>1)for(var o=r[2]-r[0],a=r[3]-r[1],s=0;s<n;++s)i.push(r[0]+o*s/n,r[1],r[2],r[1]+a*s/n,r[2]-o*s/n,r[3],r[0],r[3]-a*s/n);else i=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];e(i,i,2);for(var l=[],u=[],s=0,h=i.length;s<h;s+=2)l.push(i[s]),u.push(i[s+1]);return Zw(l,u,t)}function ax(r,e){var t=e.getExtent(),n=vr(r);if(e.canWrapX()&&(n[0]<t[0]||n[0]>=t[2])){var i=st(t),o=Math.floor((n[0]-t[0])/i),a=o*i;r[0]-=a,r[2]-=a}return r}function oy(r,e){for(var t=(""+r).split("."),n=(""+e).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}function sx(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function $a(r,e){for(var t=!0,n=r.length-1;n>=0;--n)if(r[n]!=e[n]){t=!1;break}return t}function sc(r,e){var t=Math.cos(e),n=Math.sin(e),i=r[0]*t-r[1]*n,o=r[1]*t+r[0]*n;return r[0]=i,r[1]=o,r}function lx(r,e){return r[0]*=e,r[1]*=e,r}function ay(r,e){if(e.canWrapX()){var t=st(e.getExtent()),n=sy(r,e,t);n&&(r[0]-=n*t)}return r}function sy(r,e,t){var n=e.getExtent(),i=0;if(e.canWrapX()&&(r[0]<n[0]||r[0]>n[2])){var o=t||st(n);i=Math.floor((r[0]-n[0])/o)}return i}const H={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var ux=63710088e-1;function Gf(r,e,t){var n=t||ux,i=Bo(r[1]),o=Bo(e[1]),a=(o-i)/2,s=Bo(e[0]-r[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var lu=!0;function hx(r){var e=r===void 0?!0:r;lu=!e}function lc(r,e,t){var n;if(e!==void 0){for(var i=0,o=r.length;i<o;++i)e[i]=r[i];n=e}else n=r.slice();return n}function ly(r,e,t){if(e!==void 0&&r!==e){for(var n=0,i=r.length;n<i;++n)e[n]=r[n];r=e}return r}function uy(r){Kw(r.getCode(),r),Dn(r,r,lc)}function cx(r){r.forEach(uy)}function Ct(r){return typeof r=="string"?Xw(r):r||null}function Uf(r,e,t,n){r=Ct(r);var i,o=r.getPointResolutionFunc();if(o){if(i=o(e,t),n&&n!==r.getUnits()){var a=r.getMetersPerUnit();a&&(i=i*a/he[n])}}else{var s=r.getUnits();if(s==je.DEGREES&&!n||n==je.DEGREES)i=e;else{var l=Zs(r,Ct("EPSG:4326"));if(l===ly&&s!==je.DEGREES)i=e*r.getMetersPerUnit();else{var u=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];u=l(u,u,2);var h=Gf(u.slice(0,2),u.slice(2,4)),c=Gf(u.slice(4,6),u.slice(6,8));i=(h+c)/2}var a=n?he[n]:r.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function uu(r){cx(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Dn(e,t,lc)})})}function fx(r,e,t,n){r.forEach(function(i){e.forEach(function(o){Dn(i,o,t),Dn(o,i,n)})})}function uc(r,e){return r?typeof r=="string"?Ct(r):r:Ct(e)}function Yf(r){return function(e,t,n){for(var i=e.length,o=n!==void 0?n:2,a=t!==void 0?t:new Array(i),s=0;s<i;s+=o){var l=r([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function dx(r,e,t,n){var i=Ct(r),o=Ct(e);Dn(i,o,Yf(t)),Dn(o,i,Yf(n))}function or(r,e){if(r===e)return!0;var t=r.getUnits()===e.getUnits();if(r.getCode()===e.getCode())return t;var n=Zs(r,e);return n===lc&&t}function Zs(r,e){var t=r.getCode(),n=e.getCode(),i=Jv(t,n);return i||(i=ly),i}function Fi(r,e){var t=Ct(r),n=Ct(e);return Zs(t,n)}function to(r,e,t){var n=Fi(e,t);return n(r,void 0,r.length)}function hc(r,e,t,n){var i=Fi(e,t);return ox(r,i,void 0,n)}var fe=null;function hy(r){fe=Ct(r)}function cy(){return fe}function hu(r,e){return fe?to(r,e,fe):r}function ze(r,e){return fe?to(r,fe,e):(lu&&!$a(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(lu=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),r)}function cu(r,e){return fe?hc(r,e,fe):r}function Ye(r,e){return fe?hc(r,fe,e):r}function px(r,e){if(!fe)return r;var t=Ct(e).getUnits(),n=fe.getUnits();return t&&n?r*he[t]/he[n]:r}function jf(r,e,t){return function(n){var i=n[0],o=n[1],a,s;if(r.canWrapX()){var l=r.getExtent(),u=st(l);s=sy(n,r,u),s&&(i=i-s*u),i=mt(i,l[0],l[2]),o=mt(o,l[1],l[3]),a=t([i,o])}else a=t(n);return s&&e.canWrapX()&&(a[0]+=s*st(e.getExtent())),a}}function _x(){uu(Ff),uu(zf),fx(zf,Ff,jw,Hw)}_x();new Array(6);function Oe(){return[1,0,0,1,0,0]}function vx(r,e,t,n,i,o,a){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r[4]=o,r[5]=a,r}function yx(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function wt(r,e){var t=e[0],n=e[1];return e[0]=r[0]*t+r[2]*n+r[4],e[1]=r[1]*t+r[3]*n+r[5],e}function gx(r,e,t){return vx(r,e,0,0,t,0,0)}function ye(r,e,t,n,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return r[0]=n*u,r[1]=i*l,r[2]=-n*l,r[3]=i*u,r[4]=a*n*u-s*n*l+e,r[5]=a*i*l+s*i*u+t,r}function Qs(r,e){var t=mx(e);V(t!==0,32);var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5];return r[0]=a/t,r[1]=-i/t,r[2]=-o/t,r[3]=n/t,r[4]=(o*l-a*s)/t,r[5]=-(n*l-i*s)/t,r}function mx(r){return r[0]*r[3]-r[1]*r[2]}var Hf;function cc(r){var e="matrix("+r.join(", ")+")";if(js)return e;var t=Hf||(Hf=document.createElement("div"));return t.style.transform=e,t.style.transform}var bx=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,wx=/^([a-z]*)$|^hsla?\(.*\)$/i;function fy(r){return typeof r=="string"?r:dy(r)}function xx(r){var e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}else return""}var Ex=function(){var r=1024,e={},t=0;return function(n){var i;if(e.hasOwnProperty(n))i=e[n];else{if(t>=r){var o=0;for(var a in e)o++&3||(delete e[a],--t)}i=Tx(n),e[n]=i,++t}return i}}();function za(r){return Array.isArray(r)?r:Ex(r)}function Tx(r){var e,t,n,i,o;if(wx.exec(r)&&(r=xx(r)),bx.exec(r)){var a=r.length-1,s=void 0;a<=4?s=1:s=2;var l=a===4||a===8;e=parseInt(r.substr(1+0*s,s),16),t=parseInt(r.substr(1+1*s,s),16),n=parseInt(r.substr(1+2*s,s),16),l?i=parseInt(r.substr(1+3*s,s),16):i=255,s==1&&(e=(e<<4)+e,t=(t<<4)+t,n=(n<<4)+n,l&&(i=(i<<4)+i)),o=[e,t,n,i/255]}else r.indexOf("rgba(")==0?(o=r.slice(5,-1).split(",").map(Number),Wf(o)):r.indexOf("rgb(")==0?(o=r.slice(4,-1).split(",").map(Number),o.push(1),Wf(o)):V(!1,14);return o}function Wf(r){return r[0]=mt(r[0]+.5|0,0,255),r[1]=mt(r[1]+.5|0,0,255),r[2]=mt(r[2]+.5|0,0,255),r[3]=mt(r[3],0,1),r}function dy(r){var e=r[0];e!=(e|0)&&(e=e+.5|0);var t=r[1];t!=(t|0)&&(t=t+.5|0);var n=r[2];n!=(n|0)&&(n=n+.5|0);var i=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+n+","+i+")"}var Cx=function(){function r(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},r.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];!(e++&3)&&!n.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},r.prototype.get=function(e,t,n){var i=Vf(e,t,n);return i in this.cache_?this.cache_[i]:null},r.prototype.set=function(e,t,n,i){var o=Vf(e,t,n);this.cache_[o]=i,++this.cacheSize_},r.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},r}();function Vf(r,e,t){var n=t?fy(t):"null";return e+":"+r+":"+n}var Ba=new Cx,Ox=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mx=function(r){Ox(e,r);function e(t){var n=r.call(this)||this;return n.map_=t,n}return e.prototype.dispatchRenderEvent=function(t,n){X()},e.prototype.calculateMatrices2D=function(t){var n=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;ye(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Qs(o,i)},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a,s,l,u){var h,c=n.viewState;function f(P,D,k,q){return a.call(s,D,P?k:null,q)}var d=c.projection,p=ay(t.slice(),d),_=[[0,0]];if(d.canWrapX()&&o){var v=d.getExtent(),y=st(v);_.push([-y,0],[y,0])}for(var g=n.layerStatesArray,m=g.length,b=[],w=[],x=0;x<_.length;x++)for(var T=m-1;T>=0;--T){var E=g[T],M=E.layer;if(M.hasRenderer()&&Fa(E,c)&&l.call(u,M)){var S=M.getRenderer(),A=M.getSource();if(S&&A){var N=A.getWrapX()?p:t,L=f.bind(null,E.managed);w[0]=N[0]+_[x][0],w[1]=N[1]+_[x][1],h=S.forEachFeatureAtCoordinate(w,n,i,L,b)}if(h)return h}}if(b.length!==0){var B=1/b.length;return b.forEach(function(P,D){return P.distanceSq+=D*B}),b.sort(function(P,D){return P.distanceSq-D.distanceSq}),b.some(function(P){return h=P.callback(P.feature,P.layer,P.geometry)}),h}},e.prototype.forEachLayerAtPixel=function(t,n,i,o,a){return X()},e.prototype.hasFeatureAtCoordinate=function(t,n,i,o,a,s){var l=this.forEachFeatureAtCoordinate(t,n,i,o,wn,this,a,s);return l!==void 0},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){X()},e.prototype.scheduleExpireIconCache=function(t){Ba.canExpireCache()&&t.postRenderFunctions.push(Px)},e}(rc);function Px(r,e){Ba.expire()}const Sx=Mx;var Ix=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rx=function(r){Ix(e,r);function e(t,n,i,o){var a=r.call(this,t)||this;return a.inversePixelTransform=n,a.frameState=i,a.context=o,a}return e}(Re);const py=Rx;var _y="10px sans-serif",He="#000",Ga="round",$i=[],zi=0,Nn="round",Bi=10,Gi="#000",Ui="center",Ua="middle",Dr=[0,0,0,0],Yi=1,Be=new Ae,Ax=new Bn;Ax.setSize=function(){console.warn("labelCache is deprecated.")};var sn=null,fu,du={},Dx=function(){var r=100,e="32px ",t=["monospace","serif"],n=t.length,i="wmytzilWMYTZIL@#/&?$%10",o,a;function s(u,h,c){for(var f=!0,d=0;d<n;++d){var p=t[d];if(a=Ya(u+" "+h+" "+e+p,i),c!=p){var _=Ya(u+" "+h+" "+e+c+","+p,i);f=f&&_!=a}}return!!f}function l(){for(var u=!0,h=Be.getKeys(),c=0,f=h.length;c<f;++c){var d=h[c];Be.get(d)<r&&(s.apply(this,d.split(`
`))?(Zi(du),sn=null,fu=void 0,Be.set(d,r)):(Be.set(d,Be.get(d)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){var h=Vv(u);if(h)for(var c=h.families,f=0,d=c.length;f<d;++f){var p=c[f],_=h.style+`
`+h.weight+`
`+p;Be.get(_)===void 0&&(Be.set(_,r,!0),s(h.style,h.weight,p)||(Be.set(_,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),Lx=function(){var r;return function(e){var t=du[e];if(t==null){if(js){var n=Vv(e),i=vy(e,"Žg"),o=isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);du[e]=t}return t}}();function vy(r,e){return sn||(sn=ue(1,1)),r!=fu&&(sn.font=r,fu=sn.font),sn.measureText(e)}function Ya(r,e){return vy(r,e).width}function qf(r,e,t){if(e in t)return t[e];var n=Ya(r,e);return t[e]=n,n}function Nx(r,e){for(var t=[],n=[],i=[],o=0,a=0,s=0,l=0,u=0,h=e.length;u<=h;u+=2){var c=e[u];if(c===`
`||u===h){o=Math.max(o,a),i.push(a),a=0,s+=l;continue}var f=e[u+1]||r.font,d=Ya(f,c);t.push(d),a+=d;var p=Lx(f);n.push(p),l=Math.max(l,p)}return{width:o,height:s,widths:t,heights:n,lineWidths:i}}function kx(r,e,t,n,i,o,a,s,l,u,h){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),n.contextInstructions?(r.translate(l,u),r.scale(h[0],h[1]),Fx(n,r)):h[0]<0||h[1]<0?(r.translate(l,u),r.scale(h[0],h[1]),r.drawImage(n,i,o,a,s,0,0,a,s)):r.drawImage(n,i,o,a,s,l,u,a*h[0],s*h[1]),r.restore()}function Fx(r,e){for(var t=r.contextInstructions,n=0,i=t.length;n<i;n+=2)Array.isArray(t[n+1])?e[t[n]].apply(e,t[n+1]):e[t[n]]=t[n+1]}var $x=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zx=function(r){$x(e,r);function e(t){var n=r.call(this,t)||this;n.fontChangeListenerKey_=Z(Be,In.PROPERTYCHANGE,t.redrawText.bind(t)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=Hs+" ol-layers";var o=t.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return e.prototype.dispatchRenderEvent=function(t,n){var i=this.getMap();if(i.hasListener(t)){var o=new py(t,void 0,n);i.dispatchEvent(o)}},e.prototype.disposeInternal=function(){pt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),r.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Ur.PRECOMPOSE,t);var n=t.layerStatesArray.sort(function(d,p){return d.zIndex-p.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,l=n.length;s<l;++s){var u=n[s];t.layerIndex=s;var h=u.layer,c=h.getSourceState();if(!Fa(u,i)||c!=Yr.READY&&c!=Yr.UNDEFINED){h.unrender();continue}var f=h.render(t,a);f&&(f!==a&&(this.children_.push(f),a=f),"getDeclutter"in h&&o.push(h))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);_w(this.element_,this.children_),this.dispatchRenderEvent(Ur.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,n,i,o,a){for(var s=n.viewState,l=n.layerStatesArray,u=l.length,h=u-1;h>=0;--h){var c=l[h],f=c.layer;if(f.hasRenderer()&&Fa(c,s)&&a(f)){var d=f.getRenderer(),p=d.getDataAtPixel(t,n,i);if(p){var _=o(f,p);if(_)return _}}}},e}(Sx);const Bx=zx;var yy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nr=function(r){yy(e,r);function e(t,n){var i=r.call(this,t)||this;return i.layer=n,i}return e}(Re),ml={LAYERS:"layers"},Gx=function(r){yy(e,r);function e(t){var n=this,i=t||{},o=ut({},i);delete o.layers;var a=i.layers;return n=r.call(this,o)||this,n.on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(ml.LAYERS,n.handleLayersChanged_),a?Array.isArray(a)?a=new re(a.slice(),{unique:!0}):V(typeof a.getArray=="function",43):a=new re(void 0,{unique:!0}),n.setLayers(a),n}return e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(pt),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Z(t,Kt.ADD,this.handleLayersAdd_,this),Z(t,Kt.REMOVE,this.handleLayersRemove_,this));for(var n in this.listenerKeys_)this.listenerKeys_[n].forEach(pt);Zi(this.listenerKeys_);for(var i=t.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new nr("addlayer",s))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[Z(t,In.PROPERTYCHANGE,this.handleLayerChange_,this),Z(t,G.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push(Z(t,"addlayer",this.handleLayerGroupAdd_,this),Z(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[et(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new nr("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new nr("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new nr("addlayer",n)),this.changed()},e.prototype.handleLayersRemove_=function(t){var n=t.element,i=et(n);this.listenerKeys_[i].forEach(pt),delete this.listenerKeys_[i],this.dispatchEvent(new nr("removelayer",n)),this.changed()},e.prototype.getLayers=function(){return this.get(ml.LAYERS)},e.prototype.setLayers=function(t){var n=this.getLayers();if(n)for(var i=n.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new nr("removelayer",i[o]));this.set(ml.LAYERS,t)},e.prototype.getLayersArray=function(t){var n=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(n)}),n},e.prototype.getLayerStatesArray=function(t){var n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(h){h.getLayerStatesArray(n)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=i,l=n.length;s<l;s++){var u=n[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),o.extent!==void 0&&(u.extent!==void 0?u.extent=$r(u.extent,o.extent):u.extent=o.extent),u.zIndex===void 0&&(u.zIndex=a)}return n},e.prototype.getSourceState=function(){return Yr.READY},e}(Kv);const Js=Gx;var Ux=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yx=function(r){Ux(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.map=n,o.frameState=i!==void 0?i:null,o}return e}(Re);const Go=Yx;var jx=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hx=function(r){jx(e,r);function e(t,n,i,o,a){var s=r.call(this,t,n,a)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){r.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){r.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Go);const rr=Hx,dt={SINGLECLICK:"singleclick",CLICK:G.CLICK,DBLCLICK:G.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Wx=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vx=function(r){Wx(e,r);function e(t,n){var i=r.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n===void 0?1:n,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Z(o,iu.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Z(o,iu.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(G.TOUCHMOVE,i.boundHandleTouchMove_,Wv?{passive:!1}:!1),i}return e.prototype.emulateClick_=function(t){var n=new rr(dt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new rr(dt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new rr(dt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var n=t;n.type==dt.POINTERUP||n.type==dt.POINTERCANCEL?delete this.trackedTouches_[n.pointerId]:n.type==dt.POINTERDOWN&&(this.trackedTouches_[n.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var n=new rr(dt.POINTERUP,this.map_,t);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(pt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return t.button===0},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var n=new rr(dt.POINTERDOWN,this.map_,t);this.dispatchEvent(n),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?Gr:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Z(a,dt.POINTERMOVE,this.handlePointerMove_,this),Z(a,dt.POINTERUP,this.handlePointerUp_,this),Z(this.element_,dt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Z(this.element_.getRootNode(),dt.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new rr(dt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new rr(t.type,this.map_,t,n))},e.prototype.handleTouchMove_=function(t){var n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(pt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(G.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(pt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(pt),this.dragListenerKeys_.length=0,this.element_=null,r.prototype.disposeInternal.call(this)},e}(Bn);const qx=Vx;var ja=1/0,Xx=function(){function r(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return r.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Zi(this.queuedElements_)},r.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,n=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},r.prototype.enqueue=function(e){V(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=ja?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},r.prototype.getCount=function(){return this.elements_.length},r.prototype.getLeftChildIndex_=function(e){return e*2+1},r.prototype.getRightChildIndex_=function(e){return e*2+2},r.prototype.getParentIndex_=function(e){return e-1>>1},r.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},r.prototype.isEmpty=function(){return this.elements_.length===0},r.prototype.isKeyQueued=function(e){return e in this.queuedElements_},r.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},r.prototype.siftUp_=function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,o=t[e],a=n[e],s=e;e<i>>1;){var l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),h=u<i&&n[u]<n[l]?u:l;t[e]=t[h],n[e]=n[h],e=h}t[e]=o,n[e]=a,this.siftDown_(s,e)},r.prototype.siftDown_=function(e,t){for(var n=this.elements_,i=this.priorities_,o=n[t],a=i[t];t>e;){var s=this.getParentIndex_(t);if(i[s]>a)n[t]=n[s],i[t]=i[s],t=s;else break}n[t]=o,i[t]=a},r.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,n=this.priorities_,i=0,o=t.length,a,s,l;for(s=0;s<o;++s)a=t[s],l=e(a),l==ja?delete this.queuedElements_[this.keyFunction_(a)]:(n[i]=l,t[i++]=a);t.length=i,n.length=i,this.heapify_()},r}();const Kx=Xx,$={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var Zx=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qx=function(r){Zx(e,r);function e(t,n){var i=r.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return e.prototype.enqueue=function(t){var n=r.prototype.enqueue.call(this,t);if(n){var i=t[0];i.addEventListener(G.CHANGE,this.boundHandleTileChange_)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var n=t.target,i=n.getState();if(i===$.LOADED||i===$.ERROR||i===$.EMPTY){n.removeEventListener(G.CHANGE,this.boundHandleTileChange_);var o=n.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,n){for(var i=0,o,a,s;this.tilesLoading_<t&&i<n&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===$.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},e}(Kx);const Jx=Qx;function tE(r,e,t,n,i){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return ja;var o=r.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}const At={ANIMATING:0,INTERACTING:1},de={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var eE=42,fc=256;function Xf(r,e,t){return function(n,i,o,a,s){if(n){if(!i&&!e)return n;var l=e?0:o[0]*i,u=e?0:o[1]*i,h=s?s[0]:0,c=s?s[1]:0,f=r[0]+l/2+h,d=r[2]-l/2+h,p=r[1]+u/2+c,_=r[3]-u/2+c;f>d&&(f=(d+f)/2,d=f),p>_&&(p=(_+p)/2,_=p);var v=mt(n[0],f,d),y=mt(n[1],p,_);if(a&&t&&i){var g=30*i;v+=-g*Math.log(1+Math.max(0,f-n[0])/g)+g*Math.log(1+Math.max(0,n[0]-d)/g),y+=-g*Math.log(1+Math.max(0,p-n[1])/g)+g*Math.log(1+Math.max(0,n[1]-_)/g)}return[v,y]}}}function rE(r){return r}function dc(r,e,t,n){var i=st(e)/t[0],o=Bt(e)/t[1];return n?Math.min(r,Math.max(i,o)):Math.min(r,Math.min(i,o))}function pc(r,e,t){var n=Math.min(r,e),i=50;return n*=Math.log(1+i*Math.max(0,r/e-1))/i+1,t&&(n=Math.max(n,t),n/=Math.log(1+i*Math.max(0,t/r-1))/i+1),mt(n,t/2,e*2)}function nE(r,e,t,n){return function(i,o,a,s){if(i!==void 0){var l=r[0],u=r[r.length-1],h=t?dc(l,t,a,n):l;if(s){var c=e!==void 0?e:!0;return c?pc(i,h,u):mt(i,u,h)}var f=Math.min(h,i),d=Math.floor(Gs(r,f,o));return r[d]>h&&d<r.length-1?r[d+1]:r[d]}else return}}function iE(r,e,t,n,i,o){return function(a,s,l,u){if(a!==void 0){var h=i?dc(e,i,l,o):e,c=t!==void 0?t:0;if(u){var f=n!==void 0?n:!0;return f?pc(a,h,c):mt(a,c,h)}var d=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(r)-d),_=-s*(.5-d)+.5,v=Math.min(h,a),y=Math.floor(Math.log(e/v)/Math.log(r)+_),g=Math.max(p,y),m=e/Math.pow(r,g);return mt(m,c,h)}else return}}function Kf(r,e,t,n,i){return function(o,a,s,l){if(o!==void 0){var u=n?dc(r,n,s,i):r,h=t!==void 0?t:!0;return!h||!l?mt(o,e,u):pc(o,u,e)}else return}}function _c(r){if(r!==void 0)return 0}function Zf(r){if(r!==void 0)return r}function oE(r){var e=2*Math.PI/r;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function aE(r){var e=r||Bo(5);return function(t,n){if(n)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}const ne={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function zr(r,e,t,n,i,o){for(var a=o||[],s=0,l=e;l<t;l+=n){var u=r[l],h=r[l+1];a[s++]=i[0]*u+i[2]*h+i[4],a[s++]=i[1]*u+i[3]*h+i[5]}return o&&a.length!=s&&(a.length=s),a}function gy(r,e,t,n,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),h=o[0],c=o[1],f=0,d=e;d<t;d+=n){var p=r[d]-h,_=r[d+1]-c;s[f++]=h+p*l-_*u,s[f++]=c+p*u+_*l;for(var v=d+2;v<d+n;++v)s[f++]=r[v]}return a&&s.length!=f&&(s.length=f),s}function sE(r,e,t,n,i,o,a,s){for(var l=s||[],u=a[0],h=a[1],c=0,f=e;f<t;f+=n){var d=r[f]-u,p=r[f+1]-h;l[c++]=u+i*d,l[c++]=h+o*p;for(var _=f+2;_<f+n;++_)l[c++]=r[_]}return s&&l.length!=c&&(l.length=c),l}function lE(r,e,t,n,i,o,a){for(var s=a||[],l=0,u=e;u<t;u+=n){s[l++]=r[u]+i,s[l++]=r[u+1]+o;for(var h=u+2;h<u+n;++h)s[l++]=r[h]}return a&&s.length!=l&&(s.length=l),s}var uE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qf=Oe(),hE=function(r){uE(e,r);function e(){var t=r.call(this)||this;return t.extent_=ce(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=rw(function(n,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),t}return e.prototype.simplifyTransformed=function(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)},e.prototype.clone=function(){return X()},e.prototype.closestPointXY=function(t,n,i,o){return X()},e.prototype.containsXY=function(t,n){var i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n},e.prototype.getClosestPoint=function(t,n){var i=n||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return X()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Ws(n),this.extentRevision_=this.getRevision()}return nx(this.extent_,t)},e.prototype.rotate=function(t,n){X()},e.prototype.scale=function(t,n,i){X()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return X()},e.prototype.getType=function(){return X()},e.prototype.applyTransform=function(t){X()},e.prototype.intersectsExtent=function(t){return X()},e.prototype.translate=function(t,n){X()},e.prototype.transform=function(t,n){var i=Ct(t),o=i.getUnits()==je.TILE_PIXELS?function(a,s,l){var u=i.getExtent(),h=i.getWorldExtent(),c=Bt(h)/Bt(u);return ye(Qf,h[0],h[3],c,-c,0,0,0),zr(a,0,a.length,l,Qf,s),Fi(i,n)(a,s,l)}:Fi(i,n);return this.applyTransform(o),this},e}(Ae);const cE=hE;var fE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dE=function(r){fE(e,r);function e(){var t=r.call(this)||this;return t.layout=ne.XY,t.stride=2,t.flatCoordinates=null,t}return e.prototype.computeExtent=function(t){return Jw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return X()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=this.getSimplifiedGeometryInternal(t),i=n.getFlatCoordinates();return i.length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,n){this.stride=Jf(t),this.layout=t,this.flatCoordinates=n},e.prototype.setCoordinates=function(t,n){X()},e.prototype.setLayout=function(t,n,i){var o;if(t)o=Jf(t);else{for(var a=0;a<i;++a)if(n.length===0){this.layout=ne.XY,this.stride=2;return}else n=n[0];o=n.length,t=pE(o)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();gy(i,0,i.length,o,t,n,i),this.changed()}},e.prototype.scale=function(t,n,i){var o=n;o===void 0&&(o=t);var a=i;a||(a=vr(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();sE(s,0,s.length,l,t,o,a,s),this.changed()}},e.prototype.translate=function(t,n){var i=this.getFlatCoordinates();if(i){var o=this.getStride();lE(i,0,i.length,o,t,n,i),this.changed()}},e}(cE);function pE(r){var e;return r==2?e=ne.XY:r==3?e=ne.XYZ:r==4&&(e=ne.XYZM),e}function Jf(r){var e;return r==ne.XY?e=2:r==ne.XYZ||r==ne.XYM?e=3:r==ne.XYZM&&(e=4),e}function _E(r,e,t){var n=r.getFlatCoordinates();if(n){var i=r.getStride();return zr(n,0,n.length,i,e,t)}else return null}const vc=dE;function td(r,e,t,n,i,o,a){var s=r[e],l=r[e+1],u=r[t]-s,h=r[t+1]-l,c;if(u===0&&h===0)c=e;else{var f=((i-s)*u+(o-l)*h)/(u*u+h*h);if(f>1)c=t;else if(f>0){for(var d=0;d<n;++d)a[d]=Sr(r[e+d],r[t+d],f);a.length=n;return}else c=e}for(var d=0;d<n;++d)a[d]=r[c+d];a.length=n}function my(r,e,t,n,i){var o=r[e],a=r[e+1];for(e+=n;e<t;e+=n){var s=r[e],l=r[e+1],u=xn(o,a,s,l);u>i&&(i=u),o=s,a=l}return i}function vE(r,e,t,n,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=my(r,e,s,n,i),e=s}return i}function by(r,e,t,n,i,o,a,s,l,u,h){if(e==t)return u;var c,f;if(i===0)if(f=xn(a,s,r[e],r[e+1]),f<u){for(c=0;c<n;++c)l[c]=r[e+c];return l.length=n,f}else return u;for(var d=h||[NaN,NaN],p=e+n;p<t;)if(td(r,p-n,p,n,a,s,d),f=xn(a,s,d[0],d[1]),f<u){for(u=f,c=0;c<n;++c)l[c]=d[c];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(f)-Math.sqrt(u))/i|0,1);if(o&&(td(r,t-n,e,n,a,s,d),f=xn(a,s,d[0],d[1]),f<u)){for(u=f,c=0;c<n;++c)l[c]=d[c];l.length=n}return u}function yE(r,e,t,n,i,o,a,s,l,u,h){for(var c=h||[NaN,NaN],f=0,d=t.length;f<d;++f){var p=t[f];u=by(r,e,p,n,i,o,a,s,l,u,c),e=p}return u}function gE(r,e,t,n){for(var i=0,o=t.length;i<o;++i)r[e++]=t[i];return e}function wy(r,e,t,n){for(var i=0,o=t.length;i<o;++i)for(var a=t[i],s=0;s<n;++s)r[e++]=a[s];return e}function mE(r,e,t,n,i){for(var o=i||[],a=0,s=0,l=t.length;s<l;++s){var u=wy(r,e,t[s],n);o[a++]=u,e=u}return o.length=a,o}function bE(r,e,t,n,i,o,a){var s=(t-e)/n;if(s<3){for(;e<t;e+=n)o[a++]=r[e],o[a++]=r[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,t-n],h=0;u.length>0;){for(var c=u.pop(),f=u.pop(),d=0,p=r[f],_=r[f+1],v=r[c],y=r[c+1],g=f+n;g<c;g+=n){var m=r[g],b=r[g+1],w=Ew(m,b,p,_,v,y);w>d&&(h=g,d=w)}d>i&&(l[(h-e)/n]=1,f+n<h&&u.push(f,h),h+n<c&&u.push(h,c))}for(var g=0;g<s;++g)l[g]&&(o[a++]=r[e+g*n],o[a++]=r[e+g*n+1]);return a}function Ir(r,e){return e*Math.round(r/e)}function wE(r,e,t,n,i,o,a){if(e==t)return a;var s=Ir(r[e],i),l=Ir(r[e+1],i);e+=n,o[a++]=s,o[a++]=l;var u,h;do if(u=Ir(r[e],i),h=Ir(r[e+1],i),e+=n,e==t)return o[a++]=u,o[a++]=h,a;while(u==s&&h==l);for(;e<t;){var c=Ir(r[e],i),f=Ir(r[e+1],i);if(e+=n,!(c==u&&f==h)){var d=u-s,p=h-l,_=c-s,v=f-l;if(d*v==p*_&&(d<0&&_<d||d==_||d>0&&_>d)&&(p<0&&v<p||p==v||p>0&&v>p)){u=c,h=f;continue}o[a++]=u,o[a++]=h,s=u,l=h,u=c,h=f}}return o[a++]=u,o[a++]=h,a}function xE(r,e,t,n,i,o,a,s){for(var l=0,u=t.length;l<u;++l){var h=t[l];a=wE(r,e,h,n,i,o,a),s.push(a),e=h}return a}function fn(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=e;s<t;s+=n)o[a++]=r.slice(s,s+n);return o.length=a,o}function Ha(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=fn(r,e,u,n,o[a]),e=u}return o.length=a,o}function ed(r,e,t,n,i){for(var o=i!==void 0?i:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=Ha(r,e,u,n,o[a]),e=u[u.length-1]}return o.length=a,o}function xy(r,e,t,n){for(var i=0,o=r[t-n],a=r[t-n+1];e<t;e+=n){var s=r[e],l=r[e+1];i+=a*s-o*l,o=s,a=l}return i/2}function EE(r,e,t,n){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=xy(r,e,s,n),e=s}return i}var TE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CE=function(r){TE(e,r);function e(t,n){var i=r.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(n,t):i.setCoordinates(t,n),i}return e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,n,i,o){return o<ey(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(my(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),by(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,o))},e.prototype.getArea=function(){return xy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return fn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=bE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,ne.XY)},e.prototype.getType=function(){return H.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wy(this.flatCoordinates,0,t,this.stride),this.changed()},e}(vc);const rd=CE;var OE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ME=function(r){OE(e,r);function e(t,n){var i=r.call(this)||this;return i.setCoordinates(t,n),i}return e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){var a=this.flatCoordinates,s=xn(t,n,a[0],a[1]);if(s<o){for(var l=this.stride,u=0;u<l;++u)i[u]=a[u];return i.length=l,s}else return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Qw(this.flatCoordinates,t)},e.prototype.getType=function(){return H.POINT},e.prototype.intersectsExtent=function(t){return ry(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=gE(this.flatCoordinates,0,t,this.stride),this.changed()},e}(vc);const Ey=ME;function PE(r,e,t,n,i){var o=iy(i,function(a){return!Lr(r,e,t,n,a[0],a[1])});return!o}function Lr(r,e,t,n,i,o){for(var a=0,s=r[t-n],l=r[t-n+1];e<t;e+=n){var u=r[e],h=r[e+1];l<=o?h>o&&(u-s)*(o-l)-(i-s)*(h-l)>0&&a++:h<=o&&(u-s)*(o-l)-(i-s)*(h-l)<0&&a--,s=u,l=h}return a!==0}function Ty(r,e,t,n,i,o){if(t.length===0||!Lr(r,e,t[0],n,i,o))return!1;for(var a=1,s=t.length;a<s;++a)if(Lr(r,t[a-1],t[a],n,i,o))return!1;return!0}function SE(r,e,t,n,i,o,a){for(var s,l,u,h,c,f,d,p=i[o+1],_=[],v=0,y=t.length;v<y;++v){var g=t[v];for(h=r[g-n],f=r[g-n+1],s=e;s<g;s+=n)c=r[s],d=r[s+1],(p<=f&&d<=p||f<=p&&p<=d)&&(u=(p-f)/(d-f)*(c-h)+h,_.push(u)),h=c,f=d}var m=NaN,b=-1/0;for(_.sort(Rn),h=_[0],s=1,l=_.length;s<l;++s){c=_[s];var w=Math.abs(c-h);w>b&&(u=(h+c)/2,Ty(r,e,t,n,u,p)&&(m=u,b=w)),h=c}return isNaN(m)&&(m=i[o]),a?(a.push(m,p,b),a):[m,p,b]}function IE(r,e,t,n,i){var o;for(e+=n;e<t;e+=n)if(o=i(r.slice(e-n,e),r.slice(e,e+n)),o)return o;return!1}function Cy(r,e,t,n,i){var o=ny(ce(),r,e,t,n);return jt(i,o)?ur(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:IE(r,e,t,n,function(a,s){return ix(i,a,s)}):!1}function RE(r,e,t,n,i){return!!(Cy(r,e,t,n,i)||Lr(r,e,t,n,i[0],i[1])||Lr(r,e,t,n,i[0],i[3])||Lr(r,e,t,n,i[2],i[1])||Lr(r,e,t,n,i[2],i[3]))}function AE(r,e,t,n,i){if(!RE(r,e,t[0],n,i))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(PE(r,t[o-1],t[o],n,i)&&!Cy(r,t[o-1],t[o],n,i))return!1;return!0}function DE(r,e,t,n){for(;e<t-n;){for(var i=0;i<n;++i){var o=r[e+i];r[e+i]=r[t-n+i],r[t-n+i]=o}e+=n,t-=n}}function Oy(r,e,t,n){for(var i=0,o=r[t-n],a=r[t-n+1];e<t;e+=n){var s=r[e],l=r[e+1];i+=(s-o)*(l+a),o=s,a=l}return i===0?void 0:i>0}function LE(r,e,t,n,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Oy(r,e,l,n);if(a===0){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;e=l}return!0}function nd(r,e,t,n,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Oy(r,e,l,n),h=a===0?o&&u||!o&&!u:o&&!u||!o&&u;h&&DE(r,e,l,n),e=l}return e}var NE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),My=function(r){NE(e,r);function e(t,n,i){var o=r.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,n!==void 0&&i?(o.setFlatCoordinates(n,t),o.ends_=i):o.setCoordinates(t,n),o}return e.prototype.appendLinearRing=function(t){this.flatCoordinates?Gv(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,n,i,o){return o<ey(this.getExtent(),t,n)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vE(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yE(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,o))},e.prototype.containsXY=function(t,n){return Ty(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)},e.prototype.getArea=function(){return EE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),nd(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Ha(n,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=vr(this.getExtent());this.flatInteriorPoint_=SE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ey(this.getFlatInteriorPoint(),ne.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new rd(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,n=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,l=i.length;s<l;++s){var u=i[s],h=new rd(n.slice(a,u),t);o.push(h),a=u}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;LE(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=nd(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=xE(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,ne.XY,i)},e.prototype.getType=function(){return H.POLYGON},e.prototype.intersectsExtent=function(t){return AE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=mE(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},e}(vc);function id(r){var e=r[0],t=r[1],n=r[2],i=r[3],o=[e,t,e,i,n,i,n,t,e,t];return new My(o,ne.XY,[o.length])}var kE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bl=0,FE=function(r){kE(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=ut({},t);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=uc(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,i.center&&(i.center=ze(i.center,n.projection_)),i.extent&&(i.extent=Ye(i.extent,n.projection_)),i.projection&&hx(),n.applyOptions_(i),n}return e.prototype.applyOptions_=function(t){var n=ut({},t);for(var i in de)delete n[i];this.setProperties(n,!0);var o=zE(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var a=$E(t),s=o.constraint,l=BE(t);this.constraints_={center:a,resolution:s,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var n=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];n=n||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-n[3]+n[1]-o[1]),l=a/2*(o[0]-n[0]+n[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-l])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),ut({},n,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var n=new Array(arguments.length),i=0;i<n.length;++i){var o=arguments[i];o.center&&(o=ut({},o),o.center=ze(o.center,this.getProjection())),o.anchor&&(o=ut({},o),o.anchor=ze(o.anchor,this.getProjection())),n[i]=o}this.animateInternal.apply(this,n)},e.prototype.animateInternal=function(t){var n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===n){i&&Po(i,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,h=this.targetRotation_,c=[];o<n;++o){var f=arguments[o],d={start:s,complete:!1,anchor:f.anchor,duration:f.duration!==void 0?f.duration:1e3,easing:f.easing||Aw,callback:i};if(f.center&&(d.sourceCenter=l,d.targetCenter=f.center.slice(),l=d.targetCenter),f.zoom!==void 0?(d.sourceResolution=u,d.targetResolution=this.getResolutionForZoom(f.zoom),u=d.targetResolution):f.resolution&&(d.sourceResolution=u,d.targetResolution=f.resolution,u=d.targetResolution),f.rotation!==void 0){d.sourceRotation=h;var p=Fr(f.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+p,h=d.targetRotation}GE(d)?d.complete=!0:s+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(At.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[At.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[At.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(At.ANIMATING,-this.hints_[At.ANIMATING]);for(var t,n=0,i=this.animations_.length;n<i;++n){var o=this.animations_[n];if(o[0].callback&&Po(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),n=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,l=o.length;s<l;++s){var u=o[s];if(!u.complete){var h=t-u.start,c=u.duration>0?h/u.duration:1;c>=1?(u.complete=!0,c=1):a=!1;var f=u.easing(c);if(u.sourceCenter){var d=u.sourceCenter[0],p=u.sourceCenter[1],_=u.targetCenter[0],v=u.targetCenter[1];this.nextCenter_=u.targetCenter;var y=d+f*(_-d),g=p+f*(v-p);this.targetCenter_=[y,g]}if(u.sourceResolution&&u.targetResolution){var m=f===1?u.targetResolution:u.sourceResolution+f*(u.targetResolution-u.sourceResolution);if(u.anchor){var b=this.getViewportSize_(this.getRotation()),w=this.constraints_.resolution(m,0,b,!0);this.targetCenter_=this.calculateCenterZoom(w,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){var x=f===1?Fr(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+f*(u.targetRotation-u.sourceRotation);if(u.anchor){var T=this.constraints_.rotation(x,!0);this.targetCenter_=this.calculateCenterRotate(T,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=x}if(this.applyTargetState_(!0),n=!0,!u.complete)break}}if(a){this.animations_[i]=null,this.setHint(At.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var E=o[0].callback;E&&Po(E,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,n){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-n[0],o[1]-n[1]],sc(i,t-this.getRotation()),sx(i,n)),i},e.prototype.calculateCenterZoom=function(t,n){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=n[0]-t*(n[0]-o[0])/a,l=n[1]-t*(n[1]-o[1])/a;i=[s,l]}return i},e.prototype.getViewportSize_=function(t){var n=this.viewportSize_;if(t){var i=n[0],o=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return n},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&hu(t,this.getProjection())},e.prototype.getCenterInternal=function(){return this.get(de.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var n=this.calculateExtentInternal(t);return cu(n,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var n=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();V(i,1);var o=this.getResolution();V(o!==void 0,2);var a=this.getRotation();return V(a!==void 0,3),Tn(i,o,a,n)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(de.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,n){return this.getResolutionForExtentInternal(Ye(t,this.getProjection()),n)},e.prototype.getResolutionForExtentInternal=function(t,n){var i=n||this.getViewportSizeMinusPadding_(),o=st(t)/i[0],a=Bt(t)/i[1];return Math.max(o,a)},e.prototype.getResolutionForValueFunction=function(t){var n=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(n);return function(s){var l=i/Math.pow(n,s*a);return l}},e.prototype.getRotation=function(){return this.get(de.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/n;return function(s){var l=Math.log(i/s)/n/a;return l}},e.prototype.getViewportSizeMinusPadding_=function(t){var n=this.getViewportSize_(t),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n},e.prototype.getState=function(){var t=this.getProjection(),n=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=wl(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],n,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t},e.prototype.getZoomForResolution=function(t){var n=this.minZoom_||0,i,o;if(this.resolutions_){var a=Gs(this.resolutions_,t,1);n=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return n+Math.log(i/t)/Math.log(o)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var n=mt(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,mt(t-n,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,n){var i;if(V(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){V(!Ks(t),25);var o=Ye(t,this.getProjection());i=id(o)}else if(t.getType()===H.CIRCLE){var o=Ye(t.getExtent(),this.getProjection());i=id(o),i.rotate(this.getRotation(),vr(o))}else{var a=cy();a?i=t.clone().transform(a,this.getProjection()):i=t}this.fitInternal(i,n)},e.prototype.rotatedExtentForGeometry=function(t){for(var n=this.getRotation(),i=Math.cos(n),o=Math.sin(-n),a=t.getFlatCoordinates(),s=t.getStride(),l=1/0,u=1/0,h=-1/0,c=-1/0,f=0,d=a.length;f<d;f+=s){var p=a[f]*i-a[f+1]*o,_=a[f]*o+a[f+1]*i;l=Math.min(l,p),u=Math.min(u,_),h=Math.max(h,p),c=Math.max(c,_)}return[l,u,h,c]},e.prototype.fitInternal=function(t,n){var i=n||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,l;i.minResolution!==void 0?l=i.minResolution:i.maxZoom!==void 0?l=this.getResolutionForZoom(i.maxZoom):l=0;var u=this.rotatedExtentForGeometry(t),h=this.getResolutionForExtentInternal(u,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);h=isNaN(h)?l:Math.max(h,l),h=this.getConstrainedResolution(h,s?0:1);var c=this.getRotation(),f=Math.sin(c),d=Math.cos(c),p=vr(u);p[0]+=(a[1]-a[3])/2*h,p[1]+=(a[0]-a[2])/2*h;var _=p[0]*d-p[1]*f,v=p[1]*d+p[0]*f,y=this.getConstrainedCenter([_,v],h),g=i.callback?i.callback:Gr;i.duration!==void 0?this.animateInternal({resolution:h,center:y,duration:i.duration,easing:i.easing},g):(this.targetResolution_=h,this.targetCenter_=y,this.applyTargetState_(!1,!0),Po(g,!0))},e.prototype.centerOn=function(t,n,i){this.centerOnInternal(ze(t,this.getProjection()),n,i)},e.prototype.centerOnInternal=function(t,n,i){this.setCenterInternal(wl(t,n,i,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,n,i,o){var a,s=this.padding_;if(s&&t){var l=this.getViewportSizeMinusPadding_(-i),u=wl(t,o,[l[0]/2+s[3],l[1]/2+s[0]],n,i);a=[t[0]-u[0],t[1]-u[1]]}return a},e.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},e.prototype.adjustCenter=function(t){var n=hu(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])},e.prototype.adjustResolution=function(t,n){var i=n&&ze(n,this.getProjection());this.adjustResolutionInternal(t,i)},e.prototype.adjustResolutionInternal=function(t,n){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,i);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)},e.prototype.adjustRotation=function(t,n){n&&(n=ze(n,this.getProjection())),this.adjustRotationInternal(t,n)},e.prototype.adjustRotationInternal=function(t,n){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(o,n)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t&&ze(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,n){var i=this.getAnimating()||this.getInteracting()||n,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),l=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(de.ROTATION)!==o&&this.set(de.ROTATION,o),this.get(de.RESOLUTION)!==s&&(this.set(de.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(de.CENTER)||!$a(this.get(de.CENTER),l))&&this.set(de.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,n,i){var o=t!==void 0?t:200,a=n||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),u=this.constraints_.resolution(this.targetResolution_,a,l),h=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,s,l));if(o===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=s,this.targetCenter_=h,this.applyTargetState_();return}var c=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==s||!this.getCenterInternal()||!$a(this.getCenterInternal(),h))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:h,resolution:u,duration:o,easing:Gn,anchor:c}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(At.INTERACTING,1)},e.prototype.endInteraction=function(t,n,i){var o=i&&ze(i,this.getProjection());this.endInteractionInternal(t,n,o)},e.prototype.endInteractionInternal=function(t,n,i){this.setHint(At.INTERACTING,-1),this.resolveConstraints(t,n,i)},e.prototype.getConstrainedCenter=function(t,n){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)},e.prototype.getConstrainedZoom=function(t,n){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))},e.prototype.getConstrainedResolution=function(t,n){var i=n||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},e}(Ae);function Po(r,e){setTimeout(function(){r(e)},0)}function $E(r){if(r.extent!==void 0){var e=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return Xf(r.extent,r.constrainOnlyCenter,e)}var t=uc(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&t.isGlobal()){var n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Xf(n,!1,!1)}return rE}function zE(r){var e,t,n,i=28,o=2,a=r.minZoom!==void 0?r.minZoom:bl,s=r.maxZoom!==void 0?r.maxZoom:i,l=r.zoomFactor!==void 0?r.zoomFactor:o,u=r.multiWorld!==void 0?r.multiWorld:!1,h=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,c=r.showFullExtent!==void 0?r.showFullExtent:!1,f=uc(r.projection,"EPSG:3857"),d=f.getExtent(),p=r.constrainOnlyCenter,_=r.extent;if(!u&&!_&&f.isGlobal()&&(p=!1,_=d),r.resolutions!==void 0){var v=r.resolutions;t=v[a],n=v[s]!==void 0?v[s]:v[v.length-1],r.constrainResolution?e=nE(v,h,!p&&_,c):e=Kf(t,n,h,!p&&_,c)}else{var y=d?Math.max(st(d),Bt(d)):360*he[je.DEGREES]/f.getMetersPerUnit(),g=y/fc/Math.pow(o,bl),m=g/Math.pow(o,i-bl);t=r.maxResolution,t!==void 0?a=0:t=g/Math.pow(l,a),n=r.minResolution,n===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?n=t/Math.pow(l,s):n=g/Math.pow(l,s):n=m),s=a+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,s-a),r.constrainResolution?e=iE(l,t,n,h,!p&&_,c):e=Kf(t,n,h,!p&&_,c)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:a,zoomFactor:l}}function BE(r){var e=r.enableRotation!==void 0?r.enableRotation:!0;if(e){var t=r.constrainRotation;return t===void 0||t===!0?aE():t===!1?Zf:typeof t=="number"?oE(t):Zf}else return _c}function GE(r){return!(r.sourceCenter&&r.targetCenter&&!$a(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function wl(r,e,t,n,i){var o=Math.cos(-i),a=Math.sin(-i),s=r[0]*o-r[1]*a,l=r[1]*o+r[0]*a;s+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,a=-a;var u=s*o-l*a,h=l*o+s*a;return[u,h]}const ar=FE;function od(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function ad(r){return r[0]>0&&r[1]>0}function Py(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function ee(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}var UE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function Sy(r){if(r instanceof Qi){r.setMapInternal(null);return}r instanceof Js&&r.getLayers().forEach(Sy)}function Iy(r,e){if(r instanceof Qi){r.setMapInternal(e);return}if(r instanceof Js)for(var t=r.getLayers().getArray(),n=0,i=t.length;n<i;++n)Iy(t[n],e)}var YE=function(r){UE(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=jE(t);n.renderComplete_,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,n.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Hv,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=Oe(),n.pixelToCoordinateTransform_=Oe(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=t.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=i.controls||new re,n.interactions=i.interactions||new re,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Jx(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener($t.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener($t.VIEW,n.handleViewChanged_),n.addChangeListener($t.SIZE,n.handleSizeChanged_),n.addChangeListener($t.TARGET,n.handleTargetChanged_),n.setProperties(i.values);var o=n;return t.view&&!(t.view instanceof ar)&&t.view.then(function(a){o.setView(new ar(a))}),n.controls.addEventListener(Kt.ADD,function(a){a.element.setMap(this)}.bind(n)),n.controls.addEventListener(Kt.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.interactions.addEventListener(Kt.ADD,function(a){a.element.setMap(this)}.bind(n)),n.interactions.addEventListener(Kt.REMOVE,function(a){a.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(Kt.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(n)),n.overlays_.addEventListener(Kt.REMOVE,function(a){var s=a.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],a.element.setMap(null)}.bind(n)),n.controls.forEach(function(a){a.setMap(this)}.bind(n)),n.interactions.forEach(function(a){a.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var n=this.getLayerGroup().getLayers();n.push(t)},e.prototype.handleLayerAdd_=function(t){Iy(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),r.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,n,i){if(this.frameState_){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:wn,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,l,n,null,s,null)}},e.prototype.getFeaturesAtPixel=function(t,n){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},n),i},e.prototype.getAllLayers=function(){var t=[];function n(i){i.forEach(function(o){o instanceof Js?n(o.getLayers()):t.push(o)})}return n(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,n,i){if(this.frameState_){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||wn;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,n,s)}},e.prototype.hasFeatureAtPixel=function(t,n){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};var o=n.layerFilter!==void 0?n.layerFilter:wn,a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var n=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-n.left,i.clientY-n.top]},e.prototype.getTarget=function(){return this.get($t.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return hu(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var n=this.frameState_;return n?wt(n.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get($t.LAYERGROUP)},e.prototype.setLayers=function(t){var n=this.getLayerGroup();if(t instanceof re){n.setLayers(t);return}var i=n.getLayers();i.clear(),i.extend(t)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),n=0,i=t.length;n<i;++n){var o=t[n].layer;if(!o.getRenderer().ready)return!0;var a=o.getSource();if(a&&a.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var n=ze(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)},e.prototype.getPixelFromCoordinateInternal=function(t){var n=this.frameState_;return n?wt(n.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get($t.SIZE)},e.prototype.getView=function(){return this.get($t.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,n,i,o){return tE(this.frameState_,t,n,i,o)},e.prototype.handleBrowserEvent=function(t,n){var i=n||t.type,o=new rr(i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var n=t.originalEvent,i=n.type;if(i===iu.POINTERDOWN||i===G.WHEEL||i===G.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),u=l.length-1;u>=0;u--){var h=l[u];if(!(h.getMap()!==this||!h.getActive()||!this.getTargetElement())){var c=h.handleEvent(t);if(!c||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var a=t.viewHints;if(a[At.ANIMATING]||a[At.INTERACTING]){var s=Date.now()-t.time>8;i=s?0:8,o=s?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}t&&this.hasListener(Ur.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Ur.RENDERCOMPLETE,t);for(var l=this.postRenderFunctions_,u=0,h=l.length;u<h;++u)l[u](this,t);l.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,n=this.targetChangeHandlerKeys_.length;t<n;++t)pt(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(G.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(G.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,nu(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new qx(this,this.moveTolerance_);for(var o in dt)this.mapBrowserEventHandler_.addEventListener(dt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(G.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(G.WHEEL,this.boundHandleBrowserEvent_,Wv?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Z(s,G.KEYDOWN,this.handleBrowserEvent,this),Z(s,G.KEYPRESS,this.handleBrowserEvent,this),Z(a,G.RESIZE,this.updateSize,this)]}this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(pt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(pt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Z(t,In.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Z(t,G.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(pt),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new nr("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Z(t,In.PROPERTYCHANGE,this.render,this),Z(t,G.CHANGE,this.render,this),Z(t,"addlayer",this.handleLayerAdd_,this),Z(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),n=0,i=t.length;n<i;++n){var o=t[n].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var n=this.getLayerGroup().getLayers();return n.remove(t)},e.prototype.handleLayerRemove_=function(t){Sy(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var n=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&ad(i)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Tn(u.center,u.resolution,u.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:et(this),renderTargets:{}},u.nextCenter&&u.nextResolution){var h=isNaN(u.nextRotation)?u.rotation:u.nextRotation;s.nextExtent=Tn(u.nextCenter,u.nextResolution,h,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var c=!this.previousExtent_||!Ks(this.previousExtent_)&&!Ln(s.extent,this.previousExtent_);c&&(this.dispatchEvent(new Go(zo.MOVESTART,this,a)),this.previousExtent_=Ws(this.previousExtent_))}var f=this.previousExtent_&&!s.viewHints[At.ANIMATING]&&!s.viewHints[At.INTERACTING]&&!Ln(s.extent,this.previousExtent_);f&&(this.dispatchEvent(new Go(zo.MOVEEND,this,s)),ty(s.extent,this.previousExtent_))}this.dispatchEvent(new Go(zo.POSTRENDER,this,s)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){n.postRenderTimeoutHandle_=void 0,n.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){var n=this.getLayerGroup();n&&this.handleLayerRemove_(new nr("removelayer",n)),this.set($t.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set($t.SIZE,t)},e.prototype.setTarget=function(t){this.set($t.TARGET,t)},e.prototype.setView=function(t){if(!t||t instanceof ar){this.set($t.VIEW,t);return}this.set($t.VIEW,new ar);var n=this;t.then(function(i){n.setView(new ar(i))})},e.prototype.updateSize=function(){var t=this.getTargetElement(),n=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(n=[o,a],!ad(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var n=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(n)}},e}(Ae);function jE(r){var e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);var t={},n=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Js({layers:r.layers});t[$t.LAYERGROUP]=n,t[$t.TARGET]=r.target,t[$t.VIEW]=r.view instanceof ar?r.view:new ar;var i;r.controls!==void 0&&(Array.isArray(r.controls)?i=new re(r.controls.slice()):(V(typeof r.controls.getArray=="function",47),i=r.controls));var o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new re(r.interactions.slice()):(V(typeof r.interactions.getArray=="function",48),o=r.interactions));var a;return r.overlays!==void 0?Array.isArray(r.overlays)?a=new re(r.overlays.slice()):(V(typeof r.overlays.getArray=="function",49),a=r.overlays):a=new re,{controls:i,interactions:o,keyboardEventTarget:e,overlays:a,values:t}}const HE=YE;function Ry(r){var e=r||{},t=new re,n=e.zoom!==void 0?e.zoom:!0;n&&t.push(new zw(e.zoomOptions));var i=e.rotate!==void 0?e.rotate:!0;i&&t.push(new kw(e.rotateOptions));var o=e.attribution!==void 0?e.attribution:!0;return o&&t.push(new Iw(e.attributionOptions)),t}const sd={ACTIVE:"active"};var WE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VE=function(r){WE(e,r);function e(t){var n=r.call(this)||this;return n.on,n.once,n.un,t&&t.handleEvent&&(n.handleEvent=t.handleEvent),n.map_=null,n.setActive(!0),n}return e.prototype.getActive=function(){return this.get(sd.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(sd.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(Ae);function qE(r,e,t){var n=r.getCenterInternal();if(n){var i=[n[0]+e[0],n[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:Dw,center:r.getConstrainedCenter(i)})}}function yc(r,e,t,n){var i=r.getZoom();if(i!==void 0){var o=r.getConstrainedZoom(i+e),a=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:Gn})}}const eo=VE;var XE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KE=function(r){XE(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==dt.DBLCLICK){var i=t.originalEvent,o=t.map,a=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,l=o.getView();yc(l,s,a,this.duration_),i.preventDefault(),n=!0}return!n},e}(eo);const ZE=KE;var QE=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JE=function(r){QE(e,r);function e(t){var n=this,i=t||{};return n=r.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==dt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==dt.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==dt.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==dt.POINTERMOVE&&this.handleMoveEvent(t);return!n},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(tT(t)){var n=t.originalEvent,i=n.pointerId.toString();t.type==dt.POINTERUP?delete this.trackedPointers_[i]:t.type==dt.POINTERDOWN?this.trackedPointers_[i]=n:i in this.trackedPointers_&&(this.trackedPointers_[i]=n),this.targetPointers=Uv(this.trackedPointers_)}},e}(eo);function gc(r){for(var e=r.length,t=0,n=0,i=0;i<e;i++)t+=r[i].clientX,n+=r[i].clientY;return[t/e,n/e]}function tT(r){var e=r.type;return e===dt.POINTERDOWN||e===dt.POINTERDRAG||e===dt.POINTERUP}const ro=JE;function pu(r){var e=arguments;return function(t){for(var n=!0,i=0,o=e.length;i<o&&(n=n&&e[i](t),!!n);++i);return n}}var eT=function(r){var e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},rT=function(r){var e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},Ay=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?rT(r):!0},nT=wn,Dy=function(r){var e=r.originalEvent;return e.button==0&&!(cw&&fw&&e.ctrlKey)},Ly=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},iT=function(r){var e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ny=function(r){var e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},xl=function(r){var e=r.originalEvent;return V(e!==void 0,56),e.pointerType=="mouse"},oT=function(r){var e=r.originalEvent;return V(e!==void 0,56),e.isPrimary&&e.button===0},aT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sT=function(r){aT(e,r);function e(t){var n=r.call(this,{stopDown:Us})||this,i=t||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=i.condition?i.condition:pu(Ly,oT);return n.condition_=i.onFocusOnly?pu(Ay,o):o,n.noKinetic_=!1,n}return e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var n=this.targetPointers,i=gc(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map,s=a.getView();lx(o,s.getResolution()),sc(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),l=n.getPixelFromCoordinateInternal(s),u=n.getCoordinateFromPixelInternal([l[0]-o*Math.cos(a),l[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(u),duration:500,easing:Gn})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var n=t.map,i=n.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},e}(ro);const lT=sT;var uT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hT=function(r){uT(e,r);function e(t){var n=this,i=t||{};return n=r.call(this,{stopDown:Us})||this,n.condition_=i.condition?i.condition:eT,n.lastAngle_=void 0,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleDragEvent=function(t){if(xl(t)){var n=t.map,i=n.getView();if(i.getConstraints().rotation!==_c){var o=n.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!xl(t))return!0;var n=t.map,i=n.getView();return i.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!xl(t))return!1;if(Dy(t)&&this.condition_(t)){var n=t.map;return n.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},e}(ro);const cT=hT;var fT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dT=function(r){fT(e,r);function e(t){var n=r.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+t,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,n=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],n[0])+i,o.top=Math.min(t[1],n[1])+i,o.width=Math.abs(n[0]-t[0])+i,o.height=Math.abs(n[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,n=this.endPixel_,i=[t,[t[0],n[1]],n,[n[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new My([o])},e.prototype.getGeometry=function(){return this.geometry_},e}(rc);const pT=dT;var ky=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),So={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},El=function(r){ky(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return e}(Re),_T=function(r){ky(e,r);function e(t){var n=r.call(this)||this;n.on,n.once,n.un;var i=t||{};return n.box_=new pT(i.className||"ol-dragbox"),n.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:Dy,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return e.prototype.defaultBoxEndCondition=function(t,n,i){var o=i[0]-n[0],a=i[1]-n[1];return o*o+a*a>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new El(So.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new El(n?So.BOXEND:So.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new El(So.BOXSTART,t.coordinate,t)),!0):!1},e.prototype.onBoxEnd=function(t){},e}(ro);const vT=_T;var yT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gT=function(r){yT(e,r);function e(t){var n=this,i=t||{},o=i.condition?i.condition:iT;return n=r.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,n.duration_=i.duration!==void 0?i.duration:200,n.out_=i.out!==void 0?i.out:!1,n}return e.prototype.onBoxEnd=function(t){var n=this.getMap(),i=n.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),l=i.getResolution()/s;o=o.clone(),o.scale(l*l)}i.fitInternal(o,{duration:this.duration_,easing:Gn})},e}(vT);const mT=gT,Mr={LEFT:37,UP:38,RIGHT:39,DOWN:40};var bT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wT=function(r){bT(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.defaultCondition_=function(o){return Ly(o)&&Ny(o)},n.condition_=i.condition!==void 0?i.condition:n.defaultCondition_,n.duration_=i.duration!==void 0?i.duration:100,n.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==G.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==Mr.DOWN||o==Mr.LEFT||o==Mr.RIGHT||o==Mr.UP)){var a=t.map,s=a.getView(),l=s.getResolution()*this.pixelDelta_,u=0,h=0;o==Mr.DOWN?h=-l:o==Mr.LEFT?u=-l:o==Mr.RIGHT?u=l:h=l;var c=[u,h];sc(c,s.getRotation()),qE(s,c,this.duration_),i.preventDefault(),n=!0}}return!n},e}(eo);const xT=wT;var ET=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TT=function(r){ET(e,r);function e(t){var n=r.call(this)||this,i=t||{};return n.condition_=i.condition?i.condition:Ny,n.delta_=i.delta?i.delta:1,n.duration_=i.duration!==void 0?i.duration:100,n}return e.prototype.handleEvent=function(t){var n=!1;if(t.type==G.KEYDOWN||t.type==G.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();yc(l,s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n},e}(eo);const CT=TT;var OT=function(){function r(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[n],a=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},r}();const MT=OT;var PT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tl={TRACKPAD:"trackpad",WHEEL:"wheel"},ST=function(r){PT(e,r);function e(t){var n=this,i=t||{};n=r.call(this,i)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,n.duration_=i.duration!==void 0?i.duration:250,n.timeout_=i.timeout!==void 0?i.timeout:80,n.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,n.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:nT;return n.condition_=i.onFocusOnly?pu(Ay,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var n=t.type;if(n!==G.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==G.WHEEL&&(a=o.deltaY,hw&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Hv),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?Tl.TRACKPAD:Tl.WHEEL);var l=i.getView();if(this.mode_===Tl.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var u=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),u),!1},e.prototype.handleWheelZoom_=function(t){var n=t.getView();n.getAnimating()&&n.cancelAnimations();var i=-mt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),yc(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(eo);const IT=ST;var RT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AT=function(r){RT(e,r);function e(t){var n=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Us),n=r.call(this,o)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=i.threshold!==void 0?i.threshold:.3,n.duration_=i.duration!==void 0?i.duration:250,n}return e.prototype.handleDragEvent=function(t){var n=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=s}this.lastAngle_=a;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==_c){var h=l.getViewport().getBoundingClientRect(),c=gc(this.targetPointers);c[0]-=h.left,c[1]-=h.top,this.anchor_=l.getCoordinateFromPixelInternal(c),this.rotating_&&(l.render(),u.adjustRotationInternal(n,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var n=t.map,i=n.getView();return i.endInteraction(this.duration_),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},e}(ro);const DT=AT;var LT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NT=function(r){LT(e,r);function e(t){var n=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Us),n=r.call(this,o)||this,n.anchor_=null,n.duration_=i.duration!==void 0?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return e.prototype.handleDragEvent=function(t){var n=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,l=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,h=u.getView();n!=1&&(this.lastScaleDelta_=n);var c=u.getViewport().getBoundingClientRect(),f=gc(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),u.render(),h.adjustResolutionInternal(n,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var n=t.map,i=n.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}else return!1},e}(ro);const kT=NT,oi={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};var FT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$T=function(r){FT(e,r);function e(t){var n=r.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;n.setGeometry(i)}else{var o=t;n.setProperties(o)}return n}return e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(pt(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Z(t,G.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?zT(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Ae);function zT(r){if(typeof r=="function")return r;var e;if(Array.isArray(r))e=r;else{V(typeof r.getZIndex=="function",41);var t=r;e=[t]}return function(){return e}}const BT=$T;function GT(r,e,t,n){for(var i=r[e],o=r[e+1],a=0,s=e+n;s<t;s+=n){var l=r[s],u=r[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}function UT(r,e,t,n,i){Fy(r,e,t||0,n||r.length-1,i||YT)}function Fy(r,e,t,n,i){for(;n>t;){if(n-t>600){var o=n-t+1,a=e-t+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),h=Math.max(t,Math.floor(e-a*l/o+u)),c=Math.min(n,Math.floor(e+(o-a)*l/o+u));Fy(r,e,h,c,i)}var f=r[e],d=t,p=n;for(ai(r,t,e),i(r[n],f)>0&&ai(r,t,n);d<p;){for(ai(r,d,p),d++,p--;i(r[d],f)<0;)d++;for(;i(r[p],f)>0;)p--}i(r[t],f)===0?ai(r,t,p):(p++,ai(r,p,n)),p<=e&&(t=p+1),e<=p&&(n=p-1)}}function ai(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function YT(r,e){return r<e?-1:r>e?1:0}let $y=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!Ro(e,t))return n;const i=this.toBBox,o=[];for(;t;){for(let a=0;a<t.children.length;a++){const s=t.children[a],l=t.leaf?i(s):s;Ro(e,l)&&(t.leaf?n.push(s):Ol(e,l)?this._all(s,n):o.push(s))}t=o.pop()}return n}collides(e){let t=this.data;if(!Ro(e,t))return!1;const n=[];for(;t;){for(let i=0;i<t.children.length;i++){const o=t.children[i],a=t.leaf?this.toBBox(o):o;if(Ro(e,a)){if(t.leaf||Ol(e,a))return!0;n.push(o)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ln([]),this}remove(e,t){if(!e)return this;let n=this.data;const i=this.toBBox(e),o=[],a=[];let s,l,u;for(;n||o.length;){if(n||(n=o.pop(),l=o[o.length-1],s=a.pop(),u=!0),n.leaf){const h=jT(e,n.children,t);if(h!==-1)return n.children.splice(h,1),o.push(n),this._condense(o),this}!u&&!n.leaf&&Ol(n,i)?(o.push(n),a.push(s),s=0,l=n,n=n.children[0]):l?(s++,n=l.children[s],u=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,i){const o=n-t+1;let a=this._maxEntries,s;if(o<=a)return s=ln(e.slice(t,n+1)),en(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=ln([]),s.leaf=!1,s.height=i;const l=Math.ceil(o/a),u=l*Math.ceil(Math.sqrt(a));ld(e,t,n,u,this.compareMinX);for(let h=t;h<=n;h+=u){const c=Math.min(h+u-1,n);ld(e,h,c,l,this.compareMinY);for(let f=h;f<=c;f+=l){const d=Math.min(f+l-1,c);s.children.push(this._build(e,f,d,i-1))}}return en(s,this.toBBox),s}_chooseSubtree(e,t,n,i){for(;i.push(t),!(t.leaf||i.length-1===n);){let o=1/0,a=1/0,s;for(let l=0;l<t.children.length;l++){const u=t.children[l],h=Cl(u),c=VT(e,u)-h;c<a?(a=c,o=h<o?h:o,s=u):c===a&&h<o&&(o=h,s=u)}t=s||t.children[0]}return t}_insert(e,t,n){const i=n?e:this.toBBox(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),mi(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){const n=e[t],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);const a=this._chooseSplitIndex(n,o,i),s=ln(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,en(n,this.toBBox),en(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=ln([e,t]),this.data.height=e.height+1,this.data.leaf=!1,en(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,o=1/0,a=1/0;for(let s=t;s<=n-t;s++){const l=gi(e,0,s,this.toBBox),u=gi(e,s,n,this.toBBox),h=qT(l,u),c=Cl(l)+Cl(u);h<o?(o=h,i=s,a=c<a?c:a):h===o&&c<a&&(a=c,i=s)}return i||n-t}_chooseSplitAxis(e,t,n){const i=e.leaf?this.compareMinX:HT,o=e.leaf?this.compareMinY:WT,a=this._allDistMargin(e,t,n,i),s=this._allDistMargin(e,t,n,o);a<s&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);const o=this.toBBox,a=gi(e,0,t,o),s=gi(e,n-t,n,o);let l=Io(a)+Io(s);for(let u=t;u<n-t;u++){const h=e.children[u];mi(a,e.leaf?o(h):h),l+=Io(a)}for(let u=n-t-1;u>=t;u--){const h=e.children[u];mi(s,e.leaf?o(h):h),l+=Io(s)}return l}_adjustParentBBoxes(e,t,n){for(let i=n;i>=0;i--)mi(t[i],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():en(e[t],this.toBBox)}};function jT(r,e,t){if(!t)return e.indexOf(r);for(let n=0;n<e.length;n++)if(t(r,e[n]))return n;return-1}function en(r,e){gi(r,0,r.children.length,e,r)}function gi(r,e,t,n,i){i||(i=ln(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=e;o<t;o++){const a=r.children[o];mi(i,r.leaf?n(a):a)}return i}function mi(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function HT(r,e){return r.minX-e.minX}function WT(r,e){return r.minY-e.minY}function Cl(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Io(r){return r.maxX-r.minX+(r.maxY-r.minY)}function VT(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function qT(r,e){const t=Math.max(r.minX,e.minX),n=Math.max(r.minY,e.minY),i=Math.min(r.maxX,e.maxX),o=Math.min(r.maxY,e.maxY);return Math.max(0,i-t)*Math.max(0,o-n)}function Ol(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Ro(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function ln(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ld(r,e,t,n,i){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=n)continue;const a=e+Math.ceil((t-e)/n/2)*n;UT(r,a,e,t,i),o.push(e,a,a,t)}}const W={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};var XT=function(){function r(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=ee(e.scale),this.displacement_=e.displacement}return r.prototype.clone=function(){var e=this.getScale();return new r({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getScaleArray=function(){return this.scaleArray_},r.prototype.getDisplacement=function(){return this.displacement_},r.prototype.getAnchor=function(){return X()},r.prototype.getImage=function(e){return X()},r.prototype.getHitDetectionImage=function(){return X()},r.prototype.getPixelRatio=function(e){return 1},r.prototype.getImageState=function(){return X()},r.prototype.getImageSize=function(){return X()},r.prototype.getOrigin=function(){return X()},r.prototype.getSize=function(){return X()},r.prototype.setDisplacement=function(e){this.displacement_=e},r.prototype.setOpacity=function(e){this.opacity_=e},r.prototype.setRotateWithView=function(e){this.rotateWithView_=e},r.prototype.setRotation=function(e){this.rotation_=e},r.prototype.setScale=function(e){this.scale_=e,this.scaleArray_=ee(e)},r.prototype.listenImageChange=function(e){X()},r.prototype.load=function(){X()},r.prototype.unlistenImageChange=function(e){X()},r}();const zy=XT;function Te(r){return Array.isArray(r)?dy(r):r}var KT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZT=function(r){KT(e,r);function e(t){var n=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return n=r.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,n.canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=t.fill!==void 0?t.fill:null,n.origin_=[0,0],n.points_=t.points,n.radius_=t.radius!==void 0?t.radius:t.radius1,n.radius2_=t.radius2,n.angle_=t.angle!==void 0?t.angle:0,n.stroke_=t.stroke!==void 0?t.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var n=this.getDisplacement();return[t[0]/2-n[0],t[1]/2+n[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var n=this.canvas_[t];if(!n){var i=this.renderOptions_,o=ue(i.size*t,i.size*t);this.draw_(i,o,t),n=o.canvas,this.canvas_[t]=n}return n},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return W.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,h=a*Math.sin(u),c=Math.sqrt(a*a-h*h),f=o-c,d=Math.sqrt(h*h+f*f),p=d/h;if(t==="miter"&&p<=i)return p*n;var _=n/2/p,v=n/2*(f/d),y=Math.sqrt((o+_)*(o+_)+v*v),g=y-o;if(this.radius2_===void 0||t==="bevel")return g*2;var m=o*Math.sin(u),b=Math.sqrt(o*o-m*m),w=a-b,x=Math.sqrt(m*m+w*w),T=x/m;if(T<=i){var E=T*n/2-a-o;return 2*Math.max(g,E)}return g*2},e.prototype.createRenderOptions=function(){var t=Nn,n=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=Gi),a=Te(a),s=this.stroke_.getWidth(),s===void 0&&(s=Yi),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Nn),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Bi));var l=this.calculateLineJoinSize_(t,s,n),u=Math.max(this.radius_,this.radius2_||0),h=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:s,size:h,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){var o=this.fill_.getColor();o===null&&(o=He),n.fillStyle=Te(o),n.fill()}this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,n.setLineDash&&t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var n=this.fill_.getColor(),i=0;if(typeof n=="string"&&(n=za(n)),n===null?i=1:Array.isArray(n)&&(i=n.length===4?n[3]:1),i===0){var o=ue(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var n=this.points_,i=this.radius_;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/n,l=0;l<n;l++){var u=a+l*s,h=l%2===0?i:o;t.lineTo(h*Math.cos(u),h*Math.sin(u))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=He,n.fill(),this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())},e}(zy);const QT=ZT;var JT=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),t2=function(r){JT(e,r);function e(t){var n=t||{};return r.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:n.scale!==void 0?n.scale:1,rotation:n.rotation!==void 0?n.rotation:0,rotateWithView:n.rotateWithView!==void 0?n.rotateWithView:!1,displacement:n.displacement!==void 0?n.displacement:[0,0]})||this}return e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(QT);const e2=t2;var r2=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0})},r.prototype.getColor=function(){return this.color_},r.prototype.setColor=function(e){this.color_=e},r}();const By=r2;var n2=function(){function r(e){var t=e||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return r.prototype.clone=function(){var e=this.getColor();return new r({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(e){this.color_=e},r.prototype.setLineCap=function(e){this.lineCap_=e},r.prototype.setLineDash=function(e){this.lineDash_=e},r.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},r.prototype.setLineJoin=function(e){this.lineJoin_=e},r.prototype.setMiterLimit=function(e){this.miterLimit_=e},r.prototype.setWidth=function(e){this.width_=e},r}();const Gy=n2;var Uy=function(){function r(e){var t=e||{};this.geometry_=null,this.geometryFunction_=ud,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return r.prototype.clone=function(){var e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new r({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.setRenderer=function(e){this.renderer_=e},r.prototype.setHitDetectionRenderer=function(e){this.hitDetectionRenderer_=e},r.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},r.prototype.getGeometry=function(){return this.geometry_},r.prototype.getGeometryFunction=function(){return this.geometryFunction_},r.prototype.getFill=function(){return this.fill_},r.prototype.setFill=function(e){this.fill_=e},r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(e){this.image_=e},r.prototype.getStroke=function(){return this.stroke_},r.prototype.setStroke=function(e){this.stroke_=e},r.prototype.getText=function(){return this.text_},r.prototype.setText=function(e){this.text_=e},r.prototype.getZIndex=function(){return this.zIndex_},r.prototype.setGeometry=function(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ud,this.geometry_=e},r.prototype.setZIndex=function(e){this.zIndex_=e},r}();function i2(r){var e;if(typeof r=="function")e=r;else{var t;if(Array.isArray(r))t=r;else{V(typeof r.getZIndex=="function",41);var n=r;t=[n]}e=function(){return t}}return e}var Ml=null;function o2(r,e){if(!Ml){var t=new By({color:"rgba(255,255,255,0.4)"}),n=new Gy({color:"#3399CC",width:1.25});Ml=[new Uy({image:new e2({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return Ml}function ud(r){return r.getGeometry()}const a2=Uy;var s2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hd={RENDER_ORDER:"renderOrder"},l2=function(r){s2(e,r);function e(t){var n=this,i=t||{},o=ut({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,n=r.call(this,o)||this,n.declutter_=i.declutter!==void 0?i.declutter:!1,n.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,n.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,n}return e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(t){return r.prototype.getFeatures.call(this,t)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(hd.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new $y(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(hd.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=t!==void 0?t:o2,this.styleFunction_=t===null?void 0:i2(this.style_),this.changed()},e}(Qi);const u2=l2;var no={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ao=[no.FILL],hr=[no.STROKE],Nr=[no.BEGIN_PATH],cd=[no.CLOSE_PATH];const z=no;var h2=function(){function r(){}return r.prototype.drawCustom=function(e,t,n,i){},r.prototype.drawGeometry=function(e){},r.prototype.setStyle=function(e){},r.prototype.drawCircle=function(e,t){},r.prototype.drawFeature=function(e,t){},r.prototype.drawGeometryCollection=function(e,t){},r.prototype.drawLineString=function(e,t){},r.prototype.drawMultiLineString=function(e,t){},r.prototype.drawMultiPoint=function(e,t){},r.prototype.drawMultiPolygon=function(e,t){},r.prototype.drawPoint=function(e,t){},r.prototype.drawPolygon=function(e,t){},r.prototype.drawText=function(e,t){},r.prototype.setFillStrokeStyle=function(e,t){},r.prototype.setImageStyle=function(e,t){},r.prototype.setTextStyle=function(e,t){},r}();const Yy=h2;var c2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f2=function(r){c2(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.tolerance=t,a.maxExtent=n,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return e.prototype.applyPixelRatio=function(t){var n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})},e.prototype.appendFlatPointCoordinates=function(t,n){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,l=0,u=t.length;l<u;l+=n)o[0]=t[l],o[1]=t[l+1],Yn(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},e.prototype.appendFlatLineCoordinates=function(t,n,i,o,a,s){var l=this.coordinates,u=l.length,h=this.getBufferedMaxExtent();s&&(n+=o);var c=t[n],f=t[n+1],d=this.tmpCoordinate_,p=!0,_,v,y;for(_=n+o;_<i;_+=o)d[0]=t[_],d[1]=t[_+1],y=au(h,d),y!==v?(p&&(l[u++]=c,l[u++]=f,p=!1),l[u++]=d[0],l[u++]=d[1]):y===Rt.INTERSECTING?(l[u++]=d[0],l[u++]=d[1],p=!1):p=!0,c=d[0],f=d[1],v=y;return(a&&p||_===n+o)&&(l[u++]=c,l[u++]=f),u},e.prototype.drawCustomCoordinates_=function(t,n,i,o,a){for(var s=0,l=i.length;s<l;++s){var u=i[s],h=this.appendFlatLineCoordinates(t,n,u,o,!1,!1);a.push(h),n=u}return n},e.prototype.drawCustom=function(t,n,i,o){this.beginGeometry(t,n);var a=t.getType(),s=t.getStride(),l=this.coordinates.length,u,h,c,f,d;switch(a){case H.MULTI_POLYGON:u=t.getOrientedFlatCoordinates(),f=[];var p=t.getEndss();d=0;for(var _=0,v=p.length;_<v;++_){var y=[];d=this.drawCustomCoordinates_(u,d,p[_],s,y),f.push(y)}this.instructions.push([z.CUSTOM,l,f,t,i,ed]),this.hitDetectionInstructions.push([z.CUSTOM,l,f,t,o||i,ed]);break;case H.POLYGON:case H.MULTI_LINE_STRING:c=[],u=a==H.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),d=this.drawCustomCoordinates_(u,0,t.getEnds(),s,c),this.instructions.push([z.CUSTOM,l,c,t,i,Ha]),this.hitDetectionInstructions.push([z.CUSTOM,l,c,t,o||i,Ha]);break;case H.LINE_STRING:case H.CIRCLE:u=t.getFlatCoordinates(),h=this.appendFlatLineCoordinates(u,0,u.length,s,!1,!1),this.instructions.push([z.CUSTOM,l,h,t,i,fn]),this.hitDetectionInstructions.push([z.CUSTOM,l,h,t,o||i,fn]);break;case H.MULTI_POINT:u=t.getFlatCoordinates(),h=this.appendFlatPointCoordinates(u,s),h>l&&(this.instructions.push([z.CUSTOM,l,h,t,i,fn]),this.hitDetectionInstructions.push([z.CUSTOM,l,h,t,o||i,fn]));break;case H.POINT:u=t.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),h=this.coordinates.length,this.instructions.push([z.CUSTOM,l,h,t,i]),this.hitDetectionInstructions.push([z.CUSTOM,l,h,t,o||i]);break}this.endGeometry(n)},e.prototype.beginGeometry=function(t,n){this.beginGeometryInstruction1_=[z.BEGIN_GEOMETRY,n,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[z.BEGIN_GEOMETRY,n,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var n,i=t.length,o,a,s=-1;for(n=0;n<i;++n)o=t[n],a=o[0],a==z.END_GEOMETRY?s=n:a==z.BEGIN_GEOMETRY&&(o[2]=n,tw(this.hitDetectionInstructions,s,n),s=-1)},e.prototype.setFillStrokeStyle=function(t,n){var i=this.state;if(t){var o=t.getColor();i.fillStyle=Te(o||He)}else i.fillStyle=void 0;if(n){var a=n.getColor();i.strokeStyle=Te(a||Gi);var s=n.getLineCap();i.lineCap=s!==void 0?s:Ga;var l=n.getLineDash();i.lineDash=l?l.slice():$i;var u=n.getLineDashOffset();i.lineDashOffset=u||zi;var h=n.getLineJoin();i.lineJoin=h!==void 0?h:Nn;var c=n.getWidth();i.lineWidth=c!==void 0?c:Yi;var f=n.getMiterLimit();i.miterLimit=f!==void 0?f:Bi,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t){var n=t.fillStyle,i=[z.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[z.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,n){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,n){var i=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,l=t.lineJoin,u=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||a!=t.currentLineDash&&!qr(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=l||t.currentLineWidth!=u||t.currentMiterLimit!=h)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=l,t.currentLineWidth=u,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[z.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ty(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;ki(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Yy);const io=f2;var d2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p2=function(r){d2(e,r);function e(t,n,i,o){var a=r.call(this,t,n,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return e.prototype.drawPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([z.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},e.prototype.drawMultiPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([z.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([z.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,r.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,n){var i=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=n},e}(io);const _2=p2;var v2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y2=function(r){v2(e,r);function e(t,n,i,o){return r.call(this,t,n,i,o)||this}return e.prototype.drawFlatCoordinates_=function(t,n,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,i,o,!1,!1),l=[z.MOVE_TO_LINE_TO,a,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i},e.prototype.drawLineString=function(t,n){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,$i,zi],Nr);var s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(hr),this.endGeometry(n)}},e.prototype.drawMultiLineString=function(t,n){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Nr);for(var s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),h=0,c=0,f=s.length;c<f;++c)h=this.drawFlatCoordinates_(l,h,s[c],u);this.hitDetectionInstructions.push(hr),this.endGeometry(n)}},e.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(hr),this.reverseHitDetectionInstructions(),this.state=null,r.prototype.finish.call(this)},e.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(hr),t.lastStroke=this.coordinates.length),t.lastStroke=0,r.prototype.applyStroke.call(this,t),this.instructions.push(Nr)},e}(io);const g2=y2;var m2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b2=function(r){m2(e,r);function e(t,n,i,o){return r.call(this,t,n,i,o)||this}return e.prototype.drawFlatCoordinatess_=function(t,n,i,o){var a=this.state,s=a.fillStyle!==void 0,l=a.strokeStyle!==void 0,u=i.length;this.instructions.push(Nr),this.hitDetectionInstructions.push(Nr);for(var h=0;h<u;++h){var c=i[h],f=this.coordinates.length,d=this.appendFlatLineCoordinates(t,n,c,o,!0,!l),p=[z.MOVE_TO_LINE_TO,f,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(cd),this.hitDetectionInstructions.push(cd)),n=c}return s&&(this.instructions.push(Ao),this.hitDetectionInstructions.push(Ao)),l&&(this.instructions.push(hr),this.hitDetectionInstructions.push(hr)),n},e.prototype.drawCircle=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,He]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getFlatCoordinates(),l=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var h=[z.CIRCLE,u];this.instructions.push(Nr,h),this.hitDetectionInstructions.push(Nr,h),i.fillStyle!==void 0&&(this.instructions.push(Ao),this.hitDetectionInstructions.push(Ao)),i.strokeStyle!==void 0&&(this.instructions.push(hr),this.hitDetectionInstructions.push(hr)),this.endGeometry(n)}},e.prototype.drawPolygon=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,He]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getEnds(),l=t.getOrientedFlatCoordinates(),u=t.getStride();this.drawFlatCoordinatess_(l,0,s,u),this.endGeometry(n)}},e.prototype.drawMultiPolygon=function(t,n){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,n),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_FILL_STYLE,He]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),h=0,c=0,f=s.length;c<f;++c)h=this.drawFlatCoordinatess_(l,h,s[c],u);this.endGeometry(n)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=Ir(n[i],t);return r.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,n=t.fillStyle;n!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},e}(io);const fd=b2,w2={POINT:"point",LINE:"line"};function x2(r,e,t,n,i){var o=t,a=t,s=0,l=0,u=t,h,c,f,d,p,_,v,y,g,m;for(c=t;c<n;c+=i){var b=e[c],w=e[c+1];p!==void 0&&(g=b-p,m=w-_,d=Math.sqrt(g*g+m*m),v!==void 0&&(l+=f,h=Math.acos((v*g+y*m)/(f*d)),h>r&&(l>s&&(s=l,o=u,a=c),l=0,u=c-i)),f=d,v=g,y=m),p=b,_=w}return l+=d,l>s?[u,c]:[o,a]}var E2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},T2=function(r){E2(e,r);function e(t,n,i,o){var a=r.call(this,t,n,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return e.prototype.finish=function(){var t=r.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},e.prototype.drawText=function(t,n){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,l=s.length,u=t.getType(),h=null,c=t.getStride();if(a.placement===w2.LINE&&(u==H.LINE_STRING||u==H.MULTI_LINE_STRING||u==H.POLYGON||u==H.MULTI_POLYGON)){if(!jt(this.getBufferedMaxExtent(),t.getExtent()))return;var f=void 0;if(h=t.getFlatCoordinates(),u==H.LINE_STRING)f=[h.length];else if(u==H.MULTI_LINE_STRING)f=t.getEnds();else if(u==H.POLYGON)f=t.getEnds().slice(0,1);else if(u==H.MULTI_POLYGON){var d=t.getEndss();f=[];for(var p=0,_=d.length;p<_;++p)f.push(d[p][0])}this.beginGeometry(t,n);for(var v=a.textAlign,y=0,g=void 0,m=0,b=f.length;m<b;++m){if(v==null){var w=x2(a.maxAngle,h,y,f[m],c);y=w[0],g=w[1]}else g=f[m];for(var p=y;p<g;p+=c)s.push(h[p],h[p+1]);var x=s.length;y=f[m],this.drawChars_(l,x),l=x}this.endGeometry(n)}else{var T=a.overflow?null:[];switch(u){case H.POINT:case H.MULTI_POINT:h=t.getFlatCoordinates();break;case H.LINE_STRING:h=t.getFlatMidpoint();break;case H.CIRCLE:h=t.getCenter();break;case H.MULTI_LINE_STRING:h=t.getFlatMidpoints(),c=2;break;case H.POLYGON:h=t.getFlatInteriorPoint(),a.overflow||T.push(h[2]/this.resolution),c=3;break;case H.MULTI_POLYGON:var E=t.getFlatInteriorPoints();h=[];for(var p=0,_=E.length;p<_;p+=3)a.overflow||T.push(E[p+2]/this.resolution),h.push(E[p],E[p+1]);if(h.length===0)return;c=2;break}var x=this.appendFlatPointCoordinates(h,c);if(x===l)return;if(T&&(x-l)/2!==h.length/c){var M=l/2;T=T.filter(function(q,Y){var K=s[(M+Y)*2]===h[Y*c]&&s[(M+Y)*2+1]===h[Y*c+1];return K||--M,K})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);var S=a.padding;if(S!=Dr&&(a.scale[0]<0||a.scale[1]<0)){var A=a.padding[0],N=a.padding[1],L=a.padding[2],B=a.padding[3];a.scale[0]<0&&(N=-N,B=-B),a.scale[1]<0&&(A=-A,L=-L),S=[A,N,L,B]}var P=this.pixelRatio;this.instructions.push([z.DRAW_IMAGE,l,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,S==Dr?Dr:S.map(function(q){return q*P}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,T]);var D=1/P;this.hitDetectionInstructions.push([z.DRAW_IMAGE,l,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[D,D],NaN,this.declutterImageWithText_,S,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,T]),this.endGeometry(n)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:n.font,textAlign:n.textAlign||Ui,textBaseline:n.textBaseline||Ua,scale:n.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},e.prototype.drawChars_=function(t,n){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,h=Wa[o.textBaseline],c=this.textOffsetY_*u,f=this.text_,d=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([z.DRAW_CHARS,t,n,h,o.overflow,l,o.maxAngle,u,c,a,d*u,f,s,1]),this.hitDetectionInstructions.push([z.DRAW_CHARS,t,n,h,o.overflow,l,o.maxAngle,1,c,a,d,f,s,1/u])},e.prototype.setTextStyle=function(t,n){var i,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Te(s.getColor()||He)):(o=null,this.textFillState_=o);var l=t.getStroke();if(!l)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var u=l.getLineDash(),h=l.getLineDashOffset(),c=l.getWidth(),f=l.getMiterLimit();a.lineCap=l.getLineCap()||Ga,a.lineDash=u?u.slice():$i,a.lineDashOffset=h===void 0?zi:h,a.lineJoin=l.getLineJoin()||Nn,a.lineWidth=c===void 0?Yi:c,a.miterLimit=f===void 0?Bi:f,a.strokeStyle=Te(l.getColor()||Gi)}i=this.textState_;var d=t.getFont()||_y;Dx(d);var p=t.getScaleArray();i.overflow=t.getOverflow(),i.font=d,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Ua,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Dr,i.scale=p===void 0?[1,1]:p;var _=t.getOffsetX(),v=t.getOffsetY(),y=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=v===void 0?0:v,this.textRotateWithView_=y===void 0?!1:y,this.textRotation_=g===void 0?0:g,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:et(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+et(o.fillStyle):""}this.declutterImageWithText_=n},e}(io);const C2=T2;var O2={Circle:fd,Default:io,Image:_2,LineString:g2,Polygon:fd,Text:C2},M2=function(){function r(e,t,n,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return r.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var o=n[i].finish();e[t][i]=o}}return e},r.prototype.getBuilder=function(e,t){var n=e!==void 0?e.toString():"0",i=this.buildersByZIndex_[n];i===void 0&&(i={},this.buildersByZIndex_[n]=i);var o=i[t];if(o===void 0){var a=O2[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},r}();const dd=M2;var P2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S2=function(r){P2(e,r);function e(t){var n=r.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=t,n.declutterExecutorGroup=null,n}return e.prototype.getFeatures=function(t){return X()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return X()},e.prototype.renderFrame=function(t,n){return X()},e.prototype.loadedTileCallback=function(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i},e.prototype.createLoadedTileFinder=function(t,n,i){return function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(n,o,a,s)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a){},e.prototype.getDataAtPixel=function(t,n,i){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var n=t.target;n.getState()===W.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var n=t.getState();return n!=W.LOADED&&n!=W.ERROR&&t.addEventListener(G.CHANGE,this.boundHandleImageChange_),n==W.IDLE&&(t.load(),n=t.getState()),n==W.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Yr.READY&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,r.prototype.disposeInternal.call(this)},e}(Yv);const I2=S2;var R2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bi=null;function A2(){var r=document.createElement("canvas");r.width=1,r.height=1,bi=r.getContext("2d")}var D2=function(r){R2(e,r);function e(t){var n=r.call(this,t)||this;return n.container=null,n.renderedResolution,n.tempTransform=Oe(),n.pixelTransform=Oe(),n.inversePixelTransform=Oe(),n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return e.prototype.getImageData=function(t,n,i){bi||A2(),bi.clearRect(0,0,1,1);var o;try{bi.drawImage(t,n,i,1,1,0,0,1,1),o=bi.getImageData(0,0,1,1).data}catch{return null}return o},e.prototype.getBackground=function(t){var n=this.getLayer(),i=n.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},e.prototype.useContainer=function(t,n,i,o){var a=this.getLayer().getClassName(),s,l;if(t&&t.className===a&&t.style.opacity===""&&i===1&&(!o||t.style.backgroundColor&&qr(za(t.style.backgroundColor),za(o)))){var u=t.firstElementChild;u instanceof HTMLCanvasElement&&(l=u.getContext("2d"))}if(l&&l.canvas.style.transform===n?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var h=s.style;h.position="absolute",h.width="100%",h.height="100%",o&&(h.backgroundColor=o),l=ue();var u=l.canvas;s.appendChild(u),h=u.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=s,this.context=l}},e.prototype.clipUnrotated=function(t,n,i){var o=Xr(i),a=Xs(i),s=qs(i),l=Vs(i);wt(n.coordinateToPixelTransform,o),wt(n.coordinateToPixelTransform,a),wt(n.coordinateToPixelTransform,s),wt(n.coordinateToPixelTransform,l);var u=this.inversePixelTransform;wt(u,o),wt(u,a),wt(u,s),wt(u,l),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,n,i){var o=this.getLayer();if(o.hasListener(t)){var a=new py(t,this.inversePixelTransform,i,n);o.dispatchEvent(a)}},e.prototype.preRender=function(t,n){this.frameState=n,this.dispatchRenderEvent_(Ur.PRERENDER,t,n)},e.prototype.postRender=function(t,n){this.dispatchRenderEvent_(Ur.POSTRENDER,t,n)},e.prototype.getRenderTransform=function(t,n,i,o,a,s,l){var u=a/2,h=s/2,c=o/n,f=-c,d=-t[0]+l,p=-t[1];return ye(this.tempTransform,u,h,c,f,-i,d,p)},e.prototype.getDataAtPixel=function(t,n,i){var o=wt(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),l=s.getExtent();if(l){var u=wt(n.pixelToCoordinateTransform,t.slice());if(!Yn(l,u))return null}var h=Math.round(o[0]),c=Math.round(o[1]),f=this.pixelContext_;if(!f){var d=document.createElement("canvas");d.width=1,d.height=1,f=d.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);var p;try{f.drawImage(a.canvas,h,c,1,1,0,0,1,1),p=f.getImageData(0,0,1,1).data}catch(_){return _.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):p}return p[3]===0?null:p},e.prototype.disposeInternal=function(){delete this.frameState,r.prototype.disposeInternal.call(this)},e}(I2);const mc=D2,yt={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function L2(r,e,t,n,i,o,a,s,l,u,h,c){var f=r[e],d=r[e+1],p=0,_=0,v=0,y=0;function g(){p=f,_=d,e+=n,f=r[e],d=r[e+1],y+=v,v=Math.sqrt((f-p)*(f-p)+(d-_)*(d-_))}do g();while(e<t-n&&y+v<o);for(var m=v===0?0:(o-y)/v,b=Sr(p,f,m),w=Sr(_,d,m),x=e-n,T=y,E=o+s*l(u,i,h);e<t-n&&y+v<E;)g();m=v===0?0:(E-y)/v;var M=Sr(p,f,m),S=Sr(_,d,m),A;if(c){var N=[b,w,M,S];gy(N,0,4,2,c,N,N),A=N[0]>N[2]}else A=b>M;var L=Math.PI,B=[],P=x+n===e;e=x,v=0,y=T,f=r[e],d=r[e+1];var D;if(P){g(),D=Math.atan2(d-_,f-p),A&&(D+=D>0?-L:L);var k=(M+b)/2,q=(S+w)/2;return B[0]=[k,q,(E-o)/2,D,i],B}for(var Y=0,K=i.length;Y<K;){g();var lt=Math.atan2(d-_,f-p);if(A&&(lt+=lt>0?-L:L),D!==void 0){var C=lt-D;if(C+=C>L?-2*L:C<-L?2*L:0,Math.abs(C)>a)return null}D=lt;for(var ct=Y,F=0;Y<K;++Y){var ft=A?K-Y-1:Y,St=s*l(u,i[ft],h);if(e+n<t&&y+v<o+F+St/2)break;F+=St}if(Y!==ct){var It=A?i.substring(K-ct,K-Y):i.substring(ct,Y);m=v===0?0:(o+F/2-y)/v;var k=Sr(p,f,m),q=Sr(_,d,m);B.push([k,q,F/2,lt,It]),o+=F}}return B}var rn=ce(),Ke=[],Ne=[],ke=[],Ze=[];function pd(r){return r[3].declutterBox}var N2=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function _d(r,e){return(e==="start"||e==="end")&&!N2.test(r)&&(e=e==="start"?"left":"right"),Wa[e]}function k2(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}var F2=function(){function r(e,t,n,i){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Oe(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return r.prototype.createLabel=function(e,t,n,i){var o=e+t+n+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[t],u=this.pixelRatio,h=[l.scale[0]*u,l.scale[1]*u],c=Array.isArray(e),f=_d(c?e[0]:e,l.textAlign||Ui),d=i&&a.lineWidth?a.lineWidth:0,p=c?e:e.split(`
`).reduce(k2,[]),_=Nx(l,p),v=_.width,y=_.height,g=_.widths,m=_.heights,b=_.lineWidths,w=v+d,x=[],T=(w+2)*h[0],E=(y+d)*h[1],M={width:T<0?Math.floor(T):Math.ceil(T),height:E<0?Math.floor(E):Math.ceil(E),contextInstructions:x};if((h[0]!=1||h[1]!=1)&&x.push("scale",h),i){x.push("strokeStyle",a.strokeStyle),x.push("lineWidth",d),x.push("lineCap",a.lineCap),x.push("lineJoin",a.lineJoin),x.push("miterLimit",a.miterLimit);var S=js?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;S.prototype.setLineDash&&(x.push("setLineDash",[a.lineDash]),x.push("lineDashOffset",a.lineDashOffset))}n&&x.push("fillStyle",s.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");for(var A=.5-f,N=f*w+A*d,L=[],B=[],P=0,D=0,k=0,q=0,Y,K=0,lt=p.length;K<lt;K+=2){var C=p[K];if(C===`
`){D+=P,P=0,N=f*w+A*d,++q;continue}var ct=p[K+1]||l.font;ct!==Y&&(i&&L.push("font",ct),n&&B.push("font",ct),Y=ct),P=Math.max(P,m[k]);var F=[C,N+A*g[k]+f*(g[k]-b[q]),.5*(d+P)+D];N+=g[k],i&&L.push("strokeText",F),n&&B.push("fillText",F),++k}return Array.prototype.push.apply(x,L),Array.prototype.push.apply(x,B),this.labels_[o]=M,M},r.prototype.replayTextBackground_=function(e,t,n,i,o,a,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,t),a&&(this.alignFill_=a[2],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())},r.prototype.calculateImageOrLabelDimensions_=function(e,t,n,i,o,a,s,l,u,h,c,f,d,p,_,v){s*=f[0],l*=f[1];var y=n-s,g=i-l,m=o+u>e?e-u:o,b=a+h>t?t-h:a,w=p[3]+m*f[0]+p[1],x=p[0]+b*f[1]+p[2],T=y-p[3],E=g-p[0];(_||c!==0)&&(Ke[0]=T,Ze[0]=T,Ke[1]=E,Ne[1]=E,Ne[0]=T+w,ke[0]=Ne[0],ke[1]=E+x,Ze[1]=ke[1]);var M;return c!==0?(M=ye(Oe(),n,i,1,1,c,-n,-i),wt(M,Ke),wt(M,Ne),wt(M,ke),wt(M,Ze),Pe(Math.min(Ke[0],Ne[0],ke[0],Ze[0]),Math.min(Ke[1],Ne[1],ke[1],Ze[1]),Math.max(Ke[0],Ne[0],ke[0],Ze[0]),Math.max(Ke[1],Ne[1],ke[1],Ze[1]),rn)):Pe(Math.min(T,T+w),Math.min(E,E+x),Math.max(T,T+w),Math.max(E,E+x),rn),d&&(y=Math.round(y),g=Math.round(g)),{drawImageX:y,drawImageY:g,drawImageW:m,drawImageH:b,originX:u,originY:h,declutterBox:{minX:rn[0],minY:rn[1],maxX:rn[2],maxY:rn[3],value:v},canvasTransform:M,scale:f}},r.prototype.replayImageOrLabel_=function(e,t,n,i,o,a,s){var l=!!(a||s),u=i.declutterBox,h=e.canvas,c=s?s[2]*i.scale[0]/2:0,f=u.minX-c<=h.width/t&&u.maxX+c>=0&&u.minY-c<=h.height/t&&u.maxY+c>=0;return f&&(l&&this.replayTextBackground_(e,Ke,Ne,ke,Ze,a,s),kx(e,i.canvasTransform,o,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},r.prototype.fill_=function(e){if(this.alignFill_){var t=wt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;e.save(),e.translate(t[0]%n,t[1]%n),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},r.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},r.prototype.drawLabelWithPointPlacement_=function(e,t,n,i){var o=this.textStates[t],a=this.createLabel(e,t,i,n),s=this.strokeStates[n],l=this.pixelRatio,u=_d(Array.isArray(e)?e[0]:e,o.textAlign||Ui),h=Wa[o.textBaseline||Ua],c=s&&s.lineWidth?s.lineWidth:0,f=a.width/l-2*o.scale[0],d=u*f+2*(.5-u)*c,p=h*a.height/l+2*(.5-h)*c;return{label:a,anchorX:d,anchorY:p}},r.prototype.execute_=function(e,t,n,i,o,a,s,l){var u;this.pixelCoordinates_&&qr(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=zr(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),yx(this.renderedTransform_,n));for(var h=0,c=i.length,f=0,d,p,_,v,y,g,m,b,w,x,T,E,M=0,S=0,A=null,N=null,L=this.coordinateCache_,B=this.viewRotation_,P=Math.round(Math.atan2(-n[1],n[0])*1e12)/1e12,D={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},k=this.instructions!=i||this.overlaps?0:200,q,Y,K,lt;h<c;){var C=i[h],ct=C[0];switch(ct){case z.BEGIN_GEOMETRY:q=C[1],lt=C[3],q.getGeometry()?s!==void 0&&!jt(s,lt.getExtent())?h=C[2]+1:++h:h=C[2];break;case z.BEGIN_PATH:M>k&&(this.fill_(e),M=0),S>k&&(e.stroke(),S=0),!M&&!S&&(e.beginPath(),v=NaN,y=NaN),++h;break;case z.CIRCLE:f=C[1];var F=u[f],ft=u[f+1],St=u[f+2],It=u[f+3],J=St-F,j=It-ft,Pt=Math.sqrt(J*J+j*j);e.moveTo(F+Pt,ft),e.arc(F,ft,Pt,0,2*Math.PI,!0),++h;break;case z.CLOSE_PATH:e.closePath(),++h;break;case z.CUSTOM:f=C[1],d=C[2];var Ut=C[3],wr=C[4],xr=C.length==6?C[5]:void 0;D.geometry=Ut,D.feature=q,h in L||(L[h]=[]);var oe=L[h];xr?xr(u,f,d,2,oe):(oe[0]=u[f],oe[1]=u[f+1],oe.length=2),wr(oe,D),++h;break;case z.DRAW_IMAGE:f=C[1],d=C[2],b=C[3],p=C[4],_=C[5];var De=C[6],co=C[7],Wn=C[8],fo=C[9],Er=C[10],Vn=C[11],po=C[12],Kr=C[13],qe=C[14];if(!b&&C.length>=19){w=C[18],x=C[19],T=C[20],E=C[21];var Zr=this.drawLabelWithPointPlacement_(w,x,T,E);b=Zr.label,C[3]=b;var nl=C[22];p=(Zr.anchorX-nl)*this.pixelRatio,C[4]=p;var _o=C[23];_=(Zr.anchorY-_o)*this.pixelRatio,C[5]=_,De=b.height,C[6]=De,Kr=b.width,C[13]=Kr}var qn=void 0;C.length>24&&(qn=C[24]);var Le=void 0,ge=void 0,Tr=void 0;C.length>16?(Le=C[15],ge=C[16],Tr=C[17]):(Le=Dr,ge=!1,Tr=!1),Er&&P?Vn+=B:!Er&&!P&&(Vn-=B);for(var Xn=0;f<d;f+=2)if(!(qn&&qn[Xn++]<Kr/this.pixelRatio)){var Wt=this.calculateImageOrLabelDimensions_(b.width,b.height,u[f],u[f+1],Kr,De,p,_,Wn,fo,Vn,po,o,Le,ge||Tr,q),vo=[e,t,b,Wt,co,ge?A:null,Tr?N:null],Nt=void 0,Qr=void 0;if(l&&qe){var Cr=d-f;if(!qe[Cr]){qe[Cr]=vo;continue}if(Nt=qe[Cr],delete qe[Cr],Qr=pd(Nt),l.collides(Qr))continue}l&&l.collides(Wt.declutterBox)||(Nt&&(l&&l.insert(Qr),this.replayImageOrLabel_.apply(this,Nt)),l&&l.insert(Wt.declutterBox),this.replayImageOrLabel_.apply(this,vo))}++h;break;case z.DRAW_CHARS:var Nc=C[1],kc=C[2],il=C[3],pm=C[4];E=C[5];var _m=C[6],Fc=C[7],$c=C[8];T=C[9];var ol=C[10];w=C[11],x=C[12];var zc=[C[13],C[13]],al=this.textStates[x],Kn=al.font,Zn=[al.scale[0]*Fc,al.scale[1]*Fc],Qn=void 0;Kn in this.widths_?Qn=this.widths_[Kn]:(Qn={},this.widths_[Kn]=Qn);var Bc=GT(u,Nc,kc,2),Gc=Math.abs(Zn[0])*qf(Kn,w,Qn);if(pm||Gc<=Bc){var vm=this.textStates[x].textAlign,ym=(Bc-Gc)*Wa[vm],Jn=L2(u,Nc,kc,2,w,ym,_m,Math.abs(Zn[0]),qf,Kn,Qn,P?0:this.viewRotation_);t:if(Jn){var ti=[],Xe=void 0,yo=void 0,go=void 0,Vt=void 0,ae=void 0;if(T)for(Xe=0,yo=Jn.length;Xe<yo;++Xe){ae=Jn[Xe],go=ae[4],Vt=this.createLabel(go,x,"",T),p=ae[2]+(Zn[0]<0?-ol:ol),_=il*Vt.height+(.5-il)*2*ol*Zn[1]/Zn[0]-$c;var Wt=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,ae[0],ae[1],Vt.width,Vt.height,p,_,0,0,ae[3],zc,!1,Dr,!1,q);if(l&&l.collides(Wt.declutterBox))break t;ti.push([e,t,Vt,Wt,1,null,null])}if(E)for(Xe=0,yo=Jn.length;Xe<yo;++Xe){ae=Jn[Xe],go=ae[4],Vt=this.createLabel(go,x,E,""),p=ae[2],_=il*Vt.height-$c;var Wt=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,ae[0],ae[1],Vt.width,Vt.height,p,_,0,0,ae[3],zc,!1,Dr,!1,q);if(l&&l.collides(Wt.declutterBox))break t;ti.push([e,t,Vt,Wt,1,null,null])}l&&l.load(ti.map(pd));for(var sl=0,gm=ti.length;sl<gm;++sl)this.replayImageOrLabel_.apply(this,ti[sl])}}++h;break;case z.END_GEOMETRY:if(a!==void 0){q=C[1];var Uc=a(q,lt);if(Uc)return Uc}++h;break;case z.FILL:k?M++:this.fill_(e),++h;break;case z.MOVE_TO_LINE_TO:for(f=C[1],d=C[2],Y=u[f],K=u[f+1],g=Y+.5|0,m=K+.5|0,(g!==v||m!==y)&&(e.moveTo(Y,K),v=g,y=m),f+=2;f<d;f+=2)Y=u[f],K=u[f+1],g=Y+.5|0,m=K+.5|0,(f==d-2||g!==v||m!==y)&&(e.lineTo(Y,K),v=g,y=m);++h;break;case z.SET_FILL_STYLE:A=C,this.alignFill_=C[2],M&&(this.fill_(e),M=0,S&&(e.stroke(),S=0)),e.fillStyle=C[1],++h;break;case z.SET_STROKE_STYLE:N=C,S&&(e.stroke(),S=0),this.setStrokeStyle_(e,C),++h;break;case z.STROKE:k?S++:e.stroke(),++h;break;default:++h;break}}M&&this.fill_(e),S&&e.stroke()},r.prototype.execute=function(e,t,n,i,o,a){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,o,void 0,void 0,a)},r.prototype.executeHitDetection=function(e,t,n,i,o){return this.viewRotation_=n,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,o)},r}();const $2=F2;var Pl=[yt.POLYGON,yt.CIRCLE,yt.LINE_STRING,yt.IMAGE,yt.TEXT,yt.DEFAULT],z2=function(){function r(e,t,n,i,o,a){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Oe(),this.createExecutors_(o)}return r.prototype.clip=function(e,t){var n=this.getClipCoords(t);e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.lineTo(n[4],n[5]),e.lineTo(n[6],n[7]),e.clip()},r.prototype.createExecutors_=function(e){for(var t in e){var n=this.executorsByZIndex_[t];n===void 0&&(n={},this.executorsByZIndex_[t]=n);var i=e[t];for(var o in i){var a=i[o];n[o]=new $2(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},r.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in n)return!0;return!1},r.prototype.forEachFeatureAtCoordinate=function(e,t,n,i,o,a){i=Math.round(i);var s=i*2+1,l=ye(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=ue(s,s));var h=this.hitDetectionContext_;h.canvas.width!==s||h.canvas.height!==s?(h.canvas.width=s,h.canvas.height=s):u||h.clearRect(0,0,s,s);var c;this.renderBuffer_!==void 0&&(c=ce(),Oi(c,e),ki(c,t*(this.renderBuffer_+i),c));var f=B2(i),d;function p(x,T){for(var E=h.getImageData(0,0,s,s).data,M=0,S=f.length;M<S;M++)if(E[f[M]]>0){if(!a||d!==yt.IMAGE&&d!==yt.TEXT||a.indexOf(x)!==-1){var A=(f[M]-3)/4,N=i-A%s,L=i-(A/s|0),B=o(x,T,N*N+L*L);if(B)return B}h.clearRect(0,0,s,s);break}}var _=Object.keys(this.executorsByZIndex_).map(Number);_.sort(Rn);var v,y,g,m,b;for(v=_.length-1;v>=0;--v){var w=_[v].toString();for(g=this.executorsByZIndex_[w],y=Pl.length-1;y>=0;--y)if(d=Pl[y],m=g[d],m!==void 0&&(b=m.executeHitDetection(h,l,n,p,c),b))return b}},r.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],o=t[2],a=t[3],s=[n,i,n,a,o,a,o,i];return zr(s,0,8,2,e,s),s},r.prototype.isEmpty=function(){return Ni(this.executorsByZIndex_)},r.prototype.execute=function(e,t,n,i,o,a,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Rn),this.maxExtent_&&(e.save(),this.clip(e,n));var u=a||Pl,h,c,f,d,p,_;for(s&&l.reverse(),h=0,c=l.length;h<c;++h){var v=l[h].toString();for(p=this.executorsByZIndex_[v],f=0,d=u.length;f<d;++f){var y=u[f];_=p[y],_!==void 0&&_.execute(e,t,n,i,o,s)}}this.maxExtent_&&e.restore()},r}(),Sl={};function B2(r){if(Sl[r]!==void 0)return Sl[r];for(var e=r*2+1,t=r*r,n=new Array(t+1),i=0;i<=r;++i)for(var o=0;o<=r;++o){var a=i*i+o*o;if(a>t)break;var s=n[a];s||(s=[],n[a]=s),s.push(((r+i)*e+(r+o))*4+3),i>0&&s.push(((r-i)*e+(r+o))*4+3),o>0&&(s.push(((r+i)*e+(r-o))*4+3),i>0&&s.push(((r-i)*e+(r-o))*4+3))}for(var l=[],i=0,u=n.length;i<u;++i)n[i]&&l.push.apply(l,n[i]);return Sl[r]=l,l}const vd=z2;var G2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U2=function(r){G2(e,r);function e(t,n,i,o,a,s,l){var u=r.call(this)||this;return u.context_=t,u.pixelRatio_=n,u.extent_=i,u.transform_=o,u.viewRotation_=a,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=Oe(),u}return e.prototype.drawImages_=function(t,n,i,o){if(this.image_){var a=zr(t,n,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,u=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=u*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(var c=0,f=a.length;c<f;c+=2){var d=a[c]-this.imageAnchorX_,p=a[c+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var _=d+this.imageAnchorX_,v=p+this.imageAnchorY_;ye(l,_,v,1,1,h,-_,-v),s.setTransform.apply(s,l),s.translate(_,v),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=u)}},e.prototype.drawText_=function(t,n,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=zr(t,n,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);n<i;n+=o){var u=a[n]+this.textOffsetX_,h=a[n+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var c=ye(this.tmpLocalTransform_,u,h,1,1,l,-u,-h);s.setTransform.apply(s,c),s.translate(u,h),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,u,h),this.textFillState_&&s.fillText(this.text_,u,h)}}},e.prototype.moveToLineTo_=function(t,n,i,o,a){var s=this.context_,l=zr(t,n,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var u=l.length;a&&(u-=2);for(var h=2;h<u;h+=2)s.lineTo(l[h],l[h+1]);return a&&s.closePath(),i},e.prototype.drawRings_=function(t,n,i,o){for(var a=0,s=i.length;a<s;++a)n=this.moveToLineTo_(t,n,i[a],o,!0);return n},e.prototype.drawCircle=function(t){if(jt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=_E(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],o=n[3]-n[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(n[0],n[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var n=t.getType();switch(n){case H.POINT:this.drawPoint(t);break;case H.LINE_STRING:this.drawLineString(t);break;case H.POLYGON:this.drawPolygon(t);break;case H.MULTI_POINT:this.drawMultiPoint(t);break;case H.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case H.MULTI_POLYGON:this.drawMultiPolygon(t);break;case H.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case H.CIRCLE:this.drawCircle(t);break}},e.prototype.drawFeature=function(t,n){var i=n.getGeometryFunction()(t);!i||!jt(this.extent_,i.getExtent())||(this.setStyle(n),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var n=t.getGeometriesArray(),i=0,o=n.length;i<o;++i)this.drawGeometry(n[i])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var n=t.getExtent();if(jt(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();i.beginPath();for(var u=0,h=s.length;u<h;++u)a=this.moveToLineTo_(o,a,s[u],l,!1);i.stroke()}if(this.text_!==""){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();n.beginPath();for(var l=0,u=a.length;l<u;++l){var h=a[l];o=this.drawRings_(i,o,h,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),n.setLineDash&&(qr(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var n=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Ui;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=o&&(i.textAlign=o,n.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=o,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,n){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:Te(o||He)}}if(!n)this.strokeState_=null;else{var a=n.getColor(),s=n.getLineCap(),l=n.getLineDash(),u=n.getLineDashOffset(),h=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit(),d=l||$i;this.strokeState_={lineCap:s!==void 0?s:Ga,lineDash:this.pixelRatio_===1?d:d.map(function(p){return p*i.pixelRatio_}),lineDashOffset:(u||zi)*this.pixelRatio_,lineJoin:h!==void 0?h:Nn,lineWidth:(c!==void 0?c:Yi)*this.pixelRatio_,miterLimit:f!==void 0?f:Bi,strokeStyle:Te(a||Gi)}}},e.prototype.setImageStyle=function(t){var n;if(!t||!(n=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=n[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=n[0]*this.pixelRatio_},e.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var n=t.getFill();if(!n)this.textFillState_=null;else{var i=n.getColor();this.textFillState_={fillStyle:Te(i||He)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),l=o.getLineDash(),u=o.getLineDashOffset(),h=o.getLineJoin(),c=o.getWidth(),f=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:Ga,lineDash:l||$i,lineDashOffset:u||zi,lineJoin:h!==void 0?h:Nn,lineWidth:c!==void 0?c:Yi,miterLimit:f!==void 0?f:Bi,strokeStyle:Te(a||Gi)}}var d=t.getFont(),p=t.getOffsetX(),_=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation(),g=t.getScaleArray(),m=t.getText(),b=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:d!==void 0?d:_y,textAlign:b!==void 0?b:Ui,textBaseline:w!==void 0?w:Ua},this.text_=m!==void 0?Array.isArray(m)?m.reduce(function(x,T,E){return x+=E%2?" ":T},""):m:"",this.textOffsetX_=p!==void 0?this.pixelRatio_*p:0,this.textOffsetY_=_!==void 0?this.pixelRatio_*_:0,this.textRotateWithView_=v!==void 0?v:!1,this.textRotation_=y!==void 0?y:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}},e}(Yy);const Y2=U2,ir={FRACTION:"fraction",PIXELS:"pixels"},se={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var j2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H2=function(r){j2(e,r);function e(t,n,i,o){var a=r.call(this)||this;return a.extent=t,a.pixelRatio_=i,a.resolution=n,a.state=o,a}return e.prototype.changed=function(){this.dispatchEvent(G.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return X()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){X()},e}(Bn);const jy=H2;var W2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V2=function(r){W2(e,r);function e(t,n,i,o,a,s){var l=r.call(this,t,n,i,W.IDLE)||this;return l.src_=o,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=W.IDLE,l.imageLoadFunction_=s,l}return e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=W.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Bt(this.extent)/this.image_.height),this.state=W.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){(this.state==W.IDLE||this.state==W.ERROR)&&(this.state=W.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=bc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Bt(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(jy);function bc(r,e,t){var n=r,i=!0,o=!1,a=!1,s=[ka(n,G.LOAD,function(){a=!0,o||e()})];return n.src&&dw?(o=!0,n.decode().then(function(){i&&e()}).catch(function(l){i&&(a?e():t())})):s.push(ka(n,G.ERROR,t)),function(){i=!1,s.forEach(pt)}}const q2=V2;var X2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),si=null,K2=function(r){X2(e,r);function e(t,n,i,o,a,s){var l=r.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,o!==null&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=a,l.size_=i,l.src_=n,l.tainted_,l}return e.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===W.LOADED){si||(si=ue(1,1)),si.drawImage(this.image_,0,0);try{si.getImageData(0,0,1,1),this.tainted_=!1}catch{si=null,this.tainted_=!0}}return this.tainted_===!0},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(G.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=W.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=W.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],n=this.size_[1],i=ue(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==W.IDLE){this.imageState_=W.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=bc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==W.LOADED)){var n=document.createElement("canvas");this.canvas_[t]=n,n.width=Math.ceil(this.image_.width*t),n.height=Math.ceil(this.image_.height*t);var i=n.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=fy(this.color_),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,n.width,n.height),a=o.data,s=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,h=this.color_[3],c=0,f=a.length;c<f;c+=4)a[c]*=s,a[c+1]*=l,a[c+2]*=u,a[c+3]*=h;i.putImageData(o,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Bn);function Z2(r,e,t,n,i,o){var a=Ba.get(e,n,o);return a||(a=new K2(r,e,t,n,i,o),Ba.set(e,n,o,a)),a}var Q2=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),J2=function(r){Q2(e,r);function e(t){var n=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,l=i.rotateWithView!==void 0?i.rotateWithView:!1;n=r.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:l})||this,n.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:se.TOP_LEFT,n.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:ir.FRACTION,n.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:ir.FRACTION,n.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var u=i.img!==void 0?i.img:null;n.imgSize_=i.imgSize;var h=i.src;V(!(h!==void 0&&u),4),V(!u||u&&n.imgSize_,5),(h===void 0||h.length===0)&&u&&(h=u.src||et(u)),V(h!==void 0&&h.length>0,6);var c=i.src!==void 0?W.IDLE:W.LOADED;return n.color_=i.color!==void 0?za(i.color):null,n.iconImage_=Z2(u,h,n.imgSize_!==void 0?n.imgSize_:null,n.crossOrigin_,c,n.color_),n.offset_=i.offset!==void 0?i.offset:[0,0],n.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:se.TOP_LEFT,n.origin_=null,n.size_=i.size!==void 0?i.size:null,n}return e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var n=this.getSize();if(this.anchorXUnits_==ir.FRACTION||this.anchorYUnits_==ir.FRACTION){if(!n)return null;t=this.anchor_.slice(),this.anchorXUnits_==ir.FRACTION&&(t[0]*=n[0]),this.anchorYUnits_==ir.FRACTION&&(t[1]*=n[1])}if(this.anchorOrigin_!=se.TOP_LEFT){if(!n)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==se.TOP_RIGHT||this.anchorOrigin_==se.BOTTOM_RIGHT)&&(t[0]=-t[0]+n[0]),(this.anchorOrigin_==se.BOTTOM_LEFT||this.anchorOrigin_==se.BOTTOM_RIGHT)&&(t[1]=-t[1]+n[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=se.TOP_LEFT){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_==se.TOP_RIGHT||this.offsetOrigin_==se.BOTTOM_RIGHT)&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_==se.BOTTOM_LEFT||this.offsetOrigin_==se.BOTTOM_RIGHT)&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(G.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(G.CHANGE,t)},e}(zy);const Hy=J2;var we=.5;function tC(r,e,t,n,i,o,a){var s=r[0]*we,l=r[1]*we,u=ue(s,l);u.imageSmoothingEnabled=!1;for(var h=u.canvas,c=new Y2(u,we,i,null,a),f=t.length,d=Math.floor((256*256*256-1)/f),p={},_=1;_<=f;++_){var v=t[_-1],y=v.getStyleFunction()||n;if(n){var g=y(v,o);if(g){Array.isArray(g)||(g=[g]);for(var m=_*d,b="#"+("000000"+m.toString(16)).slice(-6),w=0,x=g.length;w<x;++w){var T=g[w],E=T.getGeometryFunction()(v);if(!(!E||!jt(i,E.getExtent()))){var M=T.clone(),S=M.getFill();S&&S.setColor(b);var A=M.getStroke();A&&(A.setColor(b),A.setLineDash(null)),M.setText(void 0);var N=T.getImage();if(N&&N.getOpacity()!==0){var L=N.getImageSize();if(!L)continue;var B=ue(L[0],L[1],void 0,{alpha:!1}),P=B.canvas;B.fillStyle=b,B.fillRect(0,0,P.width,P.height),M.setImage(new Hy({img:P,imgSize:L,anchor:N.getAnchor(),anchorXUnits:ir.PIXELS,anchorYUnits:ir.PIXELS,offset:N.getOrigin(),opacity:1,size:N.getSize(),scale:N.getScale(),rotation:N.getRotation(),rotateWithView:N.getRotateWithView()}))}var D=M.getZIndex()||0,k=p[D];k||(k={},p[D]=k,k[H.POLYGON]=[],k[H.CIRCLE]=[],k[H.LINE_STRING]=[],k[H.POINT]=[]),k[E.getType().replace("Multi","")].push(E,M)}}}}}for(var q=Object.keys(p).map(Number).sort(Rn),_=0,Y=q.length;_<Y;++_){var k=p[q[_]];for(var K in k)for(var lt=k[K],w=0,x=lt.length;w<x;w+=2){c.setStyle(lt[w+1]);for(var C=0,ct=e.length;C<ct;++C)c.setTransform(e[C]),c.drawGeometry(lt[w])}}return u.getImageData(0,0,h.width,h.height)}function eC(r,e,t){var n=[];if(t){var i=Math.floor(Math.round(r[0])*we),o=Math.floor(Math.round(r[1])*we),a=(mt(i,0,t.width-1)+mt(o,0,t.height-1)*t.width)*4,s=t.data[a],l=t.data[a+1],u=t.data[a+2],h=u+256*(l+256*s),c=Math.floor((256*256*256-1)/e.length);h&&h%c===0&&n.push(e[h/c-1])}return n}var rC=.5,Wy={Point:cC,LineString:lC,Polygon:dC,MultiPoint:fC,MultiLineString:uC,MultiPolygon:hC,GeometryCollection:sC,Circle:oC};function nC(r,e){return parseInt(et(r),10)-parseInt(et(e),10)}function iC(r,e){var t=_u(r,e);return t*t}function _u(r,e){return rC*r/e}function oC(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=r.getBuilder(t.getZIndex(),yt.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),yt.TEXT);u.setTextStyle(l),u.drawText(e,n)}}function yd(r,e,t,n,i,o,a){var s=!1,l=t.getImage();if(l){var u=l.getImageState();u==W.LOADED||u==W.ERROR?l.unlistenImageChange(i):(u==W.IDLE&&l.load(),u=l.getImageState(),l.listenImageChange(i),s=!0)}return aC(r,e,t,n,o,a),s}function aC(r,e,t,n,i,o){var a=t.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(n,i),l=t.getRenderer();if(l)Vy(r,s,t,e);else{var u=Wy[s.getType()];u(r,s,t,e,o)}}}function Vy(r,e,t,n){if(e.getType()==H.GEOMETRY_COLLECTION){for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)Vy(r,i[o],t,n);return}var s=r.getBuilder(t.getZIndex(),yt.DEFAULT);s.drawCustom(e,n,t.getRenderer(),t.getHitDetectionRenderer())}function sC(r,e,t,n,i){var o=e.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var l=Wy[o[a].getType()];l(r,o[a],t,n,i)}}function lC(r,e,t,n,i){var o=t.getStroke();if(o){var a=r.getBuilder(t.getZIndex(),yt.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(e,n)}var s=t.getText();if(s&&s.getText()){var l=(i||r).getBuilder(t.getZIndex(),yt.TEXT);l.setTextStyle(s),l.drawText(e,n)}}function uC(r,e,t,n,i){var o=t.getStroke();if(o){var a=r.getBuilder(t.getZIndex(),yt.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,n)}var s=t.getText();if(s&&s.getText()){var l=(i||r).getBuilder(t.getZIndex(),yt.TEXT);l.setTextStyle(s),l.drawText(e,n)}}function hC(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(a||o){var s=r.getBuilder(t.getZIndex(),yt.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),yt.TEXT);u.setTextStyle(l),u.drawText(e,n)}}function cC(r,e,t,n,i){var o=t.getImage(),a=t.getText(),s;if(i&&(r=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=W.LOADED)return;var l=r.getBuilder(t.getZIndex(),yt.IMAGE);l.setImageStyle(o,s),l.drawPoint(e,n)}if(a&&a.getText()){var u=r.getBuilder(t.getZIndex(),yt.TEXT);u.setTextStyle(a,s),u.drawText(e,n)}}function fC(r,e,t,n,i){var o=t.getImage(),a=t.getText(),s;if(i&&(r=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=W.LOADED)return;var l=r.getBuilder(t.getZIndex(),yt.IMAGE);l.setImageStyle(o,s),l.drawMultiPoint(e,n)}if(a&&a.getText()){var u=(i||r).getBuilder(t.getZIndex(),yt.TEXT);u.setTextStyle(a,s),u.drawText(e,n)}}function dC(r,e,t,n,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=r.getBuilder(t.getZIndex(),yt.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(e,n)}var l=t.getText();if(l&&l.getText()){var u=(i||r).getBuilder(t.getZIndex(),yt.TEXT);u.setTextStyle(l),u.drawText(e,n)}}var pC=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_C=function(r){pC(e,r);function e(t){var n=r.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=ce(),n.wrappedRenderedExtent_=ce(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return e.prototype.renderWorlds=function(t,n,i){var o=n.extent,a=n.viewState,s=a.center,l=a.resolution,u=a.projection,h=a.rotation,c=u.getExtent(),f=this.getLayer().getSource(),d=n.pixelRatio,p=n.viewHints,_=!(p[At.ANIMATING]||p[At.INTERACTING]),v=this.context,y=Math.round(n.size[0]*d),g=Math.round(n.size[1]*d),m=f.getWrapX()&&u.canWrapX(),b=m?st(c):null,w=m?Math.ceil((o[2]-c[2])/b)+1:1,x=m?Math.floor((o[0]-c[0])/b):0;do{var T=this.getRenderTransform(s,l,h,d,y,g,x*b);t.execute(v,1,T,h,_,void 0,i)}while(++x<w)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,n){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];gx(this.pixelTransform,1/i,1/i),Qs(this.inversePixelTransform,this.pixelTransform);var a=cc(this.pixelTransform);this.useContainer(n,a,o.opacity,this.getBackground(t));var s=this.context,l=s.canvas,u=this.replayGroup_,h=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!h||h.isEmpty()))return null;var c=Math.round(t.size[0]*i),f=Math.round(t.size[1]*i);l.width!=c||l.height!=f?(l.width=c,l.height=f,l.style.transform!==a&&(l.style.transform=a)):this.containerReused||s.clearRect(0,0,c,f),this.preRender(s,t);var d=t.viewState,p=d.projection,_=!1,v=!0;if(o.extent&&this.clipping){var y=Ye(o.extent,p);v=jt(y,t.extent),_=v&&!ur(y,t.extent),_&&this.clipUnrotated(s,t,y)}v&&this.renderWorlds(u,t),_&&s.restore(),this.postRender(s,t);var g=qv(o.opacity),m=this.container;return g!==m.style.opacity&&(m.style.opacity=g),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];wt(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,h=this.getLayer(),c=[],f=i[0]*we,d=i[1]*we;c.push(this.getRenderTransform(o,a,s,we,f,d,0).slice());var p=h.getSource(),_=l.getExtent();if(p.getWrapX()&&l.canWrapX()&&!ur(_,u)){for(var v=u[0],y=st(_),g=0,m=void 0;v<_[0];)--g,m=y*g,c.push(this.getRenderTransform(o,a,s,we,f,d,m).slice()),v+=y;for(g=0,v=u[2];v>_[2];)++g,m=y*g,c.push(this.getRenderTransform(o,a,s,we,f,d,m).slice()),v-=y}this.hitDetectionImageData_=tC(i,c,this.renderedFeatures_,h.getStyleFunction(),u,a,s)}n(eC(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,n,i,o,a){var s=this;if(this.replayGroup_){var l=n.viewState.resolution,u=n.viewState.rotation,h=this.getLayer(),c={},f=function(_,v,y){var g=et(_),m=c[g];if(m){if(m!==!0&&y<m.distanceSq){if(y===0)return c[g]=!0,a.splice(a.lastIndexOf(m),1),o(_,h,v);m.geometry=v,m.distanceSq=y}}else{if(y===0)return c[g]=!0,o(_,h,v);a.push(c[g]={feature:_,layer:h,geometry:v,distanceSq:y,callback:o})}},d,p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(function(_){return d=_.forEachFeatureAtCoordinate(t,l,u,i,f,_===s.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(function(v){return v.value}):null)}),d}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var o=t.viewHints[At.ANIMATING],a=t.viewHints[At.INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=t.extent,h=t.viewState,c=h.projection,f=h.resolution,d=t.pixelRatio,p=n.getRevision(),_=n.getRenderBuffer(),v=n.getRenderOrder();v===void 0&&(v=nC);var y=h.center.slice(),g=ki(u,_*f),m=g.slice(),b=[g.slice()],w=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!ur(w,t.extent)){var x=st(w),T=Math.max(st(g)/2,x);g[0]=w[0]-T,g[2]=w[2]+T,ay(y,c);var E=ax(b[0],c);E[0]<w[0]&&E[2]<w[2]?b.push([E[0]+x,E[1],E[2]+x,E[3]]):E[0]>w[0]&&E[2]>w[2]&&b.push([E[0]-x,E[1],E[2]-x,E[3]])}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&ur(this.wrappedRenderedExtent_,g))return qr(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var M=new dd(_u(f,d),g,f,d),S;this.getLayer().getDeclutter()&&(S=new dd(_u(f,d),g,f,d));var A=cy(),N;if(A){for(var L=0,B=b.length;L<B;++L){var P=b[L],D=cu(P,c);i.loadFeatures(D,px(f,c),A)}N=Zs(A,c)}else for(var L=0,B=b.length;L<B;++L)i.loadFeatures(b[L],f,c);var k=iC(f,d),q=function(ct){var F,ft=ct.getStyleFunction()||n.getStyleFunction();if(ft&&(F=ft(ct,f)),F){var St=this.renderFeature(ct,k,F,M,N,S);this.dirty_=this.dirty_||St}}.bind(this),Y=cu(g,c),K=i.getFeaturesInExtent(Y);v&&K.sort(v);for(var L=0,B=K.length;L<B;++L)q(K[L]);this.renderedFeatures_=K;var lt=M.finish(),C=new vd(g,f,d,i.getOverlaps(),lt,n.getRenderBuffer());return S&&(this.declutterExecutorGroup=new vd(g,f,d,i.getOverlaps(),S.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=m,this.wrappedRenderedExtent_=g,this.renderedCenter_=y,this.renderedProjection_=c,this.replayGroup_=C,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,n,i,o,a,s){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var u=0,h=i.length;u<h;++u)l=yd(o,t,i[u],n,this.boundHandleStyleImageChange_,a,s)||l;else l=yd(o,t,i,n,this.boundHandleStyleImageChange_,a,s);return l},e}(mc);const vC=_C;var yC=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gC=function(r){yC(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new vC(this)},e}(u2);const mC=gC;var bC=function(){function r(e){this.rbush_=new $y(e),this.items_={}}return r.prototype.insert=function(e,t){var n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(n),this.items_[et(t)]=n},r.prototype.load=function(e,t){for(var n=new Array(t.length),i=0,o=t.length;i<o;i++){var a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[et(s)]=l}this.rbush_.load(n)},r.prototype.remove=function(e){var t=et(e),n=this.items_[t];return delete this.items_[t],this.rbush_.remove(n)!==null},r.prototype.update=function(e,t){var n=this.items_[et(t)],i=[n.minX,n.minY,n.maxX,n.maxY];Ln(i,e)||(this.remove(t),this.insert(e,t))},r.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(t){return t.value})},r.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},n=this.rbush_.search(t);return n.map(function(i){return i.value})},r.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},r.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},r.prototype.forEach_=function(e,t){for(var n,i=0,o=e.length;i<o;i++)if(n=t(e[i]),n)return n;return n},r.prototype.isEmpty=function(){return Ni(this.items_)},r.prototype.clear=function(){this.rbush_.clear(),this.items_={}},r.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Pe(t.minX,t.minY,t.maxX,t.maxY,e)},r.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_)this.items_[t]=e.items_[t]},r}();const gd=bC;var wC=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xC=function(r){wC(e,r);function e(t){var n=r.call(this)||this;n.projection=Ct(t.projection),n.attributions_=md(t.attributions),n.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,n.loading=!1,n.state_=t.state!==void 0?t.state:Yr.READY,n.wrapX_=t.wrapX!==void 0?t.wrapX:!1,n.interpolate_=!!t.interpolate,n.viewResolver=null,n.viewRejector=null;var i=n;return n.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),n}return e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return X()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=md(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Ae);function md(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}const wc=xC,pe={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function EC(r,e){return[[-1/0,-1/0,1/0,1/0]]}var TC=!1;function CC(r,e,t,n,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof r=="function"?r(t,n,i):r,!0),e.getType()==oi.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=TC,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var u=e.getType(),h=void 0;u==oi.JSON||u==oi.TEXT?h=s.responseText:u==oi.XML?(h=s.responseXML,h||(h=new DOMParser().parseFromString(s.responseText,"application/xml"))):u==oi.ARRAY_BUFFER&&(h=s.response),h?o(e.readFeatures(h,{extent:t,featureProjection:i}),e.readProjection(h)):a()}else a()},s.onerror=a,s.send()}function bd(r,e){return function(t,n,i,o,a){var s=this;CC(r,e,t,n,i,function(l,u){s.addFeatures(l),o!==void 0&&o(l)},a||Gr)}}var qy=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qe=function(r){qy(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.feature=n,o.features=i,o}return e}(Re),OC=function(r){qy(e,r);function e(t){var n=this,i=t||{};n=r.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:Yr.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,n.on,n.once,n.un,n.loader_=Gr,n.format_=i.format,n.overlaps_=i.overlaps===void 0?!0:i.overlaps,n.url_=i.url,i.loader!==void 0?n.loader_=i.loader:n.url_!==void 0&&(V(n.format_,7),n.loader_=bd(n.url_,n.format_)),n.strategy_=i.strategy!==void 0?i.strategy:EC;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;n.featuresRtree_=o?new gd:null,n.loadedExtentsRtree_=new gd,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new re(s)),s!==void 0&&n.addFeaturesInternal(s),a!==void 0&&n.bindFeaturesCollection_(a),n}return e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var n=et(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Qe(pe.ADDFEATURE,t))},e.prototype.setupChangeEvents_=function(t,n){this.featureChangeKeys_[t]=[Z(n,G.CHANGE,this.handleFeatureChange_,this),Z(n,In.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,n){var i=!0,o=n.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=n),i&&(V(!(t in this.uidIndex_),30),this.uidIndex_[t]=n),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var n=[],i=[],o=[],a=0,s=t.length;a<s;a++){var l=t[a],u=et(l);this.addToIndex_(u,l)&&i.push(l)}for(var a=0,h=i.length;a<h;a++){var l=i[a],u=et(l);this.setupChangeEvents_(u,l);var c=l.getGeometry();if(c){var f=c.getExtent();n.push(f),o.push(l)}else this.nullGeometryFeatures_[u]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,o),this.hasListener(pe.ADDFEATURE))for(var a=0,d=i.length;a<d;a++)this.dispatchEvent(new Qe(pe.ADDFEATURE,i[a]))},e.prototype.bindFeaturesCollection_=function(t){var n=!1;this.addEventListener(pe.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(pe.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(Kt.ADD,function(i){n||(n=!0,this.addFeature(i.element),n=!1)}.bind(this)),t.addEventListener(Kt.REMOVE,function(i){n||(n=!0,this.removeFeature(i.element),n=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var n in this.featureChangeKeys_){var i=this.featureChangeKeys_[n];i.forEach(pt)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Qe(pe.CLEAR);this.dispatchEvent(s),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,n){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return n(o)})},e.prototype.forEachFeatureInExtent=function(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)},e.prototype.forEachFeatureIntersectingExtent=function(t,n){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var a=n(i);if(a)return a}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ni(this.nullGeometryFeatures_)||Gv(t,Uv(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,n){var i=t[0],o=t[1],a=null,s=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0],h=n||wn;return this.featuresRtree_.forEachInExtent(u,function(c){if(h(c)){var f=c.getGeometry(),d=l;if(l=f.closestPointXY(i,o,s,l),l<d){a=c;var p=Math.sqrt(l);u[0]=i-p,u[1]=o-p,u[2]=i+p,u[3]=o+p}}}),a},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var n=this.idIndex_[t.toString()];return n!==void 0?n:null},e.prototype.getFeatureByUid=function(t){var n=this.uidIndex_[t];return n!==void 0?n:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var n=t.target,i=et(n),o=n.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}var s=n.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[l]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Qe(pe.CHANGEFEATURE,n))},e.prototype.hasFeature=function(t){var n=t.getId();return n!==void 0?n in this.idIndex_:et(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ni(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},e.prototype.loadFeatures=function(t,n,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,n,i),s=function(c,f){var d=a[c],p=o.forEachInExtent(d,function(_){return ur(_.extent,d)});p||(++l.loadingExtentsCount_,l.dispatchEvent(new Qe(pe.FEATURESLOADSTART)),l.loader_.call(l,d,n,i,function(_){--this.loadingExtentsCount_,this.dispatchEvent(new Qe(pe.FEATURESLOADEND,void 0,_))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Qe(pe.FEATURESLOADERROR))}.bind(l)),o.insert(d,{extent:d.slice()}))},l=this,u=0,h=a.length;u<h;++u)s(u);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),r.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var n=this.loadedExtentsRtree_,i;n.forEachInExtent(t,function(o){if(Ln(o.extent,t))return i=o,!0}),i&&n.remove(i)},e.prototype.removeFeature=function(t){if(t){var n=et(t);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var n=et(t),i=this.featureChangeKeys_[n];if(i){i.forEach(pt),delete this.featureChangeKeys_[n];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[n],this.dispatchEvent(new Qe(pe.REMOVEFEATURE,t)),t}},e.prototype.removeFromIdIndex_=function(t){var n=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],n=!0;break}return n},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){V(this.format_,7),this.url_=t,this.setLoader(bd(t,this.format_))},e}(wc);const Xy=OC;function Ky(r){var e=r||{},t=new re,n=new MT(-.005,.05,100),i=e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0;i&&t.push(new cT);var o=e.doubleClickZoom!==void 0?e.doubleClickZoom:!0;o&&t.push(new ZE({delta:e.zoomDelta,duration:e.zoomDuration}));var a=e.dragPan!==void 0?e.dragPan:!0;a&&t.push(new lT({onFocusOnly:e.onFocusOnly,kinetic:n}));var s=e.pinchRotate!==void 0?e.pinchRotate:!0;s&&t.push(new DT);var l=e.pinchZoom!==void 0?e.pinchZoom:!0;l&&t.push(new kT({duration:e.zoomDuration}));var u=e.keyboard!==void 0?e.keyboard:!0;u&&(t.push(new xT),t.push(new CT({delta:e.zoomDelta,duration:e.zoomDuration})));var h=e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0;h&&t.push(new IT({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var c=e.shiftDragZoom!==void 0?e.shiftDragZoom:!0;return c&&t.push(new mT({duration:e.zoomDuration})),t}var MC=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PC=function(r){MC(e,r);function e(t){return t=ut({},t),t.controls||(t.controls=Ry()),t.interactions||(t.interactions=Ky({onFocusOnly:!0})),r.call(this,t)||this}return e.prototype.createRenderer=function(){return new Bx(this)},e}(HE);const SC=PC;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Do=new ResizeObserver(r=>{setTimeout(()=>{r.forEach(e=>{e.target.resizables?e.target.resizables.forEach(t=>{t._onResize(e.contentRect)}):e.target._onResize(e.contentRect)})})}),Zy=Ot(r=>class extends r{get _observeParent(){return!1}connectedCallback(){if(super.connectedCallback(),Do.observe(this),this._observeParent){const t=this.parentNode instanceof ShadowRoot?this.parentNode.host:this.parentNode;t.resizables||(t.resizables=new Set,Do.observe(t)),t.resizables.add(this),this.__parent=t}}disconnectedCallback(){super.disconnectedCallback(),Do.unobserve(this);const t=this.__parent;if(this._observeParent&&t){const n=t.resizables;n&&(n.delete(this),n.size===0&&Do.unobserve(t)),this.__parent=null}}_onResize(t){}});/**
 * @license
 * Copyright (c) 2000 - 2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 *
 * See https://vaadin.com/commercial-license-and-service-terms for the full
 * license.
 */let wd=class extends Zy(Ki(Ie(ie(Ft)))){static get template(){return Dt`
      <style>
        :host {
          display: block;
          height: 400px;
          flex: 1 1 auto;
          align-self: stretch;
          overflow: hidden;
        }

        :host([hidden]) {
          display: none !important;
        }

        #map {
          width: 100%;
          height: 100%;
          outline: none;
        }

        #map,
        .ol-viewport,
        .ol-layers {
          border-radius: inherit;
          overflow: hidden;
        }

        #map:fullscreen {
          border-radius: 0;
        }

        #map:-webkit-full-screen {
          border-radius: 0;
        }

        /* Functional styles, copied from 'ol/ol.css' */

        .ol-box {
          box-sizing: border-box;
          border-radius: 2px;
          border: 1px solid rgba(0, 0, 0, 0.5);
          background-color: rgba(255, 255, 255, 0.2);
          box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.5);
        }

        .ol-unsupported {
          display: none;
        }

        .ol-viewport,
        .ol-unselectable {
          -webkit-touch-callout: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          -webkit-tap-highlight-color: transparent;
        }

        .ol-viewport canvas {
          all: unset;
        }

        .ol-selectable {
          -webkit-touch-callout: default;
          -webkit-user-select: text;
          -moz-user-select: text;
          -ms-user-select: text;
          user-select: text;
        }

        .ol-grabbing {
          cursor: -webkit-grabbing;
          cursor: -moz-grabbing;
          cursor: grabbing;
        }

        .ol-grab {
          cursor: move;
          cursor: -webkit-grab;
          cursor: -moz-grab;
          cursor: grab;
        }

        /* Control positioning and styling */

        .ol-overlaycontainer-stopevent {
          display: grid;
          grid-template-columns: min-content 1fr min-content;
          grid-template-rows: min-content 1fr min-content min-content min-content min-content;
          padding: var(--vaadin-map-controls-inset, 0.25em);
          box-sizing: border-box;
          grid-template-areas:
            'scale mouse-position fullscreen'
            'overview-map . zoom-extent'
            'overview-map . compass'
            'overview-map . zoom-slider'
            'overview-map . zoom'
            'overview-map attribution attribution';
        }

        .ol-mouse-position {
          grid-area: mouse-position;
          align-self: start;
          text-align: center;
          font-size: 0.625em;
          color: #000;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-line,
        .ol-scale-bar {
          grid-area: scale;
          position: relative;
          pointer-events: none !important;
          color: #000;
        }

        .ol-scale-line-inner {
          border: 1px solid rgba(0, 0, 0, 0.5);
          border-top: none;
          font-size: 0.625em;
          text-align: center;
          will-change: contents, width, filter;
          transition: all 0.25s;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-bar-inner {
          border: 1px solid rgba(0, 0, 0, 0.5);
          box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.5);
          overflow: hidden;
        }

        .ol-scale-step-marker {
          display: none;
        }

        .ol-scale-step-text {
          position: absolute;
          top: 0.75em;
          font-size: 0.625em;
          color: #000;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
          white-space: nowrap;
          overflow: hidden;
        }

        .ol-scale-text {
          position: absolute;
          font-size: 0.625em;
          top: 2em;
          color: #000;
          white-space: nowrap;
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
        }

        .ol-scale-singlebar {
          height: 0.25em;
          opacity: 0.5;
        }

        .ol-control {
          margin: 0.25em;
        }

        .ol-control button {
          -webkit-appearance: none;
          border: 0;
          margin: 0;
          padding: 0;
          background: #fff;
          font: inherit;
          color: inherit;
          width: 1.5em;
          height: 1.5em;
        }

        .ol-control button::-moz-focus-inner {
          border: none;
          padding: 0;
        }

        .ol-compass {
          grid-area: compass;
          display: block;
          will-change: transform;
        }

        .ol-zoom {
          grid-area: zoom;
          display: flex;
          flex-direction: column;
        }

        .ol-zoom-in:empty::before {
          content: var(--vaadin-map-icon-zoom-in, '+');
        }

        .ol-zoom-out:empty::before {
          content: var(--vaadin-map-icon-zoom-out, '\\2013');
        }

        .ol-attribution {
          grid-area: attribution;
          margin-inline-start: auto !important;
          display: flex;
          flex-flow: row-reverse;
        }

        .ol-attribution.ol-uncollapsible {
          margin-inline-end: calc(var(--vaadin-map-controls-inset, 0.25em) * -1);
          margin-block-end: calc(var(--vaadin-map-controls-inset, 0.25em) * -1);
        }

        .ol-attribution button span:empty::before {
          content: var(--vaadin-map-icon-attribution-collapse, '\\25B8');
        }

        .ol-attribution.ol-collapsed button span:empty::before {
          content: var(--vaadin-map-icon-attribution-expand, '\\2139');
        }

        .ol-attribution ul {
          display: flex;
          align-items: center;
          gap: 1em;
          list-style: none;
          margin: 0;
          padding: 0.25em 0.5em;
          font-size: 0.8em;
        }

        .ol-attribution.ol-collapsed ul {
          display: none;
        }

        .ol-attribution.ol-uncollapsible button {
          display: none;
        }

        .ol-rotate {
          grid-area: compass;
        }

        .ol-compass:empty::before {
          content: var(--vaadin-map-icon-compass, '\\2191');
        }

        .ol-full-screen {
          grid-area: fullscreen;
        }

        .ol-full-screen button:empty::before {
          content: var(--vaadin-map-icon-fullscreen, '\\2922');
        }

        .ol-full-screen .ol-full-screen-true:empty::before {
          content: var(--vaadin-map-icon-close, '\\00D7');
        }

        .ol-overviewmap {
          grid-area: overview-map;
          align-self: end;
          width: max-content;
        }

        .ol-overviewmap button span:empty::before {
          content: var(--vaadin-map-icon-overview-map-collapse, '\\25BE');
        }

        .ol-overviewmap.ol-collapsed button span:empty::before {
          content: var(--vaadin-map-icon-overview-map-expand, '\\25B4');
        }

        .ol-overviewmap-map {
          height: 10em;
          width: 10em;
          border: 1px solid rgba(0, 0, 0, 0.5);
        }

        .ol-overviewmap.ol-collapsed .ol-overviewmap-map,
        .ol-overviewmap.ol-uncollapsible button {
          display: none;
        }

        .ol-overviewmap-box {
          border: 1px dashed rgba(0, 0, 0, 0.5);
          filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff);
          will-change: filter;
          cursor: move;
        }

        .ol-zoomslider {
          grid-area: zoom-slider;
          height: 8em;
        }

        .ol-zoomslider button {
          position: relative;
          height: 0.5em;
          display: block;
          border-radius: inherit;
        }

        .ol-zoom-extent {
          grid-area: zoom-extent;
          align-self: end;
        }
      </style>
    `}static get is(){return"vaadin-map"}static get cvdlName(){return"vaadin-map"}constructor(){super(),this._mapTarget=document.createElement("div"),this._mapTarget.id="map",this._mapTarget.setAttribute("tabindex","0");const e={controls:Ry({rotate:!1,zoomOptions:{zoomInLabel:"",zoomOutLabel:""}}),interactions:Ky({onFocusOnly:!1}),target:this._mapTarget};this._configuration=new SC(e)}get configuration(){return this._configuration}ready(){super.ready(),this.shadowRoot.appendChild(this._mapTarget),this.__addMapFocusListeners()}_onResize(e){this._configuration.updateSize()}__addMapFocusListeners(){this._mapTarget.addEventListener("focusin",e=>{e.target===this._mapTarget&&this._setFocused(!0)}),this._mapTarget.addEventListener("focusout",()=>{this._setFocused(!1)})}_shouldSetFocus(e){return!1}};customElements.define(wd.is,wd);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let xd=0;function Qy(r,e=[],t={}){const n=t.moduleId||`custom-style-module-${xd}`;xd+=1;const i=document.createElement("dom-module");r&&i.setAttribute("theme-for",r);const o=!!(e.length&&t.moduleId),a=[].concat(t.include||[]);a.length===0?i.__allStyles=e:o||(i.__partialStyles=e),i.innerHTML=`
    <template>
      ${a.map(s=>`<style include=${s}></style>`)}
      ${o?`<style>${e.map(s=>s.cssText).join(`
`)}</style>`:""}
    </template>
  `,i.register(n)}function IC(r){return Gh(r.querySelector("template")).map(e=>y_(e.textContent))}function RC(){const e=Sn.prototype.modules;return Object.keys(e).map(t=>{const n=e[t],i=n.getAttribute("theme-for");return n.__allStyles||(n.__allStyles=IC(n).concat(n.__partialStyles||[])),{themeFor:i,moduleId:t,styles:n.__allStyles}})}window.Vaadin||(window.Vaadin={});window.Vaadin.styleModules={getAllThemes:RC,registerStyles:Qy};mo&&mo.length>0&&(mo.forEach(r=>{Qy(r.themeFor,r.styles,{moduleId:r.moduleId,include:r.include})}),mo.length=0);const AC=Q`
  :host {
    outline: none;
  }

  :host([focus-ring]) {
    box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
  }

  /* Show dividers when content overflows */

  :host([theme~='overflow-indicators'])::before,
  :host([theme~='overflow-indicators'])::after {
    content: '';
    display: none;
    position: sticky;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    height: 1px;
    margin-bottom: -1px;
    background: var(--lumo-contrast-10pct);
  }

  :host([theme~='overflow-indicators'])::after {
    margin-bottom: 0;
    margin-top: -1px;
  }

  :host([theme~='overflow-indicators'][overflow~='top'])::before,
  :host([theme~='overflow-indicators'][overflow~='bottom'])::after {
    display: block;
  }
`;ht("vaadin-scroller",AC,{moduleId:"lumo-scroller"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class DC{constructor(e,t){this.host=e,this.scrollTarget=t||e,this.__boundOnScroll=this.__onScroll.bind(this)}hostConnected(){this.initialized||(this.initialized=!0,this.observe())}observe(){this.__resizeObserver=new ResizeObserver(()=>{this.__debounceOverflow=Br.debounce(this.__debounceOverflow,O1,()=>{this.__updateOverflow()})}),this.__resizeObserver.observe(this.host),this.__childObserver=new gn(this.host,e=>{e.addedNodes.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.observe(t)}),e.removedNodes.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&this.__resizeObserver.unobserve(t)}),this.__updateOverflow()}),this.scrollTarget.addEventListener("scroll",this.__boundOnScroll),this.__updateOverflow()}__onScroll(){this.__updateOverflow()}__updateOverflow(){const e=this.scrollTarget;let t="";e.scrollTop>0&&(t+=" top"),Math.ceil(e.scrollTop)<Math.ceil(e.scrollHeight-e.clientHeight)&&(t+=" bottom");const n=Math.abs(e.scrollLeft);n>0&&(t+=" start"),Math.ceil(n)<Math.ceil(e.scrollWidth-e.clientWidth)&&(t+=" end"),t=t.trim(),t.length>0&&this.host.getAttribute("overflow")!==t?this.host.setAttribute("overflow",t):t.length===0&&this.host.hasAttribute("overflow")&&this.host.removeAttribute("overflow")}}/**
 * @license
 * Copyright (c) 2020 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Ed extends Ki(Ie(mr(ie(Ft)))){static get template(){return Dt`
      <style>
        :host([hidden]) {
          display: none !important;
        }

        :host {
          display: block;
          overflow: auto;
        }

        :host([scroll-direction='vertical']) {
          overflow-x: hidden;
        }

        :host([scroll-direction='horizontal']) {
          overflow-y: hidden;
        }

        :host([scroll-direction='none']) {
          overflow: hidden;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-scroller"}static get properties(){return{scrollDirection:{type:String,reflectToAttribute:!0},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}ready(){super.ready(),this.__overflowController=new DC(this),this.addController(this.__overflowController)}_shouldSetFocus(e){return e.target===this}}customElements.define(Ed.is,Ed);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const LC=Q`
  [part='input-field'],
  [part='input-field'] ::slotted(textarea) {
    height: auto;
    box-sizing: border-box;
  }

  [part='input-field'] {
    /* Equal to the implicit padding in vaadin-text-field */
    padding-top: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    padding-bottom: calc((var(--lumo-text-field-size) - 1em * var(--lumo-line-height-s)) / 2);
    transition: background-color 0.1s;
    line-height: var(--lumo-line-height-s);
  }

  :host(:not([readonly])) [part='input-field']::after {
    display: none;
  }

  :host([readonly]) [part='input-field'] {
    border: 1px dashed var(--lumo-contrast-30pct);
  }

  :host([readonly]) [part='input-field']::after {
    border: none;
  }

  :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
    background-color: var(--lumo-contrast-20pct);
  }

  @media (pointer: coarse) {
    :host(:hover:not([readonly]):not([focused]):not([invalid])) [part='input-field'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host(:active:not([readonly]):not([focused])) [part='input-field'] {
      background-color: var(--lumo-contrast-20pct);
    }
  }

  [part='input-field'] ::slotted(textarea) {
    line-height: inherit;
    --_lumo-text-field-overflow-mask-image: none;
  }

  /* Vertically align icon prefix/suffix with the first line of text */
  [part='input-field'] ::slotted(vaadin-icon) {
    margin-top: calc((var(--lumo-icon-size-m) - 1em * var(--lumo-line-height-s)) / -2);
  }
`;ht("vaadin-text-area",[Zh,LC],{moduleId:"lumo-text-area"});/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const NC=r=>class extends Fv(r){static get properties(){return{autocomplete:{type:String},autocorrect:{type:String},autocapitalize:{type:String,reflectToAttribute:!0}}}static get delegateAttrs(){return[...super.delegateAttrs,"autocapitalize","autocomplete","autocorrect"]}get __data(){return this.__dataValue||{}}set __data(t){this.__dataValue=t}_inputElementChanged(t){super._inputElementChanged(t),t&&(t.value&&t.value!==this.value&&(console.warn(`Please define value on the <${this.localName}> component!`),t.value=""),this.value&&(t.value=this.value))}_setFocused(t){super._setFocused(t),t||this.validate()}_onInput(t){super._onInput(t),this.invalid&&this.validate()}_valueChanged(t,n){super._valueChanged(t,n),n!==void 0&&this.invalid&&this.validate()}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class kC extends sr{constructor(e,t){super(e,"textarea","textarea",{initializer:(n,i)=>{const o=i.getAttribute("value");o&&(n.value=o);const a=i.getAttribute("name");a&&n.setAttribute("name",a),n.id=this.defaultId,typeof t=="function"&&t(n)},useUniqueId:!0})}}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const FC=r=>class extends Zy(NC(r)){static get properties(){return{maxlength:{type:Number},minlength:{type:Number},pattern:{type:String}}}static get delegateAttrs(){return[...super.delegateAttrs,"maxlength","minlength","pattern"]}static get constraints(){return[...super.constraints,"maxlength","minlength","pattern"]}get clearElement(){return this.$.clearButton}_onResize(){this.__scrollPositionUpdated()}_onScroll(){this.__scrollPositionUpdated()}ready(){super.ready(),this.addController(new kC(this,t=>{this._setInputElement(t),this._setFocusElement(t),this.stateTarget=t,this.ariaTarget=t})),this.addController(new $v(this.inputElement,this._labelController)),this.addEventListener("animationend",this._onAnimationEnd),this._inputField=this.shadowRoot.querySelector("[part=input-field]"),this._inputField.addEventListener("wheel",t=>{const n=this._inputField.scrollTop;this._inputField.scrollTop+=t.deltaY,n!==this._inputField.scrollTop&&(t.preventDefault(),this.__scrollPositionUpdated())}),this._updateHeight(),this.__scrollPositionUpdated()}__scrollPositionUpdated(){this._inputField.style.setProperty("--_text-area-vertical-scroll-position","0px"),this._inputField.style.setProperty("--_text-area-vertical-scroll-position",`${this._inputField.scrollTop}px`)}_onAnimationEnd(t){t.animationName.indexOf("vaadin-text-area-appear")===0&&this._updateHeight()}_valueChanged(t,n){super._valueChanged(t,n),this._updateHeight()}_updateHeight(){const t=this.inputElement,n=this._inputField;if(!t||!n)return;const i=n.scrollTop,o=this.value?this.value.length:0;if(this._oldValueLength>=o){const s=getComputedStyle(n).height,l=getComputedStyle(t).width;n.style.display="block",n.style.height=s,t.style.maxWidth=l,t.style.height="auto"}this._oldValueLength=o;const a=t.scrollHeight;a>t.clientHeight&&(t.style.height=`${a}px`),t.style.removeProperty("max-width"),n.style.removeProperty("display"),n.style.removeProperty("height"),n.scrollTop=i}checkValidity(){if(!super.checkValidity())return!1;if(!this.pattern||!this.inputElement.value)return!0;try{const t=this.inputElement.value.match(this.pattern);return t?t[0]===t.input:!1}catch{return!0}}};/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const $C=Q`
  :host {
    animation: 1ms vaadin-text-area-appear;
  }

  .vaadin-text-area-container {
    flex: auto;
  }

  /* The label, helper text and the error message should neither grow nor shrink. */
  [part='label'],
  [part='helper-text'],
  [part='error-message'] {
    flex: none;
  }

  [part='input-field'] {
    flex: auto;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  ::slotted(textarea) {
    -webkit-appearance: none;
    -moz-appearance: none;
    flex: auto;
    overflow: hidden;
    width: 100%;
    height: 100%;
    outline: none;
    resize: none;
    margin: 0;
    padding: 0 0.25em;
    border: 0;
    border-radius: 0;
    min-width: 0;
    font: inherit;
    font-size: 1em;
    line-height: normal;
    color: inherit;
    background-color: transparent;
    /* Disable default invalid style in Firefox */
    box-shadow: none;
  }

  /* Override styles from <vaadin-input-container> */
  [part='input-field'] ::slotted(textarea) {
    align-self: stretch;
    white-space: pre-wrap;
  }

  [part='input-field'] ::slotted(:not(textarea)) {
    align-self: flex-start;
  }

  /* Workaround https://bugzilla.mozilla.org/show_bug.cgi?id=1739079 */
  :host([disabled]) ::slotted(textarea) {
    user-select: none;
  }

  @keyframes vaadin-text-area-appear {
    to {
      opacity: 1;
    }
  }
`;/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-text-area",[zv,$C],{moduleId:"vaadin-text-area-styles"});class Td extends FC(ie(Ie(Ft))){static get is(){return"vaadin-text-area"}static get template(){return Dt`
      <div class="vaadin-text-area-container">
        <div part="label">
          <slot name="label"></slot>
          <span part="required-indicator" aria-hidden="true"></span>
        </div>

        <vaadin-input-container
          part="input-field"
          readonly="[[readonly]]"
          disabled="[[disabled]]"
          invalid="[[invalid]]"
          theme$="[[_theme]]"
          on-scroll="_onScroll"
        >
          <slot name="prefix" slot="prefix"></slot>
          <slot name="textarea"></slot>
          <slot name="suffix" slot="suffix"></slot>
          <div id="clearButton" part="clear-button" slot="suffix" aria-hidden="true"></div>
        </vaadin-input-container>

        <div part="helper-text">
          <slot name="helper"></slot>
        </div>

        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>

      <slot name="tooltip"></slot>
    `}ready(){super.ready(),this._tooltipController=new Wh(this),this._tooltipController.setPosition("top"),this.addController(this._tooltipController)}}customElements.define(Td.is,Td);const zC=Q`
  :host {
    --vaadin-tooltip-offset-top: var(--lumo-space-xs);
    --vaadin-tooltip-offset-bottom: var(--lumo-space-xs);
    --vaadin-tooltip-offset-start: var(--lumo-space-xs);
    --vaadin-tooltip-offset-end: var(--lumo-space-xs);
  }

  [part='overlay'] {
    background: var(--lumo-base-color) linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
    color: var(--lumo-body-text-color);
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-s);
  }

  [part='content'] {
    padding: var(--lumo-space-xs) var(--lumo-space-s);
  }
`;ht("vaadin-tooltip-overlay",[Bs,zC],{moduleId:"lumo-tooltip-overlay"});/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */ht("vaadin-tooltip-overlay",Q`
    [part='overlay'] {
      max-width: 40ch;
    }

    :host([position^='top'][top-aligned]) [part='overlay'],
    :host([position^='bottom'][top-aligned]) [part='overlay'] {
      margin-top: var(--vaadin-tooltip-offset-top, 0);
    }

    :host([position^='top'][bottom-aligned]) [part='overlay'],
    :host([position^='bottom'][bottom-aligned]) [part='overlay'] {
      margin-bottom: var(--vaadin-tooltip-offset-bottom, 0);
    }

    :host([position^='start'][start-aligned]) [part='overlay'],
    :host([position^='end'][start-aligned]) [part='overlay'] {
      margin-inline-start: var(--vaadin-tooltip-offset-start, 0);
    }

    :host([position^='start'][end-aligned]) [part='overlay'],
    :host([position^='end'][end-aligned]) [part='overlay'] {
      margin-inline-end: var(--vaadin-tooltip-offset-end, 0);
    }
  `,{moduleId:"vaadin-tooltip-overlay-styles"});let li;class Cd extends Ov(be){static get is(){return"vaadin-tooltip-overlay"}static get template(){return li||(li=super.template.cloneNode(!0),li.content.querySelector('[part~="overlay"]').removeAttribute("tabindex"),li.content.querySelector('[part~="content"]').innerHTML="<slot></slot>"),li}static get properties(){return{position:{type:String,reflectToAttribute:!0}}}ready(){super.ready(),this.owner=this.__dataHost,this.owner._overlayElement=this}requestContentUpdate(){if(super.requestContentUpdate(),this.toggleAttribute("hidden",this.textContent.trim()===""),this.positionTarget&&this.owner){const e=getComputedStyle(this.owner);["top","bottom","start","end"].forEach(t=>{this.style.setProperty(`--vaadin-tooltip-offset-${t}`,e.getPropertyValue(`--vaadin-tooltip-offset-${t}`))})}}_updatePosition(){if(super._updatePosition(),!!this.positionTarget){if(this.position==="bottom"||this.position==="top"){const e=this.positionTarget.getBoundingClientRect(),t=this.$.overlay.getBoundingClientRect(),n=e.width/2-t.width/2;if(this.style.left){const i=t.left+n;i>0&&(this.style.left=`${i}px`)}if(this.style.right){const i=parseFloat(this.style.right)+n;i>0&&(this.style.right=`${i}px`)}}if(this.position==="start"||this.position==="end"){const e=this.positionTarget.getBoundingClientRect(),t=this.$.overlay.getBoundingClientRect(),n=e.height/2-t.height/2;this.style.top=`${t.top+n}px`}}}}customElements.define(Cd.is,Cd);/**
 * @license
 * Copyright (c) 2022 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Cn=500;let Jy=Cn,tg=Cn,eg=Cn;const Lo=new Set;let ui=!1,hi=null,ci=null;class BC{constructor(e){this.host=e}get openedProp(){return this.host.manual?"opened":"_autoOpened"}get focusDelay(){const e=this.host;return e.focusDelay!=null&&e.focusDelay>0?e.focusDelay:Jy}get hoverDelay(){const e=this.host;return e.hoverDelay!=null&&e.hoverDelay>0?e.hoverDelay:tg}get hideDelay(){const e=this.host;return e.hideDelay!=null&&e.hideDelay>0?e.hideDelay:eg}open(e={immediate:!1}){const{immediate:t,hover:n,focus:i}=e,o=n&&this.hoverDelay>0,a=i&&this.focusDelay>0;!t&&(o||a)&&!this.__closeTimeout?this.__warmupTooltip(a):this.__showTooltip()}close(e){!e&&this.hideDelay>0?this.__scheduleClose():(this.__abortClose(),this._setOpened(!1)),this.__abortWarmUp(),ui&&(this.__abortCooldown(),this.__scheduleCooldown())}_isOpened(){return this.host[this.openedProp]}_setOpened(e){this.host[this.openedProp]=e}__flushClosingTooltips(){Lo.forEach(e=>{e._stateController.close(!0),Lo.delete(e)})}__showTooltip(){this.__abortClose(),this.__flushClosingTooltips(),this._setOpened(!0),ui=!0,this.__abortWarmUp(),this.__abortCooldown()}__warmupTooltip(e){this._isOpened()||(ui?this.__showTooltip():this.__scheduleWarmUp(e))}__abortClose(){this.__closeTimeout&&(clearTimeout(this.__closeTimeout),this.__closeTimeout=null)}__abortCooldown(){ci&&(clearTimeout(ci),ci=null)}__abortWarmUp(){hi&&(clearTimeout(hi),hi=null)}__scheduleClose(){this._isOpened()&&(Lo.add(this.host),this.__closeTimeout=setTimeout(()=>{Lo.delete(this.host),this.__closeTimeout=null,this._setOpened(!1)},this.hideDelay))}__scheduleCooldown(){ci=setTimeout(()=>{ci=null,ui=!1},this.hideDelay)}__scheduleWarmUp(e){const t=e?this.focusDelay:this.hoverDelay;hi=setTimeout(()=>{hi=null,ui=!0,this.__showTooltip()},t)}}class Od extends Bv(mm(Ie(Ft))){static get is(){return"vaadin-tooltip"}static get template(){return Dt`
      <style>
        :host {
          display: none;
        }
      </style>
      <vaadin-tooltip-overlay
        id="[[_uniqueId]]"
        role="tooltip"
        renderer="[[_renderer]]"
        theme$="[[_theme]]"
        opened="[[__computeOpened(manual, opened, _autoOpened, _isConnected)]]"
        position-target="[[target]]"
        position="[[__effectivePosition]]"
        no-horizontal-overlap$="[[__computeNoHorizontalOverlap(__effectivePosition)]]"
        no-vertical-overlap$="[[__computeNoVerticalOverlap(__effectivePosition)]]"
        horizontal-align="[[__computeHorizontalAlign(__effectivePosition)]]"
        vertical-align="[[__computeVerticalAlign(__effectivePosition)]]"
        on-mouseleave="__onOverlayMouseLeave"
        modeless
      ></vaadin-tooltip-overlay>
    `}static get properties(){return{context:{type:Object,value:()=>({})},focusDelay:{type:Number},for:{type:String,observer:"__forChanged"},hideDelay:{type:Number},hoverDelay:{type:Number},manual:{type:Boolean,value:!1},opened:{type:Boolean,value:!1},position:{type:String},shouldShow:{type:Object,value:()=>(e,t)=>!0},target:{type:Object,observer:"__targetChanged"},text:{type:String,observer:"__textChanged"},generator:{type:Object},_autoOpened:{type:Boolean,observer:"__autoOpenedChanged"},_position:{type:String,value:"bottom"},__effectivePosition:{type:String,computed:"__computePosition(position, _position)"},__isTargetHidden:{type:Boolean,value:!1},_isConnected:{type:Boolean}}}static get observers(){return["__generatorChanged(_overlayElement, generator, context)"]}static setDefaultFocusDelay(e){Jy=e!=null&&e>=0?e:Cn}static setDefaultHideDelay(e){eg=e!=null&&e>=0?e:Cn}static setDefaultHoverDelay(e){tg=e!=null&&e>=0?e:Cn}constructor(){super(),this._uniqueId=`vaadin-tooltip-${Hh()}`,this._renderer=this.__tooltipRenderer.bind(this),this.__onFocusin=this.__onFocusin.bind(this),this.__onFocusout=this.__onFocusout.bind(this),this.__onMouseDown=this.__onMouseDown.bind(this),this.__onMouseEnter=this.__onMouseEnter.bind(this),this.__onMouseLeave=this.__onMouseLeave.bind(this),this.__onKeyDown=this.__onKeyDown.bind(this),this.__onOverlayOpen=this.__onOverlayOpen.bind(this),this.__targetVisibilityObserver=new IntersectionObserver(e=>{e.forEach(t=>this.__onTargetVisibilityChange(t.isIntersecting))},{threshold:1}),this._stateController=new BC(this)}connectedCallback(){super.connectedCallback(),this._isConnected=!0,document.body.addEventListener("vaadin-overlay-open",this.__onOverlayOpen)}disconnectedCallback(){super.disconnectedCallback(),this._autoOpened&&this._stateController.close(!0),this._isConnected=!1,document.body.removeEventListener("vaadin-overlay-open",this.__onOverlayOpen)}__computeHorizontalAlign(e){return["top-end","bottom-end","start-top","start","start-bottom"].includes(e)?"end":"start"}__computeNoHorizontalOverlap(e){return["start-top","start","start-bottom","end-top","end","end-bottom"].includes(e)}__computeNoVerticalOverlap(e){return["top-start","top-end","top","bottom-start","bottom","bottom-end"].includes(e)}__computeVerticalAlign(e){return["top-start","top-end","top","start-bottom","end-bottom"].includes(e)?"bottom":"top"}__computeOpened(e,t,n,i){return i&&(e?t:n)}__computePosition(e,t){return e||t}__tooltipRenderer(e){e.textContent=typeof this.generator=="function"?this.generator(this.context):this.text}__autoOpenedChanged(e,t){e?document.addEventListener("keydown",this.__onKeyDown,!0):t&&document.removeEventListener("keydown",this.__onKeyDown,!0)}__forChanged(e){e&&(this.__setTargetByIdDebouncer=Br.debounce(this.__setTargetByIdDebouncer,rv,()=>this.__setTargetById(e)))}__setTargetById(e){if(!this.isConnected)return;const t=this.getRootNode().getElementById(e);t?this.target=t:console.warn(`No element with id="${e}" found to show tooltip.`)}__targetChanged(e,t){t&&(t.removeEventListener("mouseenter",this.__onMouseEnter),t.removeEventListener("mouseleave",this.__onMouseLeave),t.removeEventListener("focusin",this.__onFocusin),t.removeEventListener("focusout",this.__onFocusout),t.removeEventListener("mousedown",this.__onMouseDown),this.__targetVisibilityObserver.unobserve(t),cv(t,"aria-describedby",this._uniqueId)),e&&(e.addEventListener("mouseenter",this.__onMouseEnter),e.addEventListener("mouseleave",this.__onMouseLeave),e.addEventListener("focusin",this.__onFocusin),e.addEventListener("focusout",this.__onFocusout),e.addEventListener("mousedown",this.__onMouseDown),requestAnimationFrame(()=>{this.__targetVisibilityObserver.observe(e)}),hv(e,"aria-describedby",this._uniqueId))}__onFocusin(e){this.manual||nv()&&(this.target.contains(e.relatedTarget)||this.__isShouldShow()&&(this.__focusInside=!0,!this.__isTargetHidden&&(!this.__hoverInside||!this._autoOpened)&&this._stateController.open({focus:!0})))}__onFocusout(e){this.manual||this.target.contains(e.relatedTarget)||(this.__focusInside=!1,this.__hoverInside||this._stateController.close(!0))}__onKeyDown(e){e.key==="Escape"&&(e.stopPropagation(),this._stateController.close(!0))}__onMouseDown(){this._stateController.close(!0)}__onMouseEnter(){this.manual||this.__isShouldShow()&&(this.__hoverInside||(this.__hoverInside=!0,!this.__isTargetHidden&&(!this.__focusInside||!this._autoOpened)&&this._stateController.open({hover:!0})))}__onMouseLeave(e){e.relatedTarget!==this._overlayElement&&this.__handleMouseLeave()}__onOverlayMouseLeave(e){e.relatedTarget!==this.target&&this.__handleMouseLeave()}__handleMouseLeave(){this.manual||(this.__hoverInside=!1,this.__focusInside||this._stateController.close())}__onOverlayOpen(){this.manual||this._overlayElement.opened&&!this._overlayElement._last&&this._stateController.close(!0)}__onTargetVisibilityChange(e){const t=this.__isTargetHidden;if(this.__isTargetHidden=!e,t&&e&&(this.__focusInside||this.__hoverInside)){this._stateController.open({immediate:!0});return}!e&&this._autoOpened&&this._stateController.close(!0)}__isShouldShow(){return!(typeof this.shouldShow=="function"&&this.shouldShow(this.target,this.context)!==!0)}__textChanged(e,t){this._overlayElement&&(e||t)&&this._overlayElement.requestContentUpdate()}__generatorChanged(e,t,n){e&&((t!==this.__oldTextGenerator||n!==this.__oldContext)&&e.requestContentUpdate(),this.__oldTextGenerator=t,this.__oldContext=n)}}customElements.define(Od.is,Od);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NN=r=>r===null||typeof r!="object"&&typeof r!="function",GC={HTML:1,SVG:2},UC=(r,e)=>e===void 0?(r==null?void 0:r._$litType$)!==void 0:(r==null?void 0:r._$litType$)===e,kN=r=>r.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class vu extends bm{constructor(e){if(super(e),this.it=Pn,e.type!==wm.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Pn||e==null)return this._t=void 0,this.it=e;if(e===xm)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}vu.directiveName="unsafeHTML",vu.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class yu extends vu{}yu.directiveName="unsafeSVG",yu.resultType=2;const YC=Em(yu);/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function Md(r){let e=Pn;if(r){const t=r.cloneNode(!0);t.removeAttribute("id"),e=Cm`${YC(t.outerHTML)}`}return e}function jC(r){return UC(r,GC.SVG)||r===Pn}function HC(r){let e=r==null||r===""?Pn:r;return jC(e)||(console.error("[vaadin-icon] Invalid svg passed, please use Lit svg literal."),e=Pn),e}function FN(r,e){const t=HC(r);Tm(t,e)}/**
 * @license
 * Copyright (c) 2021 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Pr={},Pd=new Set;function rg(r,e){return(r||"").replace(`${e}:`,"")}function Sd(r){return r?r.split(":")[0]||"vaadin":void 0}function Id(r,e){r._icons=[...r.querySelectorAll("[id]")].reduce((t,n)=>{const i=rg(n.id,e);return t[i]=n,t},{})}class gu extends Ie(Ft){static get template(){return null}static get is(){return"vaadin-iconset"}static get properties(){return{name:{type:String,observer:"__nameChanged"},size:{type:Number,value:24}}}static get attachedIcons(){return Pd}static getIconset(e){return Pr[e]}static getIconSvg(e,t){const n=t||Sd(e),i=this.getIconset(n);if(!e||!i)return{svg:Md(null)};const o=rg(e,n),a=i._icons[o];return{svg:Md(a),size:i.size,viewBox:a?a.getAttribute("viewBox"):null}}static register(e,t,n){if(!Pr[e]){const i=document.createElement("vaadin-iconset");i.appendChild(n.content.cloneNode(!0)),Pr[e]=i,Id(i,e),i.size=t,i.name=e,i.__nameChanged(e)}}connectedCallback(){super.connectedCallback(),this.style.display="none";const{name:e}=this;Pr[e]=this,Id(this,e),this.__updateIcons(e)}__updateIcons(e){Pd.forEach(t=>{e===Sd(t.icon)&&t._applyIcon()})}__nameChanged(e,t){t&&(Pr[e]=Pr[t],delete Pr[t]),e&&this.__updateIcons(e)}}customElements.define(gu.is,gu);/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ng=document.createElement("template");ng.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg"><defs>
<g id="lumo:align-center"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m83 191c0-18 13-33 29-33H721c16 0 29 15 29 33 0 18-13 33-29 34H279C263 442 250 427 250 408zM250 792c0-18 13-33 29-34H721c16 0 29 15 29 34s-13 33-29 33H279C263 825 250 810 250 792z m-83-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:align-left"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m0 191c0-18 13-33 28-33H638c16 0 29 15 29 33 0 18-13 33-29 34H195C179 442 167 427 167 408zM167 792c0-18 13-33 28-34H638c16 0 29 15 29 34s-13 33-29 33H195C179 825 167 810 167 792z m0-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:align-right"><path d="M167 217c0-18 17-33 38-34H795c21 0 38 15 38 34 0 18-17 33-38 33H205C184 250 167 235 167 217z m166 191c0-18 13-33 29-33H805c16 0 29 15 28 33 0 18-13 33-28 34H362C346 442 333 427 333 408zM333 792c0-18 13-33 29-34H805c16 0 29 15 28 34s-13 33-28 33H362C346 825 333 810 333 792z m-166-192c0-18 17-33 38-33H795c21 0 38 15 38 33s-17 33-38 33H205C184 633 167 618 167 600z" fill-rule="evenodd" clip-rule="evenodd"></path></g>
<g id="lumo:angle-down"><path d="M283 391c-18-16-46-15-63 4-16 18-15 46 3 63l244 224c17 15 43 15 60 0l250-229c18-16 20-45 3-63-16-18-45-20-63-4l-220 203-214-198z"></path></g>
<g id="lumo:angle-left"><path d="M601 710c16 18 15 46-3 63-18 16-46 15-63-4l-224-244c-15-17-15-43 0-59l229-250c16-18 45-20 63-4 18 16 20 45 3 63l-203 220 198 215z"></path></g>
<g id="lumo:angle-right"><path d="M399 275c-16-18-15-46 3-63 18-16 46-15 63 4l224 244c15 17 15 43 0 59l-229 250c-16 18-45 20-63 4-18-16-20-45-3-63l203-220-198-215z"></path></g>
<g id="lumo:angle-up"><path d="M283 635c-18 16-46 15-63-3-16-18-15-46 3-63l244-224c17-15 43-15 60 0l250 229c18 16 20 45 3 63-16 18-45 20-63 3l-220-202L283 635z"></path></g>
<g id="lumo:arrow-down"><path d="M538 646l125-112c15-14 39-12 53 4 14 15 12 39-4 53l-187 166c0 0 0 0 0 0-14 13-36 12-50 0l-187-166c-15-14-17-37-4-53 14-15 37-17 53-4L462 646V312c0-21 17-38 38-37s38 17 37 37v334z"></path></g>
<g id="lumo:arrow-left"><path d="M375 538l111 125c14 15 12 39-3 53-15 14-39 12-53-4l-166-187c0 0 0 0 0 0-13-14-12-36 0-50l166-187c14-15 37-17 53-4 15 14 17 37 3 53L375 463h333c21 0 38 17 38 37 0 21-17 38-38 38h-333z"></path></g>
<g id="lumo:arrow-right"><path d="M625 538h-333c-21 0-38-17-38-38 0-21 17-38 38-37h333l-111-126c-14-15-12-39 3-53 15-14 39-12 53 4l166 187c13 14 13 36 0 50 0 0 0 0 0 0l-166 187c-14 15-37 17-53 4-15-14-17-37-3-53l111-125z"></path></g>
<g id="lumo:arrow-up"><path d="M538 354V688c0 21-17 38-38 37s-38-17-38-38V354l-125 112c-15 14-39 12-53-4-14-15-12-39 4-53l187-166c14-13 36-13 50 0 0 0 0 0 0 0l187 166c15 14 17 37 4 53-14 15-37 17-53 4L538 354z"></path></g>
<g id="lumo:bar-chart"><path d="M175 500h108c28 0 50 22 50 50v233c0 28-22 50-50 50H175c-28 0-50-22-50-50v-233c0-28 22-50 50-50z m33 67c-9 0-17 7-16 16v167c0 9 7 17 16 17h42c9 0 17-7 17-17v-167c0-9-7-17-17-16H208zM446 167h108c28 0 50 22 50 50v566c0 28-22 50-50 50h-108c-28 0-50-22-50-50V217c0-28 22-50 50-50z m33 66c-9 0-17 7-17 17v500c0 9 7 17 17 17h42c9 0 17-7 16-17V250c0-9-7-17-16-17h-42zM717 333h108c28 0 50 22 50 50v400c0 28-22 50-50 50h-108c-28 0-50-22-50-50V383c0-28 22-50 50-50z m33 67c-9 0-17 7-17 17v333c0 9 7 17 17 17h42c9 0 17-7 16-17v-333c0-9-7-17-16-17h-42z"></path></g>
<g id="lumo:bell"><path d="M367 675H292v-258C292 325 366 250 459 250H458V208c0-23 18-42 42-41 23 0 42 18 42 41v42h-1C634 250 708 325 708 417V675h-75v-258c0-51-41-92-91-92h-84C408 325 367 366 367 417V675z m-159 37c0-21 17-38 38-37h508c21 0 37 17 38 37 0 21-17 38-38 38H246C225 750 208 733 208 713z m230 71h125v32c0 17-14 31-32 31h-62c-17 0-32-14-31-31v-32z"></path></g>
<g id="lumo:calendar"><path d="M375 208h250v-20C625 176 634 167 646 167h41C699 167 708 176 708 188V208h74c23 0 41 19 41 42v42C823 315 804 333 782 333H218C196 333 177 315 177 292V250C177 227 196 208 218 208H292v-20C292 176 301 167 313 167h41C366 167 375 176 375 188V208zM229 375h42C283 375 292 384 292 396v41C292 449 282 458 271 458h-42C217 458 208 449 208 437v-41C208 384 218 375 229 375z m125 0h42C408 375 417 384 417 396v41C417 449 407 458 396 458h-42C342 458 333 449 333 437v-41C333 384 343 375 354 375z m125 0h42C533 375 542 384 542 396v41C542 449 532 458 521 458h-42C467 458 458 449 458 437v-41C458 384 468 375 479 375z m-250 125h42C283 500 292 509 292 521v41C292 574 282 583 271 583h-42C217 583 208 574 208 562v-41C208 509 218 500 229 500z m125 0h42C408 500 417 509 417 521v41C417 574 407 583 396 583h-42C342 583 333 574 333 562v-41C333 509 343 500 354 500z m125 0h42c12 0 21 9 21 21v41C542 574 532 583 521 583h-42C467 583 458 574 458 562v-41C458 509 468 500 479 500z m-250 125h42C283 625 292 634 292 646v41C292 699 282 708 271 708h-42C217 708 208 699 208 687v-41C208 634 218 625 229 625z m125 0h42C408 625 417 634 417 646v41C417 699 407 708 396 708h-42C342 708 333 699 333 687v-41C333 634 343 625 354 625z m125 0h42c12 0 21 9 21 21v41C542 699 532 708 521 708h-42C467 708 458 699 458 687v-41C458 634 468 625 479 625z m125-250h42C658 375 667 384 667 396v41C667 449 657 458 646 458h-42C592 458 583 449 583 437v-41C583 384 593 375 604 375z m0 125h42c12 0 21 9 21 21v41C667 574 657 583 646 583h-42C592 583 583 574 583 562v-41C583 509 593 500 604 500z m0 125h42c12 0 21 9 21 21v41C667 699 657 708 646 708h-42C592 708 583 699 583 687v-41C583 634 593 625 604 625z m125 0h42c12 0 21 9 21 21v41C792 699 782 708 771 708h-42C717 708 708 699 708 687v-41C708 634 718 625 729 625z m-500 125h42C283 750 292 759 292 771v41C292 824 282 833 271 833h-42C217 833 208 824 208 812v-41C208 759 218 750 229 750z m125 0h42C408 750 417 759 417 771v41C417 824 407 833 396 833h-42C342 833 333 824 333 812v-41C333 759 343 750 354 750z m125 0h42c12 0 21 9 21 21v41C542 824 532 833 521 833h-42C467 833 458 824 458 812v-41C458 759 468 750 479 750z m125 0h42c12 0 21 9 21 21v41C667 824 657 833 646 833h-42C592 833 583 824 583 812v-41C583 759 593 750 604 750z m125 0h42c12 0 21 9 21 21v41C792 824 782 833 771 833h-42C717 833 708 824 708 812v-41C708 759 718 750 729 750z m0-250h42c12 0 21 9 21 21v41C792 574 782 583 771 583h-42C717 583 708 574 708 562v-41C708 509 718 500 729 500z m0-125h42C783 375 792 384 792 396v41C792 449 782 458 771 458h-42C717 458 708 449 708 437v-41C708 384 718 375 729 375z"></path></g>
<g id="lumo:checkmark"><path d="M318 493c-15-15-38-15-53 0-15 15-15 38 0 53l136 136c15 15 38 15 53 0l323-322c15-15 15-38 0-53-15-15-38-15-54 0l-295 296-110-110z"></path></g>
<g id="lumo:chevron-down"><path d="M533 654l210-199c9-9 9-23 0-32C739 419 733 417 726 417H274C261 417 250 427 250 439c0 6 2 12 7 16l210 199c18 17 48 17 66 0z"></path></g>
<g id="lumo:chevron-left"><path d="M346 533l199 210c9 9 23 9 32 0 4-4 7-10 6-17V274C583 261 573 250 561 250c-6 0-12 2-16 7l-199 210c-17 18-17 48 0 66z"></path></g>
<g id="lumo:chevron-right"><path d="M654 533L455 743c-9 9-23 9-32 0C419 739 417 733 417 726V274C417 261 427 250 439 250c6 0 12 2 16 7l199 210c17 18 17 48 0 66z"></path></g>
<g id="lumo:chevron-up"><path d="M533 346l210 199c9 9 9 23 0 32-4 4-10 7-17 6H274C261 583 250 573 250 561c0-6 2-12 7-16l210-199c18-17 48-17 66 0z"></path></g>
<g id="lumo:clock"><path d="M538 489l85 85c15 15 15 38 0 53-15 15-38 15-53 0l-93-93a38 38 0 0 1-2-2C467 525 462 515 462 504V308c0-21 17-38 38-37 21 0 38 17 37 37v181zM500 833c-184 0-333-149-333-333s149-333 333-333 333 149 333 333-149 333-333 333z m0-68c146 0 265-118 265-265 0-146-118-265-265-265-146 0-265 118-265 265 0 146 118 265 265 265z"></path></g>
<g id="lumo:cog"><path d="M833 458l-81-18c-8-25-17-50-29-75L767 292 708 233l-72 49c-21-12-46-25-75-30L542 167h-84l-19 79c-25 8-50 17-71 30L296 233 233 296l47 69c-12 21-21 46-29 71L167 458v84l84 25c8 25 17 50 29 75L233 708 292 767l76-44c21 12 46 25 75 29L458 833h84l19-81c25-8 50-17 75-29L708 767l59-59-44-66c12-21 25-46 29-75L833 542v-84z m-333 217c-96 0-175-79-175-175 0-96 79-175 175-175 96 0 175 79 175 175 0 96-79 175-175 175z"></path></g>
<g id="lumo:cross"><path d="M445 500l-142-141c-15-15-15-40 0-56 15-15 40-15 56 0L500 445l141-142c15-15 40-15 56 0 15 15 15 40 0 56L555 500l142 141c15 15 15 40 0 56-15 15-40 15-56 0L500 555l-141 142c-15 15-40 15-56 0-15-15-15-40 0-56L445 500z"></path></g>
<g id="lumo:download"><path d="M538 521l125-112c15-14 39-12 53 4 14 15 12 39-4 53l-187 166a38 38 0 0 1 0 0c-14 13-36 12-50 0l-187-166c-15-14-17-37-4-53 14-15 37-17 53-4L462 521V188c0-21 17-38 38-38s38 17 37 38v333zM758 704c0-21 17-38 38-37 21 0 38 17 37 37v92c0 21-17 38-37 37H204c-21 0-38-17-37-37v-92c0-21 17-38 37-37s38 17 38 37v54h516v-54z"></path></g>
<g id="lumo:dropdown"><path d="M317 393c-15-14-39-13-53 3-14 15-13 39 3 53l206 189c14 13 36 13 50 0l210-193c15-14 17-38 3-53-14-15-38-17-53-3l-185 171L317 393z"></path></g>
<g id="lumo:edit"><path d="M673 281l62 56-205 233c-9 10-38 24-85 39a8 8 0 0 1-5 0c-4-1-7-6-6-10l0 0c14-47 25-76 35-86l204-232z m37-42l52-59c15-17 41-18 58-2 17 16 18 42 3 59L772 295l-62-56zM626 208l-67 75h-226C305 283 283 306 283 333v334C283 695 306 717 333 717h334c28 0 50-22 50-50v-185L792 398v269C792 736 736 792 667 792H333C264 792 208 736 208 667V333C208 264 264 208 333 208h293z"></path></g>
<g id="lumo:error"><path d="M500 833c-184 0-333-149-333-333s149-333 333-333 333 149 333 333-149 333-333 333z m0-68c146 0 265-118 265-265 0-146-118-265-265-265-146 0-265 118-265 265 0 146 118 265 265 265zM479 292h42c12 0 21 9 20 20l-11 217c0 8-6 13-13 13h-34c-7 0-13-6-13-13l-11-217C459 301 468 292 479 292zM483 608h34c12 0 21 9 20 21v33c0 12-9 21-20 21h-34c-12 0-21-9-21-21v-33c0-12 9-21 21-21z"></path></g>
<g id="lumo:eye"><path d="M500 750c-187 0-417-163-417-250s230-250 417-250 417 163 417 250-230 250-417 250z m-336-231c20 22 47 46 78 69C322 644 411 678 500 678s178-34 258-90c31-22 59-46 78-69 6-7 12-14 16-19-4-6-9-12-16-19-20-22-47-46-78-69C678 356 589 322 500 322s-178 34-258 90c-31 22-59 46-78 69-6 7-12 14-16 19 4 6 9 12 16 19zM500 646c-81 0-146-65-146-146s65-146 146-146 146 65 146 146-65 146-146 146z m0-75c39 0 71-32 71-71 0-39-32-71-71-71-39 0-71 32-71 71 0 39 32 71 71 71z"></path></g>
<g id="lumo:eye-disabled"><path d="M396 735l60-60c15 2 30 3 44 3 89 0 178-34 258-90 31-22 59-46 78-69 6-7 12-14 16-19-4-6-9-12-16-19-20-22-47-46-78-69-8-5-15-11-23-15l50-51C862 397 917 458 917 500c0 87-230 250-417 250-34 0-69-5-104-15zM215 654C138 603 83 542 83 500c0-87 230-250 417-250 34 0 69 5 104 15l-59 60c-15-2-30-3-45-3-89 0-178 34-258 90-31 22-59 46-78 69-6 7-12 14-16 19 4 6 9 12 16 19 20 22 47 46 78 69 8 5 16 11 24 16L215 654z m271-9l159-159c0 5 1 9 1 14 0 81-65 146-146 146-5 0-9 0-14-1z m-131-131C354 510 354 505 354 500c0-81 65-146 146-146 5 0 10 0 14 1l-159 159z m-167 257L780 179c12-12 32-12 44 0 12 12 12 32 0 44L232 815c-12 12-32 12-44 0s-12-32 0-44z"></path></g>
<g id="lumo:menu"><path d="M167 292c0-23 19-42 41-42h584C815 250 833 268 833 292c0 23-19 42-41 41H208C185 333 167 315 167 292z m0 208c0-23 19-42 41-42h584C815 458 833 477 833 500c0 23-19 42-41 42H208C185 542 167 523 167 500z m0 208c0-23 19-42 41-41h584C815 667 833 685 833 708c0 23-19 42-41 42H208C185 750 167 732 167 708z"></path></g>
<g id="lumo:minus"><path d="M261 461c-22 0-39 18-39 39 0 22 18 39 39 39h478c22 0 39-18 39-39 0-22-18-39-39-39H261z"></path></g>
<g id="lumo:ordered-list"><path d="M138 333V198H136l-43 28v-38l45-31h45V333H138z m-61 128c0-35 27-59 68-59 39 0 66 21 66 53 0 20-11 37-43 64l-29 27v2h74V583H80v-30l55-52c26-24 32-33 33-43 0-13-10-22-24-22-15 0-26 10-26 25v1h-41v-1zM123 759v-31h21c15 0 25-8 25-21 0-13-10-21-25-21-15 0-26 9-26 23h-41c1-34 27-56 68-57 39 0 66 20 66 49 0 20-14 36-33 39v3c24 3 40 19 39 41 0 32-30 54-73 54-41 0-69-22-70-57h43c1 13 11 22 28 22 16 0 27-9 27-22 0-14-10-22-28-22h-21zM333 258c0-18 15-33 34-33h516c18 0 33 15 34 33 0 18-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z"></path></g>
<g id="lumo:phone"><path d="M296 208l42-37c17-15 44-13 58 4a42 42 0 0 1 5 7L459 282c12 20 5 45-15 57l-7 4c-17 10-25 30-19 48l20 66a420 420 0 0 0 93 157l41 45c13 14 35 17 51 8l7-5c20-12 45-5 57 16L745 777c12 20 5 45-15 57a42 42 0 0 1-8 4l-52 17c-61 21-129 4-174-43l-50-52c-81-85-141-189-175-302l-24-78c-19-62 0-129 49-172z"></path></g>
<g id="lumo:photo"><path d="M208 167h584c69 0 125 56 125 125v416c0 69-56 125-125 125H208c-69 0-125-56-125-125V292c0-69 56-125 125-125z m584 75H208c-28 0-50 22-50 50v416c0 28 22 50 50 50h584c28 0 50-22 50-50V292c0-28-22-50-50-50zM239 740l167-167c12-12 31-14 45-6l73 43 172-201c13-15 34-18 50-7l95 67v92l-111-78-169 199c-12 14-32 17-47 8l-76-43-111 111H229c2-7 5-13 10-18zM458 427C458 490 407 542 344 542S229 490 229 427c0-63 51-115 115-115S458 364 458 427z m-62 0C396 398 373 375 344 375S292 398 292 427c0 29 23 52 52 52s52-23 52-52z"></path></g>
<g id="lumo:play"><path d="M689 528l-298 175c-13 8-34 8-48 0-6-4-10-9-10-14V311C333 300 348 292 367 292c9 0 17 2 24 5l298 175c26 15 26 40 0 56z"></path></g>
<g id="lumo:plus"><path d="M461 461H261c-22 0-39 18-39 39 0 22 18 39 39 39h200v200c0 22 18 39 39 39 22 0 39-18 39-39v-200h200c22 0 39-18 39-39 0-22-18-39-39-39h-200V261c0-22-18-39-39-39-22 0-39 18-39 39v200z"></path></g>
<g id="lumo:redo"><path d="M290 614C312 523 393 458 491 458c55 0 106 22 144 57l-88 88c-3 3-5 7-5 11 0 8 6 15 15 15l193-5c17 0 31-15 31-32l5-192c0-4-1-8-4-11-6-6-16-6-22 0l-66 67C641 406 570 375 491 375c-136 0-248 90-281 215-1 2-1 5-1 8-8 44 45 68 73 32 4-5 7-11 8-16z"></path></g>
<g id="lumo:reload"><path d="M500 233V137c0-9 7-16 15-16 4 0 8 2 10 4l133 140c12 12 12 32 0 45l-133 140c-6 6-15 6-21 0C502 447 500 443 500 438V308c-117 0-212 95-212 213 0 117 95 212 212 212 117 0 212-95 212-212 0-21 17-38 38-38s38 17 37 38c0 159-129 288-287 287-159 0-288-129-288-287 0-159 129-288 288-288z"></path></g>
<g id="lumo:search"><path d="M662 603l131 131c16 16 16 42 0 59-16 16-43 16-59 0l-131-131C562 691 512 708 458 708c-138 0-250-112-250-250 0-138 112-250 250-250 138 0 250 112 250 250 0 54-17 104-46 145zM458 646c104 0 188-84 188-188S562 271 458 271 271 355 271 458s84 188 187 188z"></path></g>
<g id="lumo:undo"><path d="M710 614C688 523 607 458 509 458c-55 0-106 22-144 57l88 88c3 3 5 7 5 11 0 8-6 15-15 15l-193-5c-17 0-31-15-31-32L214 400c0-4 1-8 4-11 6-6 16-6 22 0l66 67C359 406 430 375 509 375c136 0 248 90 281 215 1 2 1 5 1 8 8 44-45 68-73 32-4-5-7-11-8-16z"></path></g>
<g id="lumo:unordered-list"><path d="M146 325c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63z m0 250c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63z m0 250c-42 0-67-26-67-63 0-37 25-63 67-63 42 0 67 26 67 63 0 37-25 63-67 63zM333 258c0-18 15-33 34-33h516c18 0 33 15 34 33 0 18-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z m0 250c0-18 15-33 34-33h516c18 0 33 15 34 33s-15 33-34 34H367c-18 0-33-15-34-34z"></path></g>
<g id="lumo:upload"><path d="M454 271V604c0 21-17 38-37 38s-38-17-38-38V271L254 382c-15 14-39 12-53-3-14-15-12-39 3-53L391 160c14-13 36-13 51-1 0 0 0 0 0 1l187 166c15 14 17 37 3 53-14 15-37 17-53 3L454 271zM675 704c0-21 17-38 37-37 21 0 38 17 38 37v92c0 21-17 38-38 37H121c-21 0-38-17-38-37v-92c0-21 17-38 38-37s38 17 37 37v54h517v-54z"></path></g>
<g id="lumo:user"><path d="M500 500c-69 0-125-56-125-125s56-125 125-125 125 56 125 125-56 125-125 125z m-292 292c0-115 131-208 292-209s292 93 292 209H208z"></path></g>
</defs></svg>`;gu.register("lumo",1e3,ng);const WC=Q`
  :host([theme~='margin']) {
    margin: var(--lumo-space-m);
  }

  :host([theme~='padding']) {
    padding: var(--lumo-space-m);
  }

  :host([theme~='spacing-xs']) {
    gap: var(--lumo-space-xs);
  }

  :host([theme~='spacing-s']) {
    gap: var(--lumo-space-s);
  }

  :host([theme~='spacing']) {
    gap: var(--lumo-space-m);
  }

  :host([theme~='spacing-l']) {
    gap: var(--lumo-space-l);
  }

  :host([theme~='spacing-xl']) {
    gap: var(--lumo-space-xl);
  }
`;ht("vaadin-vertical-layout",WC,{moduleId:"lumo-vertical-layout"});/**
 * @license
 * Copyright (c) 2017 - 2023 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Rd extends Ie(ie(Ft)){static get template(){return Dt`
      <style>
        :host {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          box-sizing: border-box;
        }

        :host([hidden]) {
          display: none !important;
        }

        /* Theme variations */
        :host([theme~='margin']) {
          margin: 1em;
        }

        :host([theme~='padding']) {
          padding: 1em;
        }

        :host([theme~='spacing']) {
          gap: 1em;
        }
      </style>

      <slot></slot>
    `}static get is(){return"vaadin-vertical-layout"}}customElements.define(Rd.is,Rd);function Mt(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function Uo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uo=function(t){return typeof t}:Uo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(r)}function VC(r){return Mt(1,arguments),r instanceof Date||Uo(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Yo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yo=function(t){return typeof t}:Yo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(r)}function Gt(r){Mt(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||Yo(r)==="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function mu(r){if(Mt(1,arguments),!VC(r)&&typeof r!="number")return!1;var e=Gt(r);return!isNaN(Number(e))}function Zt(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function qC(r,e){Mt(2,arguments);var t=Gt(r).getTime(),n=Zt(e);return new Date(t+n)}function ig(r,e){Mt(2,arguments);var t=Zt(e);return qC(r,-t)}var XC=864e5;function KC(r){Mt(1,arguments);var e=Gt(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/XC)+1}function kn(r){Mt(1,arguments);var e=1,t=Gt(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function og(r){Mt(1,arguments);var e=Gt(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=kn(n),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var a=kn(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function ZC(r){Mt(1,arguments);var e=og(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=kn(t);return n}var QC=6048e5;function ag(r){Mt(1,arguments);var e=Gt(r),t=kn(e).getTime()-ZC(e).getTime();return Math.round(t/QC)+1}var JC={};function jn(){return JC}function jr(r,e){var t,n,i,o,a,s,l,u;Mt(1,arguments);var h=jn(),c=Zt((t=(n=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Gt(r),d=f.getUTCDay(),p=(d<c?7:0)+d-c;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function xc(r,e){var t,n,i,o,a,s,l,u;Mt(1,arguments);var h=Gt(r),c=h.getUTCFullYear(),f=jn(),d=Zt((t=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(c+1,0,d),p.setUTCHours(0,0,0,0);var _=jr(p,e),v=new Date(0);v.setUTCFullYear(c,0,d),v.setUTCHours(0,0,0,0);var y=jr(v,e);return h.getTime()>=_.getTime()?c+1:h.getTime()>=y.getTime()?c:c-1}function tO(r,e){var t,n,i,o,a,s,l,u;Mt(1,arguments);var h=jn(),c=Zt((t=(n=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(a=e.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=xc(r,e),d=new Date(0);d.setUTCFullYear(f,0,c),d.setUTCHours(0,0,0,0);var p=jr(d,e);return p}var eO=6048e5;function sg(r,e){Mt(1,arguments);var t=Gt(r),n=jr(t,e).getTime()-tO(t,e).getTime();return Math.round(n/eO)+1}function at(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var rO={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return at(t==="yy"?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):at(n+1,2)},d:function(e,t){return at(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return at(e.getUTCHours()%12||12,t.length)},H:function(e,t){return at(e.getUTCHours(),t.length)},m:function(e,t){return at(e.getUTCMinutes(),t.length)},s:function(e,t){return at(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return at(o,t.length)}};const Je=rO;var nn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nO={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return Je.y(e,t)},Y:function(e,t,n,i){var o=xc(e,i),a=o>0?o:1-o;if(t==="YY"){var s=a%100;return at(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):at(a,t.length)},R:function(e,t){var n=og(e);return at(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return at(n,t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return at(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return at(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return Je.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return at(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var o=sg(e,i);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):at(o,t.length)},I:function(e,t,n){var i=ag(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):at(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Je.d(e,t)},D:function(e,t,n){var i=KC(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):at(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return at(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var o=e.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return at(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return at(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i=e.getUTCHours(),o;switch(i===12?o=nn.noon:i===0?o=nn.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i=e.getUTCHours(),o;switch(i>=17?o=nn.evening:i>=12?o=nn.afternoon:i>=4?o=nn.morning:o=nn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Je.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Je.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):at(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):at(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Je.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Je.s(e,t)},S:function(e,t){return Je.S(e,t)},X:function(e,t,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Dd(a);case"XXXX":case"XX":return Rr(a);case"XXXXX":case"XXX":default:return Rr(a,":")}},x:function(e,t,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(t){case"x":return Dd(a);case"xxxx":case"xx":return Rr(a);case"xxxxx":case"xxx":default:return Rr(a,":")}},O:function(e,t,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ad(a,":");case"OOOO":default:return"GMT"+Rr(a,":")}},z:function(e,t,n,i){var o=i._originalDate||e,a=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ad(a,":");case"zzzz":default:return"GMT"+Rr(a,":")}},t:function(e,t,n,i){var o=i._originalDate||e,a=Math.floor(o.getTime()/1e3);return at(a,t.length)},T:function(e,t,n,i){var o=i._originalDate||e,a=o.getTime();return at(a,t.length)}};function Ad(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),o=n%60;if(o===0)return t+String(i);var a=e||"";return t+String(i)+a+at(o,2)}function Dd(r,e){if(r%60===0){var t=r>0?"-":"+";return t+at(Math.abs(r)/60,2)}return Rr(r,e)}function Rr(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),o=at(Math.floor(i/60),2),a=at(i%60,2);return n+o+t+a}const iO=nO;var Ld=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lg=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},oO=function(e,t){var n=e.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return Ld(e,t);var a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Ld(i,t)).replace("{{time}}",lg(o,t))},aO={p:lg,P:oO};const bu=aO;function ug(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}var sO=["D","DD"],lO=["YY","YYYY"];function hg(r){return sO.indexOf(r)!==-1}function cg(r){return lO.indexOf(r)!==-1}function Va(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var uO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hO=function(e,t,n){var i,o=uO[e];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const cO=hO;function Il(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var fO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_O={date:Il({formats:fO,defaultWidth:"full"}),time:Il({formats:dO,defaultWidth:"full"}),dateTime:Il({formats:pO,defaultWidth:"full"})};const vO=_O;var yO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gO=function(e,t,n,i){return yO[e]};const mO=gO;function fi(r){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",i;if(n==="formatting"&&r.formattingValues){var o=r.defaultFormattingWidth||r.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=r.formattingValues[a]||r.formattingValues[o]}else{var s=r.defaultWidth,l=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[l]||r.values[s]}var u=r.argumentCallback?r.argumentCallback(e):e;return i[u]}}var bO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OO=function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},MO={ordinalNumber:OO,era:fi({values:bO,defaultWidth:"wide"}),quarter:fi({values:wO,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:fi({values:xO,defaultWidth:"wide"}),day:fi({values:EO,defaultWidth:"wide"}),dayPeriod:fi({values:TO,defaultWidth:"wide",formattingValues:CO,defaultFormattingWidth:"wide"})};const PO=MO;function di(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;var a=o[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(s)?IO(s,function(c){return c.test(a)}):SO(s,function(c){return c.test(a)}),u;u=r.valueCallback?r.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var h=e.slice(a.length);return{value:u,rest:h}}}function SO(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function IO(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function RO(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],o=e.match(r.parsePattern);if(!o)return null;var a=r.valueCallback?r.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;var s=e.slice(i.length);return{value:a,rest:s}}}var AO=/^(\d+)(th|st|nd|rd)?/i,DO=/\d+/i,LO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NO={any:[/^b/i,/^(a|c)/i]},kO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FO={any:[/1/i,/2/i,/3/i,/4/i]},$O={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jO={ordinalNumber:RO({matchPattern:AO,parsePattern:DO,valueCallback:function(e){return parseInt(e,10)}}),era:di({matchPatterns:LO,defaultMatchWidth:"wide",parsePatterns:NO,defaultParseWidth:"any"}),quarter:di({matchPatterns:kO,defaultMatchWidth:"wide",parsePatterns:FO,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:di({matchPatterns:$O,defaultMatchWidth:"wide",parsePatterns:zO,defaultParseWidth:"any"}),day:di({matchPatterns:BO,defaultMatchWidth:"wide",parsePatterns:GO,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:UO,defaultMatchWidth:"any",parsePatterns:YO,defaultParseWidth:"any"})};const HO=jO;var WO={code:"en-US",formatDistance:cO,formatLong:vO,formatRelative:mO,localize:PO,match:HO,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fg=WO;var VO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XO=/^'([^]*?)'?$/,KO=/''/g,ZO=/[a-zA-Z]/;function QO(r,e,t){var n,i,o,a,s,l,u,h,c,f,d,p,_,v,y,g,m,b;Mt(2,arguments);var w=String(e),x=jn(),T=(n=(i=t==null?void 0:t.locale)!==null&&i!==void 0?i:x.locale)!==null&&n!==void 0?n:fg,E=Zt((o=(a=(s=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:x.firstWeekContainsDate)!==null&&a!==void 0?a:(c=x.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Zt((d=(p=(_=(v=t==null?void 0:t.weekStartsOn)!==null&&v!==void 0?v:t==null||(y=t.locale)===null||y===void 0||(g=y.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&_!==void 0?_:x.weekStartsOn)!==null&&p!==void 0?p:(m=x.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&d!==void 0?d:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var S=Gt(r);if(!mu(S))throw new RangeError("Invalid time value");var A=ug(S),N=ig(S,A),L={firstWeekContainsDate:E,weekStartsOn:M,locale:T,_originalDate:S},B=w.match(qO).map(function(P){var D=P[0];if(D==="p"||D==="P"){var k=bu[D];return k(P,T.formatLong)}return P}).join("").match(VO).map(function(P){if(P==="''")return"'";var D=P[0];if(D==="'")return JO(P);var k=iO[D];if(k)return!(t!=null&&t.useAdditionalWeekYearTokens)&&cg(P)&&Va(P,e,String(r)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&hg(P)&&Va(P,e,String(r)),k(N,P,T.localize,L);if(D.match(ZO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return P}).join("");return B}function JO(r){var e=r.match(XO);return e?e[1].replace(KO,"'"):r}function tM(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function jo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jo=function(t){return typeof t}:jo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(r)}function dg(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&wu(r,e)}function wu(r,e){return wu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wu(r,e)}function pg(r){var e=rM();return function(){var n=qa(r),i;if(e){var o=qa(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return eM(this,i)}}function eM(r,e){return e&&(jo(e)==="object"||typeof e=="function")?e:xu(r)}function xu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function rM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qa(r){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(r)}function Ec(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Nd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Tc(r,e,t){return e&&Nd(r.prototype,e),t&&Nd(r,t),r}function Eu(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var nM=10,_g=function(){function r(){Ec(this,r),Eu(this,"subPriority",0)}return Tc(r,[{key:"validate",value:function(t,n){return!0}}]),r}(),iM=function(r){dg(t,r);var e=pg(t);function t(n,i,o,a,s){var l;return Ec(this,t),l=e.call(this),l.value=n,l.validateValue=i,l.setValue=o,l.priority=a,s&&(l.subPriority=s),l}return Tc(t,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,a){return this.setValue(i,o,this.value,a)}}]),t}(_g),oM=function(r){dg(t,r);var e=pg(t);function t(){var n;Ec(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Eu(xu(n),"priority",nM),Eu(xu(n),"subPriority",-1),n}return Tc(t,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),t}(_g);function aM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function sM(r,e,t){return e&&kd(r.prototype,e),t&&kd(r,t),r}var rt=function(){function r(){aM(this,r)}return sM(r,[{key:"run",value:function(t,n,i,o){var a=this.parse(t,n,i,o);return a?{setter:new iM(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,n,i){return!0}}]),r}();function Ho(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ho=function(t){return typeof t}:Ho=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(r)}function lM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Fd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function uM(r,e,t){return e&&Fd(r.prototype,e),t&&Fd(r,t),r}function hM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Tu(r,e)}function Tu(r,e){return Tu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Tu(r,e)}function cM(r){var e=dM();return function(){var n=Xa(r),i;if(e){var o=Xa(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return fM(this,i)}}function fM(r,e){return e&&(Ho(e)==="object"||typeof e=="function")?e:Cu(r)}function Cu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function dM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xa(r){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(r)}function $d(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var pM=function(r){hM(t,r);var e=cM(t);function t(){var n;lM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),$d(Cu(n),"priority",140),$d(Cu(n),"incompatibleTokens",["R","u","t","T"]),n}return uM(t,[{key:"parse",value:function(i,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,a){return o.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt),_M=6e4,vM=36e5,yM=1e3,Et={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xe={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tt(r,e){return r&&{value:e(r.value),rest:r.rest}}function gt(r,e){var t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ee(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(i*vM+o*_M+a*yM),rest:e.slice(t[0].length)}}function vg(r){return gt(Et.anyDigitsSigned,r)}function bt(r,e){switch(r){case 1:return gt(Et.singleDigit,e);case 2:return gt(Et.twoDigits,e);case 3:return gt(Et.threeDigits,e);case 4:return gt(Et.fourDigits,e);default:return gt(new RegExp("^\\d{1,"+r+"}"),e)}}function Ka(r,e){switch(r){case 1:return gt(Et.singleDigitSigned,e);case 2:return gt(Et.twoDigitsSigned,e);case 3:return gt(Et.threeDigitsSigned,e);case 4:return gt(Et.fourDigitsSigned,e);default:return gt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Cc(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yg(r,e){var t=e>0,n=t?e:1-e,i;if(n<=50)i=r||100;else{var o=n+50,a=Math.floor(o/100)*100,s=r>=o%100;i=r+a-(s?100:0)}return t?i:1-i}function gg(r){return r%400===0||r%4===0&&r%100!==0}function Wo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wo=function(t){return typeof t}:Wo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(r)}function gM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function mM(r,e,t){return e&&zd(r.prototype,e),t&&zd(r,t),r}function bM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ou(r,e)}function Ou(r,e){return Ou=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ou(r,e)}function wM(r){var e=EM();return function(){var n=Za(r),i;if(e){var o=Za(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return xM(this,i)}}function xM(r,e){return e&&(Wo(e)==="object"||typeof e=="function")?e:Mu(r)}function Mu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function EM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Za(r){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(r)}function Bd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var TM=function(r){bM(t,r);var e=wM(t);function t(){var n;gM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Bd(Mu(n),"priority",130),Bd(Mu(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return mM(t,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Tt(bt(4,i),s);case"yo":return Tt(a.ordinalNumber(i,{unit:"year"}),s);default:return Tt(bt(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a){var s=i.getUTCFullYear();if(a.isTwoDigitYear){var l=yg(a.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Vo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vo=function(t){return typeof t}:Vo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(r)}function CM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Gd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function OM(r,e,t){return e&&Gd(r.prototype,e),t&&Gd(r,t),r}function MM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Pu(r,e)}function Pu(r,e){return Pu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Pu(r,e)}function PM(r){var e=IM();return function(){var n=Qa(r),i;if(e){var o=Qa(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return SM(this,i)}}function SM(r,e){return e&&(Vo(e)==="object"||typeof e=="function")?e:Su(r)}function Su(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function IM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(r){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(r)}function Ud(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var RM=function(r){MM(t,r);var e=PM(t);function t(){var n;CM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Ud(Su(n),"priority",130),Ud(Su(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return OM(t,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Tt(bt(4,i),s);case"Yo":return Tt(a.ordinalNumber(i,{unit:"year"}),s);default:return Tt(bt(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a,s){var l=xc(i,s);if(a.isTwoDigitYear){var u=yg(a.year,l);return i.setUTCFullYear(u,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),jr(i,s)}var h=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(h,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),jr(i,s)}}]),t}(rt);function qo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qo=function(t){return typeof t}:qo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(r)}function AM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function DM(r,e,t){return e&&Yd(r.prototype,e),t&&Yd(r,t),r}function LM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Iu(r,e)}function Iu(r,e){return Iu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Iu(r,e)}function NM(r){var e=FM();return function(){var n=Ja(r),i;if(e){var o=Ja(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return kM(this,i)}}function kM(r,e){return e&&(qo(e)==="object"||typeof e=="function")?e:Ru(r)}function Ru(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function FM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ja(r){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(r)}function jd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var $M=function(r){LM(t,r);var e=NM(t);function t(){var n;AM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),jd(Ru(n),"priority",130),jd(Ru(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return DM(t,[{key:"parse",value:function(i,o){return Ka(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,a){var s=new Date(0);return s.setUTCFullYear(a,0,4),s.setUTCHours(0,0,0,0),kn(s)}}]),t}(rt);function Xo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xo=function(t){return typeof t}:Xo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(r)}function zM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Hd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function BM(r,e,t){return e&&Hd(r.prototype,e),t&&Hd(r,t),r}function GM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Au(r,e)}function Au(r,e){return Au=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Au(r,e)}function UM(r){var e=jM();return function(){var n=ts(r),i;if(e){var o=ts(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return YM(this,i)}}function YM(r,e){return e&&(Xo(e)==="object"||typeof e=="function")?e:Du(r)}function Du(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function jM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ts(r){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(r)}function Wd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var HM=function(r){GM(t,r);var e=UM(t);function t(){var n;zM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Wd(Du(n),"priority",130),Wd(Du(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return BM(t,[{key:"parse",value:function(i,o){return Ka(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Ko(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ko=function(t){return typeof t}:Ko=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(r)}function WM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function VM(r,e,t){return e&&Vd(r.prototype,e),t&&Vd(r,t),r}function qM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Lu(r,e)}function Lu(r,e){return Lu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Lu(r,e)}function XM(r){var e=ZM();return function(){var n=es(r),i;if(e){var o=es(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return KM(this,i)}}function KM(r,e){return e&&(Ko(e)==="object"||typeof e=="function")?e:Nu(r)}function Nu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function es(r){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(r)}function qd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var QM=function(r){qM(t,r);var e=XM(t);function t(){var n;WM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),qd(Nu(n),"priority",120),qd(Nu(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return VM(t,[{key:"parse",value:function(i,o,a){switch(o){case"Q":case"QQ":return bt(o.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Zo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zo=function(t){return typeof t}:Zo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(r)}function JM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Xd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function tP(r,e,t){return e&&Xd(r.prototype,e),t&&Xd(r,t),r}function eP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ku(r,e)}function ku(r,e){return ku=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ku(r,e)}function rP(r){var e=iP();return function(){var n=rs(r),i;if(e){var o=rs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return nP(this,i)}}function nP(r,e){return e&&(Zo(e)==="object"||typeof e=="function")?e:Fu(r)}function Fu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rs(r){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(r)}function Kd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var oP=function(r){eP(t,r);var e=rP(t);function t(){var n;JM(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Kd(Fu(n),"priority",120),Kd(Fu(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return tP(t,[{key:"parse",value:function(i,o,a){switch(o){case"q":case"qq":return bt(o.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Qo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qo=function(t){return typeof t}:Qo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(r)}function aP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Zd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function sP(r,e,t){return e&&Zd(r.prototype,e),t&&Zd(r,t),r}function lP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&$u(r,e)}function $u(r,e){return $u=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$u(r,e)}function uP(r){var e=cP();return function(){var n=ns(r),i;if(e){var o=ns(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return hP(this,i)}}function hP(r,e){return e&&(Qo(e)==="object"||typeof e=="function")?e:zu(r)}function zu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ns(r){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(r)}function Qd(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var fP=function(r){lP(t,r);var e=uP(t);function t(){var n;aP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Qd(zu(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Qd(zu(n),"priority",110),n}return sP(t,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"M":return Tt(gt(Et.month,i),s);case"MM":return Tt(bt(2,i),s);case"Mo":return Tt(a.ordinalNumber(i,{unit:"month"}),s);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Jo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jo=function(t){return typeof t}:Jo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(r)}function dP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Jd(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function pP(r,e,t){return e&&Jd(r.prototype,e),t&&Jd(r,t),r}function _P(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Bu(r,e)}function Bu(r,e){return Bu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Bu(r,e)}function vP(r){var e=gP();return function(){var n=is(r),i;if(e){var o=is(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return yP(this,i)}}function yP(r,e){return e&&(Jo(e)==="object"||typeof e=="function")?e:Gu(r)}function Gu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function is(r){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},is(r)}function tp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var mP=function(r){_P(t,r);var e=vP(t);function t(){var n;dP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),tp(Gu(n),"priority",110),tp(Gu(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return pP(t,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"L":return Tt(gt(Et.month,i),s);case"LL":return Tt(bt(2,i),s);case"Lo":return Tt(a.ordinalNumber(i,{unit:"month"}),s);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function bP(r,e,t){Mt(2,arguments);var n=Gt(r),i=Zt(e),o=sg(n,t)-i;return n.setUTCDate(n.getUTCDate()-o*7),n}function ta(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ta=function(t){return typeof t}:ta=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(r)}function wP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ep(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function xP(r,e,t){return e&&ep(r.prototype,e),t&&ep(r,t),r}function EP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Uu(r,e)}function Uu(r,e){return Uu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Uu(r,e)}function TP(r){var e=OP();return function(){var n=os(r),i;if(e){var o=os(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return CP(this,i)}}function CP(r,e){return e&&(ta(e)==="object"||typeof e=="function")?e:Yu(r)}function Yu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function OP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function os(r){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(r)}function rp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var MP=function(r){EP(t,r);var e=TP(t);function t(){var n;wP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),rp(Yu(n),"priority",100),rp(Yu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return xP(t,[{key:"parse",value:function(i,o,a){switch(o){case"w":return gt(Et.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a,s){return jr(bP(i,a,s),s)}}]),t}(rt);function PP(r,e){Mt(2,arguments);var t=Gt(r),n=Zt(e),i=ag(t)-n;return t.setUTCDate(t.getUTCDate()-i*7),t}function ea(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ea=function(t){return typeof t}:ea=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(r)}function SP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function np(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function IP(r,e,t){return e&&np(r.prototype,e),t&&np(r,t),r}function RP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ju(r,e)}function ju(r,e){return ju=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ju(r,e)}function AP(r){var e=LP();return function(){var n=as(r),i;if(e){var o=as(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return DP(this,i)}}function DP(r,e){return e&&(ea(e)==="object"||typeof e=="function")?e:Hu(r)}function Hu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function LP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function as(r){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(r)}function ip(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var NP=function(r){RP(t,r);var e=AP(t);function t(){var n;SP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),ip(Hu(n),"priority",100),ip(Hu(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return IP(t,[{key:"parse",value:function(i,o,a){switch(o){case"I":return gt(Et.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a){return kn(PP(i,a))}}]),t}(rt);function ra(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ra=function(t){return typeof t}:ra=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(r)}function kP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function op(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function FP(r,e,t){return e&&op(r.prototype,e),t&&op(r,t),r}function $P(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Wu(r,e)}function Wu(r,e){return Wu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wu(r,e)}function zP(r){var e=GP();return function(){var n=ss(r),i;if(e){var o=ss(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return BP(this,i)}}function BP(r,e){return e&&(ra(e)==="object"||typeof e=="function")?e:na(r)}function na(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function GP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(r){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(r)}function Rl(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var UP=[31,28,31,30,31,30,31,31,30,31,30,31],YP=[31,29,31,30,31,30,31,31,30,31,30,31],jP=function(r){$P(t,r);var e=zP(t);function t(){var n;kP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Rl(na(n),"priority",90),Rl(na(n),"subPriority",1),Rl(na(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return FP(t,[{key:"parse",value:function(i,o,a){switch(o){case"d":return gt(Et.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=gg(a),l=i.getUTCMonth();return s?o>=1&&o<=YP[l]:o>=1&&o<=UP[l]}},{key:"set",value:function(i,o,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function ia(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ia=function(t){return typeof t}:ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(r)}function HP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ap(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function WP(r,e,t){return e&&ap(r.prototype,e),t&&ap(r,t),r}function VP(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Vu(r,e)}function Vu(r,e){return Vu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Vu(r,e)}function qP(r){var e=KP();return function(){var n=ls(r),i;if(e){var o=ls(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return XP(this,i)}}function XP(r,e){return e&&(ia(e)==="object"||typeof e=="function")?e:oa(r)}function oa(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function KP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ls(r){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(r)}function Al(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var ZP=function(r){VP(t,r);var e=qP(t);function t(){var n;HP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Al(oa(n),"priority",90),Al(oa(n),"subpriority",1),Al(oa(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return WP(t,[{key:"parse",value:function(i,o,a){switch(o){case"D":case"DD":return gt(Et.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=gg(a);return s?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function Oc(r,e,t){var n,i,o,a,s,l,u,h;Mt(2,arguments);var c=jn(),f=Zt((n=(i=(o=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:c.weekStartsOn)!==null&&i!==void 0?i:(u=c.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Gt(r),p=Zt(e),_=d.getUTCDay(),v=p%7,y=(v+7)%7,g=(y<f?7:0)+p-_;return d.setUTCDate(d.getUTCDate()+g),d}function aa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aa=function(t){return typeof t}:aa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(r)}function QP(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function JP(r,e,t){return e&&sp(r.prototype,e),t&&sp(r,t),r}function tS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&qu(r,e)}function qu(r,e){return qu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qu(r,e)}function eS(r){var e=nS();return function(){var n=us(r),i;if(e){var o=us(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return rS(this,i)}}function rS(r,e){return e&&(aa(e)==="object"||typeof e=="function")?e:Xu(r)}function Xu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function us(r){return us=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},us(r)}function lp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var iS=function(r){tS(t,r);var e=eS(t);function t(){var n;QP(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),lp(Xu(n),"priority",90),lp(Xu(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return JP(t,[{key:"parse",value:function(i,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Oc(i,a,s),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function sa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sa=function(t){return typeof t}:sa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(r)}function oS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function up(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function aS(r,e,t){return e&&up(r.prototype,e),t&&up(r,t),r}function sS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ku(r,e)}function Ku(r,e){return Ku=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ku(r,e)}function lS(r){var e=hS();return function(){var n=hs(r),i;if(e){var o=hs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return uS(this,i)}}function uS(r,e){return e&&(sa(e)==="object"||typeof e=="function")?e:Zu(r)}function Zu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hs(r){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hs(r)}function hp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var cS=function(r){sS(t,r);var e=lS(t);function t(){var n;oS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),hp(Zu(n),"priority",90),hp(Zu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return aS(t,[{key:"parse",value:function(i,o,a,s){var l=function(h){var c=Math.floor((h-1)/7)*7;return(h+s.weekStartsOn+6)%7+c};switch(o){case"e":case"ee":return Tt(bt(o.length,i),l);case"eo":return Tt(a.ordinalNumber(i,{unit:"day"}),l);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Oc(i,a,s),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function la(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?la=function(t){return typeof t}:la=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(r)}function fS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function cp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function dS(r,e,t){return e&&cp(r.prototype,e),t&&cp(r,t),r}function pS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Qu(r,e)}function Qu(r,e){return Qu=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qu(r,e)}function _S(r){var e=yS();return function(){var n=cs(r),i;if(e){var o=cs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return vS(this,i)}}function vS(r,e){return e&&(la(e)==="object"||typeof e=="function")?e:Ju(r)}function Ju(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(r){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(r)}function fp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var gS=function(r){pS(t,r);var e=_S(t);function t(){var n;fS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),fp(Ju(n),"priority",90),fp(Ju(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return dS(t,[{key:"parse",value:function(i,o,a,s){var l=function(h){var c=Math.floor((h-1)/7)*7;return(h+s.weekStartsOn+6)%7+c};switch(o){case"c":case"cc":return Tt(bt(o.length,i),l);case"co":return Tt(a.ordinalNumber(i,{unit:"day"}),l);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Oc(i,a,s),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function mS(r,e){Mt(2,arguments);var t=Zt(e);t%7===0&&(t=t-7);var n=1,i=Gt(r),o=i.getUTCDay(),a=t%7,s=(a+7)%7,l=(s<n?7:0)+t-o;return i.setUTCDate(i.getUTCDate()+l),i}function ua(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ua=function(t){return typeof t}:ua=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(r)}function bS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function dp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function wS(r,e,t){return e&&dp(r.prototype,e),t&&dp(r,t),r}function xS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&th(r,e)}function th(r,e){return th=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},th(r,e)}function ES(r){var e=CS();return function(){var n=fs(r),i;if(e){var o=fs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return TS(this,i)}}function TS(r,e){return e&&(ua(e)==="object"||typeof e=="function")?e:eh(r)}function eh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function CS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fs(r){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(r)}function pp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var OS=function(r){xS(t,r);var e=ES(t);function t(){var n;bS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),pp(eh(n),"priority",90),pp(eh(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return wS(t,[{key:"parse",value:function(i,o,a){var s=function(u){return u===0?7:u};switch(o){case"i":case"ii":return bt(o.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return Tt(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return Tt(a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Tt(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Tt(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,a){return i=mS(i,a),i.setUTCHours(0,0,0,0),i}}]),t}(rt);function ha(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ha=function(t){return typeof t}:ha=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(r)}function MS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _p(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function PS(r,e,t){return e&&_p(r.prototype,e),t&&_p(r,t),r}function SS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&rh(r,e)}function rh(r,e){return rh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rh(r,e)}function IS(r){var e=AS();return function(){var n=ds(r),i;if(e){var o=ds(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return RS(this,i)}}function RS(r,e){return e&&(ha(e)==="object"||typeof e=="function")?e:nh(r)}function nh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ds(r){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(r)}function vp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var DS=function(r){SS(t,r);var e=IS(t);function t(){var n;MS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),vp(nh(n),"priority",80),vp(nh(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return PS(t,[{key:"parse",value:function(i,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Cc(a),0,0,0),i}}]),t}(rt);function ca(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ca=function(t){return typeof t}:ca=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(r)}function LS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function yp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function NS(r,e,t){return e&&yp(r.prototype,e),t&&yp(r,t),r}function kS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ih(r,e)}function ih(r,e){return ih=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ih(r,e)}function FS(r){var e=zS();return function(){var n=ps(r),i;if(e){var o=ps(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return $S(this,i)}}function $S(r,e){return e&&(ca(e)==="object"||typeof e=="function")?e:oh(r)}function oh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ps(r){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(r)}function gp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var BS=function(r){kS(t,r);var e=FS(t);function t(){var n;LS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),gp(oh(n),"priority",80),gp(oh(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return NS(t,[{key:"parse",value:function(i,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Cc(a),0,0,0),i}}]),t}(rt);function fa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fa=function(t){return typeof t}:fa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(r)}function GS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function US(r,e,t){return e&&mp(r.prototype,e),t&&mp(r,t),r}function YS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ah(r,e)}function ah(r,e){return ah=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ah(r,e)}function jS(r){var e=WS();return function(){var n=_s(r),i;if(e){var o=_s(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return HS(this,i)}}function HS(r,e){return e&&(fa(e)==="object"||typeof e=="function")?e:sh(r)}function sh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _s(r){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(r)}function bp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var VS=function(r){YS(t,r);var e=jS(t);function t(){var n;GS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),bp(sh(n),"priority",80),bp(sh(n),"incompatibleTokens",["a","b","t","T"]),n}return US(t,[{key:"parse",value:function(i,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(Cc(a),0,0,0),i}}]),t}(rt);function da(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(t){return typeof t}:da=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(r)}function qS(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function wp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function XS(r,e,t){return e&&wp(r.prototype,e),t&&wp(r,t),r}function KS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&lh(r,e)}function lh(r,e){return lh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lh(r,e)}function ZS(r){var e=JS();return function(){var n=vs(r),i;if(e){var o=vs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return QS(this,i)}}function QS(r,e){return e&&(da(e)==="object"||typeof e=="function")?e:uh(r)}function uh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vs(r){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(r)}function xp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var t3=function(r){KS(t,r);var e=ZS(t);function t(){var n;qS(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),xp(uh(n),"priority",70),xp(uh(n),"incompatibleTokens",["H","K","k","t","T"]),n}return XS(t,[{key:"parse",value:function(i,o,a){switch(o){case"h":return gt(Et.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):!s&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),t}(rt);function pa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pa=function(t){return typeof t}:pa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(r)}function e3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ep(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function r3(r,e,t){return e&&Ep(r.prototype,e),t&&Ep(r,t),r}function n3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&hh(r,e)}function hh(r,e){return hh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hh(r,e)}function i3(r){var e=a3();return function(){var n=ys(r),i;if(e){var o=ys(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return o3(this,i)}}function o3(r,e){return e&&(pa(e)==="object"||typeof e=="function")?e:ch(r)}function ch(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function a3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ys(r){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(r)}function Tp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var s3=function(r){n3(t,r);var e=i3(t);function t(){var n;e3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Tp(ch(n),"priority",70),Tp(ch(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return r3(t,[{key:"parse",value:function(i,o,a){switch(o){case"H":return gt(Et.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,a){return i.setUTCHours(a,0,0,0),i}}]),t}(rt);function _a(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(r)}function l3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Cp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function u3(r,e,t){return e&&Cp(r.prototype,e),t&&Cp(r,t),r}function h3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&fh(r,e)}function fh(r,e){return fh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fh(r,e)}function c3(r){var e=d3();return function(){var n=gs(r),i;if(e){var o=gs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return f3(this,i)}}function f3(r,e){return e&&(_a(e)==="object"||typeof e=="function")?e:dh(r)}function dh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function d3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gs(r){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(r)}function Op(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var p3=function(r){h3(t,r);var e=c3(t);function t(){var n;l3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Op(dh(n),"priority",70),Op(dh(n),"incompatibleTokens",["h","H","k","t","T"]),n}return u3(t,[{key:"parse",value:function(i,o,a){switch(o){case"K":return gt(Et.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),t}(rt);function va(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?va=function(t){return typeof t}:va=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(r)}function _3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Mp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function v3(r,e,t){return e&&Mp(r.prototype,e),t&&Mp(r,t),r}function y3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&ph(r,e)}function ph(r,e){return ph=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ph(r,e)}function g3(r){var e=b3();return function(){var n=ms(r),i;if(e){var o=ms(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return m3(this,i)}}function m3(r,e){return e&&(va(e)==="object"||typeof e=="function")?e:_h(r)}function _h(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function b3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ms(r){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(r)}function Pp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var w3=function(r){y3(t,r);var e=g3(t);function t(){var n;_3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Pp(_h(n),"priority",70),Pp(_h(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return v3(t,[{key:"parse",value:function(i,o,a){switch(o){case"k":return gt(Et.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,a){var s=a<=24?a%24:a;return i.setUTCHours(s,0,0,0),i}}]),t}(rt);function ya(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ya=function(t){return typeof t}:ya=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(r)}function x3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Sp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function E3(r,e,t){return e&&Sp(r.prototype,e),t&&Sp(r,t),r}function T3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&vh(r,e)}function vh(r,e){return vh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vh(r,e)}function C3(r){var e=M3();return function(){var n=bs(r),i;if(e){var o=bs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return O3(this,i)}}function O3(r,e){return e&&(ya(e)==="object"||typeof e=="function")?e:yh(r)}function yh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function M3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bs(r){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(r)}function Ip(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var P3=function(r){T3(t,r);var e=C3(t);function t(){var n;x3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Ip(yh(n),"priority",60),Ip(yh(n),"incompatibleTokens",["t","T"]),n}return E3(t,[{key:"parse",value:function(i,o,a){switch(o){case"m":return gt(Et.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCMinutes(a,0,0),i}}]),t}(rt);function ga(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ga=function(t){return typeof t}:ga=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(r)}function S3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Rp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function I3(r,e,t){return e&&Rp(r.prototype,e),t&&Rp(r,t),r}function R3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&gh(r,e)}function gh(r,e){return gh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gh(r,e)}function A3(r){var e=L3();return function(){var n=ws(r),i;if(e){var o=ws(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return D3(this,i)}}function D3(r,e){return e&&(ga(e)==="object"||typeof e=="function")?e:mh(r)}function mh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function L3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ws(r){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ws(r)}function Ap(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var N3=function(r){R3(t,r);var e=A3(t);function t(){var n;S3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Ap(mh(n),"priority",50),Ap(mh(n),"incompatibleTokens",["t","T"]),n}return I3(t,[{key:"parse",value:function(i,o,a){switch(o){case"s":return gt(Et.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return bt(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCSeconds(a,0),i}}]),t}(rt);function ma(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ma=function(t){return typeof t}:ma=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(r)}function k3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Dp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function F3(r,e,t){return e&&Dp(r.prototype,e),t&&Dp(r,t),r}function $3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&bh(r,e)}function bh(r,e){return bh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bh(r,e)}function z3(r){var e=G3();return function(){var n=xs(r),i;if(e){var o=xs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return B3(this,i)}}function B3(r,e){return e&&(ma(e)==="object"||typeof e=="function")?e:wh(r)}function wh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function G3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xs(r){return xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(r)}function Lp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var U3=function(r){$3(t,r);var e=z3(t);function t(){var n;k3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Lp(wh(n),"priority",30),Lp(wh(n),"incompatibleTokens",["t","T"]),n}return F3(t,[{key:"parse",value:function(i,o){var a=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Tt(bt(o.length,i),a)}},{key:"set",value:function(i,o,a){return i.setUTCMilliseconds(a),i}}]),t}(rt);function ba(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ba=function(t){return typeof t}:ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(r)}function Y3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Np(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function j3(r,e,t){return e&&Np(r.prototype,e),t&&Np(r,t),r}function H3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&xh(r,e)}function xh(r,e){return xh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xh(r,e)}function W3(r){var e=q3();return function(){var n=Es(r),i;if(e){var o=Es(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return V3(this,i)}}function V3(r,e){return e&&(ba(e)==="object"||typeof e=="function")?e:Eh(r)}function Eh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function q3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Es(r){return Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Es(r)}function kp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var X3=function(r){H3(t,r);var e=W3(t);function t(){var n;Y3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),kp(Eh(n),"priority",10),kp(Eh(n),"incompatibleTokens",["t","T","x"]),n}return j3(t,[{key:"parse",value:function(i,o){switch(o){case"X":return Ee(xe.basicOptionalMinutes,i);case"XX":return Ee(xe.basic,i);case"XXXX":return Ee(xe.basicOptionalSeconds,i);case"XXXXX":return Ee(xe.extendedOptionalSeconds,i);case"XXX":default:return Ee(xe.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),t}(rt);function wa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wa=function(t){return typeof t}:wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(r)}function K3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Fp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Z3(r,e,t){return e&&Fp(r.prototype,e),t&&Fp(r,t),r}function Q3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Th(r,e)}function Th(r,e){return Th=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Th(r,e)}function J3(r){var e=eI();return function(){var n=Ts(r),i;if(e){var o=Ts(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return tI(this,i)}}function tI(r,e){return e&&(wa(e)==="object"||typeof e=="function")?e:Ch(r)}function Ch(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function eI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ts(r){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(r)}function $p(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var rI=function(r){Q3(t,r);var e=J3(t);function t(){var n;K3(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),$p(Ch(n),"priority",10),$p(Ch(n),"incompatibleTokens",["t","T","X"]),n}return Z3(t,[{key:"parse",value:function(i,o){switch(o){case"x":return Ee(xe.basicOptionalMinutes,i);case"xx":return Ee(xe.basic,i);case"xxxx":return Ee(xe.basicOptionalSeconds,i);case"xxxxx":return Ee(xe.extendedOptionalSeconds,i);case"xxx":default:return Ee(xe.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),t}(rt);function xa(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xa=function(t){return typeof t}:xa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(r)}function nI(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function iI(r,e,t){return e&&zp(r.prototype,e),t&&zp(r,t),r}function oI(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Oh(r,e)}function Oh(r,e){return Oh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Oh(r,e)}function aI(r){var e=lI();return function(){var n=Cs(r),i;if(e){var o=Cs(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return sI(this,i)}}function sI(r,e){return e&&(xa(e)==="object"||typeof e=="function")?e:Mh(r)}function Mh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cs(r){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(r)}function Bp(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uI=function(r){oI(t,r);var e=aI(t);function t(){var n;nI(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Bp(Mh(n),"priority",40),Bp(Mh(n),"incompatibleTokens","*"),n}return iI(t,[{key:"parse",value:function(i){return vg(i)}},{key:"set",value:function(i,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(rt);function Ea(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ea=function(t){return typeof t}:Ea=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(r)}function hI(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Gp(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function cI(r,e,t){return e&&Gp(r.prototype,e),t&&Gp(r,t),r}function fI(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Ph(r,e)}function Ph(r,e){return Ph=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ph(r,e)}function dI(r){var e=_I();return function(){var n=Os(r),i;if(e){var o=Os(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return pI(this,i)}}function pI(r,e){return e&&(Ea(e)==="object"||typeof e=="function")?e:Sh(r)}function Sh(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Os(r){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(r)}function Up(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var vI=function(r){fI(t,r);var e=dI(t);function t(){var n;hI(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o)),Up(Sh(n),"priority",20),Up(Sh(n),"incompatibleTokens","*"),n}return cI(t,[{key:"parse",value:function(i){return vg(i)}},{key:"set",value:function(i,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(rt),yI={G:new pM,y:new TM,Y:new RM,R:new $M,u:new HM,Q:new QM,q:new oP,M:new fP,L:new mP,w:new MP,I:new NP,d:new jP,D:new ZP,E:new iS,e:new cS,c:new gS,i:new OS,a:new DS,b:new BS,B:new VS,h:new t3,H:new s3,K:new p3,k:new w3,m:new P3,s:new N3,S:new U3,X:new X3,x:new rI,t:new uI,T:new vI};function Ta(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ta=function(t){return typeof t}:Ta=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(r)}function Yp(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=gI(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw s}}}}function gI(r,e){if(r){if(typeof r=="string")return jp(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jp(r,e)}}function jp(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var mI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wI=/^'([^]*?)'?$/,xI=/''/g,EI=/\S/,TI=/[a-zA-Z]/;function Hp(r,e,t,n){var i,o,a,s,l,u,h,c,f,d,p,_,v,y,g,m,b,w;Mt(3,arguments);var x=String(r),T=String(e),E=jn(),M=(i=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:E.locale)!==null&&i!==void 0?i:fg;if(!M.match)throw new RangeError("locale must contain match property");var S=Zt((a=(s=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(h=n.locale)===null||h===void 0||(c=h.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&s!==void 0?s:(f=E.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Zt((p=(_=(v=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(g=n.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&v!==void 0?v:E.weekStartsOn)!==null&&_!==void 0?_:(b=E.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(T==="")return x===""?Gt(t):new Date(NaN);var N={firstWeekContainsDate:S,weekStartsOn:A,locale:M},L=[new oM],B=T.match(bI).map(function(J){var j=J[0];if(j in bu){var Pt=bu[j];return Pt(J,M.formatLong)}return J}).join("").match(mI),P=[],D=Yp(B),k;try{var q=function(){var j=k.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&cg(j)&&Va(j,T,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&hg(j)&&Va(j,T,r);var Pt=j[0],Ut=yI[Pt];if(Ut){var wr=Ut.incompatibleTokens;if(Array.isArray(wr)){var xr=P.find(function(De){return wr.includes(De.token)||De.token===Pt});if(xr)throw new RangeError("The format string mustn't contain `".concat(xr.fullToken,"` and `").concat(j,"` at the same time"))}else if(Ut.incompatibleTokens==="*"&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(j,"` and any other token at the same time"));P.push({token:Pt,fullToken:j});var oe=Ut.run(x,j,M.match,N);if(!oe)return{v:new Date(NaN)};L.push(oe.setter),x=oe.rest}else{if(Pt.match(TI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Pt+"`");if(j==="''"?j="'":Pt==="'"&&(j=CI(j)),x.indexOf(j)===0)x=x.slice(j.length);else return{v:new Date(NaN)}}};for(D.s();!(k=D.n()).done;){var Y=q();if(Ta(Y)==="object")return Y.v}}catch(J){D.e(J)}finally{D.f()}if(x.length>0&&EI.test(x))return new Date(NaN);var K=L.map(function(J){return J.priority}).sort(function(J,j){return j-J}).filter(function(J,j,Pt){return Pt.indexOf(J)===j}).map(function(J){return L.filter(function(j){return j.priority===J}).sort(function(j,Pt){return Pt.subPriority-j.subPriority})}).map(function(J){return J[0]}),lt=Gt(t);if(isNaN(lt.getTime()))return new Date(NaN);var C=ig(lt,ug(lt)),ct={},F=Yp(K),ft;try{for(F.s();!(ft=F.n()).done;){var St=ft.value;if(!St.validate(C,N))return new Date(NaN);var It=St.set(C,ct,N);Array.isArray(It)?(C=It[0],tM(ct,It[1])):C=It}}catch(J){F.e(J)}finally{F.f()}return C}function CI(r){return r.match(wI)[1].replace(xI,"'")}(function(){const r=function(e){return window.Vaadin.Flow.tryCatchWrapper(e,"Vaadin Date Picker")};window.Vaadin.Flow.datepickerConnector={initLazy:e=>r(function(t){if(t.$connector)return;t.$connector={};const n=function(a){try{new Date().toLocaleDateString(a)}catch{return console.warn("The locale is not supported, using default format setting (ISO 8601)."),"yyyy-MM-dd"}let l=new Date(Date.UTC(1234,4,6)).toLocaleDateString(a,{timeZone:"UTC"});return l=l.replace(/([a-zA-Z]+)/g,"'$1'").replace("06","dd").replace("6","d").replace("05","MM").replace("5","M").replace("1234","yyyy"),l.includes("d")&&l.includes("M")&&l.includes("y")?l:(console.warn("The locale is not supported, using default format setting (ISO 8601)."),"yyyy-MM-dd")},i=r(function(a){if(!a||a.length===0)throw new Error("Array of custom date formats is null or empty");function s(c){if(c.includes("yyyy")&&!c.includes("yyyyy"))return c.replace("yyyy","yy");if(c.includes("YYYY")&&!c.includes("YYYYY"))return c.replace("YYYY","YY")}function l(c){return c.includes("y")?!c.includes("yyy"):c.includes("Y")?!c.includes("YYY"):!1}function u(c){const f=a[0],d=an(`${c.year}-${c.month+1}-${c.day}`);return QO(d,f)}function h(c){const f=o();for(let d of a){const p=s(d);if(p){const v=Hp(c,p,f);if(mu(v)){let y=v.getFullYear();return t.$connector._lastParsedYear&&y===t.$connector._lastParsedYear%100&&(y=t.$connector._lastParsedYear),{day:v.getDate(),month:v.getMonth(),year:y}}}const _=Hp(c,d,f);if(mu(_)){let v=_.getFullYear();return t.$connector._lastParsedYear&&v%100===t.$connector._lastParsedYear%100&&l(d)?v=t.$connector._lastParsedYear:t.$connector._lastParsedYear=v,{day:_.getDate(),month:_.getMonth(),year:v}}}return t.$connector._lastParsedYear=void 0,!1}return{formatDate:u,parseDate:h}});function o(){const{referenceDate:a}=t.i18n;return a?new Date(a.year,a.month,a.day):new Date}t.$connector.updateI18n=r(function(a,s){const l=s&&s.dateFormats&&s.dateFormats.length>0;s&&s.referenceDate&&(s.referenceDate=tc(new Date(s.referenceDate)));const u=l?s.dateFormats:[n(a)],h=i(u);t.i18n=Object.assign({},t.i18n,s,h)})})(e)}})();const mg=document.createElement("template");mg.innerHTML=`<style>
  ${Om.cssText}
  ${Mm.cssText}
</style>`;document.head.appendChild(mg.content);function OI(r){var e=Object.keys(r.defs),t=e.length,n,i;for(n=0;n<t;++n){var o=e[n];if(!Ct(o)){var a=r.defs(o),s=a.units;!s&&a.projName==="longlat"&&(s=je.DEGREES),uy(new ac({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(n=0;n<t;++n){var l=e[n],u=Ct(l);for(i=0;i<t;++i){var h=e[i],c=Ct(h);if(!Jv(l,h))if(r.defs[l]===r.defs[h])uu([u,c]);else{var f=r(l,h);dx(u,c,jf(u,c,f.forward),jf(c,u,f.inverse))}}}}function MI(r){r("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),r("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),r("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),r.WGS84=r["EPSG:4326"],r["EPSG:3785"]=r["EPSG:3857"],r.GOOGLE=r["EPSG:3857"],r["EPSG:900913"]=r["EPSG:3857"],r["EPSG:102113"]=r["EPSG:3857"]}var Hr=1,Wr=2,On=3,PI=4,Ih=5,Wp=6378137,SI=6356752314e-3,Vp=.0066943799901413165,Mi=484813681109536e-20,O=Math.PI/2,II=.16666666666666666,RI=.04722222222222222,AI=.022156084656084655,I=1e-10,kt=.017453292519943295,Ce=57.29577951308232,nt=Math.PI/4,ji=Math.PI*2,xt=3.14159265359,Jt={};Jt.greenwich=0;Jt.lisbon=-9.131906111111;Jt.paris=2.337229166667;Jt.bogota=-74.080916666667;Jt.madrid=-3.687938888889;Jt.rome=12.452333333333;Jt.bern=7.439583333333;Jt.jakarta=106.807719444444;Jt.ferro=-17.666666666667;Jt.brussels=4.367975;Jt.stockholm=18.058277777778;Jt.athens=23.7163375;Jt.oslo=10.722916666667;const DI={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var qp=/[\s_\-\/\(\)]/g;function yr(r,e){if(r[e])return r[e];for(var t=Object.keys(r),n=e.toLowerCase().replace(qp,""),i=-1,o,a;++i<t.length;)if(o=t[i],a=o.toLowerCase().replace(qp,""),a===n)return r[o]}function Rh(r){var e={},t=r.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,l){var u=l.split("=");return u.push(!0),s[u[0].toLowerCase()]=u[1],s},{}),n,i,o,a={proj:"projName",datum:"datumCode",rf:function(s){e.rf=parseFloat(s)},lat_0:function(s){e.lat0=s*kt},lat_1:function(s){e.lat1=s*kt},lat_2:function(s){e.lat2=s*kt},lat_ts:function(s){e.lat_ts=s*kt},lon_0:function(s){e.long0=s*kt},lon_1:function(s){e.long1=s*kt},lon_2:function(s){e.long2=s*kt},alpha:function(s){e.alpha=parseFloat(s)*kt},gamma:function(s){e.rectified_grid_angle=parseFloat(s)},lonc:function(s){e.longc=s*kt},x_0:function(s){e.x0=parseFloat(s)},y_0:function(s){e.y0=parseFloat(s)},k_0:function(s){e.k0=parseFloat(s)},k:function(s){e.k0=parseFloat(s)},a:function(s){e.a=parseFloat(s)},b:function(s){e.b=parseFloat(s)},r_a:function(){e.R_A=!0},zone:function(s){e.zone=parseInt(s,10)},south:function(){e.utmSouth=!0},towgs84:function(s){e.datum_params=s.split(",").map(function(l){return parseFloat(l)})},to_meter:function(s){e.to_meter=parseFloat(s)},units:function(s){e.units=s;var l=yr(DI,s);l&&(e.to_meter=l.to_meter)},from_greenwich:function(s){e.from_greenwich=s*kt},pm:function(s){var l=yr(Jt,s);e.from_greenwich=(l||parseFloat(s))*kt},nadgrids:function(s){s==="@null"?e.datumCode="none":e.nadgrids=s},axis:function(s){var l="ewnsud";s.length===3&&l.indexOf(s.substr(0,1))!==-1&&l.indexOf(s.substr(1,1))!==-1&&l.indexOf(s.substr(2,1))!==-1&&(e.axis=s)},approx:function(){e.approx=!0}};for(n in t)i=t[n],n in a?(o=a[n],typeof o=="function"?o(i):e[o]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Hi=1,bg=2,wg=3,Ms=4,xg=5,Mc=-1,LI=/\s/,NI=/[A-Za-z]/,kI=/[A-Za-z84_]/,tl=/[,\]]/,Eg=/[\d\.E\-\+]/;function We(r){if(typeof r!="string")throw new Error("not a string");this.text=r.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Hi}We.prototype.readCharicter=function(){var r=this.text[this.place++];if(this.state!==Ms)for(;LI.test(r);){if(this.place>=this.text.length)return;r=this.text[this.place++]}switch(this.state){case Hi:return this.neutral(r);case bg:return this.keyword(r);case Ms:return this.quoted(r);case xg:return this.afterquote(r);case wg:return this.number(r);case Mc:return}};We.prototype.afterquote=function(r){if(r==='"'){this.word+='"',this.state=Ms;return}if(tl.test(r)){this.word=this.word.trim(),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in afterquote yet, index '+this.place)};We.prototype.afterItem=function(r){if(r===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Hi;return}if(r==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Hi,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Mc);return}};We.prototype.number=function(r){if(Eg.test(r)){this.word+=r;return}if(tl.test(r)){this.word=parseFloat(this.word),this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in number yet, index '+this.place)};We.prototype.quoted=function(r){if(r==='"'){this.state=xg;return}this.word+=r};We.prototype.keyword=function(r){if(kI.test(r)){this.word+=r;return}if(r==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Hi;return}if(tl.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in keyword yet, index '+this.place)};We.prototype.neutral=function(r){if(NI.test(r)){this.word=r,this.state=bg;return}if(r==='"'){this.word="",this.state=Ms;return}if(Eg.test(r)){this.word=r,this.state=wg;return}if(tl.test(r)){this.afterItem(r);return}throw new Error(`havn't handled "`+r+'" in neutral yet, index '+this.place)};We.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Mc)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function FI(r){var e=new We(r);return e.output()}function Xp(r,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var n=e?{}:r,i=t.reduce(function(o,a){return dn(a,o),o},n);e&&(r[e]=i)}function dn(r,e){if(!Array.isArray(r)){e[r]=!0;return}var t=r.shift();if(t==="PARAMETER"&&(t=r.shift()),r.length===1){if(Array.isArray(r[0])){e[t]={},dn(r[0],e[t]);return}e[t]=r[0];return}if(!r.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=r;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(r);return}Array.isArray(t)||(e[t]={});var n;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:r[0].toLowerCase(),convert:r[1]},r.length===3&&dn(r[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:r[0],a:r[1],rf:r[2]},r.length===4&&dn(r[3],e[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":r[0]=["name",r[0]],Xp(e,t,r);return;default:for(n=-1;++n<r.length;)if(!Array.isArray(r[n]))return dn(r,e[t]);return Xp(e,t,r)}}var $I=.017453292519943295;function zI(r,e){var t=e[0],n=e[1];!(t in r)&&n in r&&(r[t]=r[n],e.length===3&&(r[t]=e[2](r[t])))}function Fe(r){return r*$I}function BI(r){if(r.type==="GEOGCS"?r.projName="longlat":r.type==="LOCAL_CS"?(r.projName="identity",r.local=!0):typeof r.PROJECTION=="object"?r.projName=Object.keys(r.PROJECTION)[0]:r.projName=r.PROJECTION,r.AXIS){for(var e="",t=0,n=r.AXIS.length;t<n;++t){var i=[r.AXIS[t][0].toLowerCase(),r.AXIS[t][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(r.axis=e)}r.UNIT&&(r.units=r.UNIT.name.toLowerCase(),r.units==="metre"&&(r.units="meter"),r.UNIT.convert&&(r.type==="GEOGCS"?r.DATUM&&r.DATUM.SPHEROID&&(r.to_meter=r.UNIT.convert*r.DATUM.SPHEROID.a):r.to_meter=r.UNIT.convert));var o=r.GEOGCS;r.type==="GEOGCS"&&(o=r),o&&(o.DATUM?r.datumCode=o.DATUM.name.toLowerCase():r.datumCode=o.name.toLowerCase(),r.datumCode.slice(0,2)==="d_"&&(r.datumCode=r.datumCode.slice(2)),(r.datumCode==="new_zealand_geodetic_datum_1949"||r.datumCode==="new_zealand_1949")&&(r.datumCode="nzgd49"),(r.datumCode==="wgs_1984"||r.datumCode==="world_geodetic_system_1984")&&(r.PROJECTION==="Mercator_Auxiliary_Sphere"&&(r.sphere=!0),r.datumCode="wgs84"),r.datumCode.slice(-6)==="_ferro"&&(r.datumCode=r.datumCode.slice(0,-6)),r.datumCode.slice(-8)==="_jakarta"&&(r.datumCode=r.datumCode.slice(0,-8)),~r.datumCode.indexOf("belge")&&(r.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(r.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),r.ellps.toLowerCase().slice(0,13)==="international"&&(r.ellps="intl"),r.a=o.DATUM.SPHEROID.a,r.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(r.datum_params=o.DATUM.TOWGS84),~r.datumCode.indexOf("osgb_1936")&&(r.datumCode="osgb36"),~r.datumCode.indexOf("osni_1952")&&(r.datumCode="osni52"),(~r.datumCode.indexOf("tm65")||~r.datumCode.indexOf("geodetic_datum_of_1965"))&&(r.datumCode="ire65"),r.datumCode==="ch1903+"&&(r.datumCode="ch1903"),~r.datumCode.indexOf("israel")&&(r.datumCode="isr93")),r.b&&!isFinite(r.b)&&(r.b=r.a);function a(u){var h=r.to_meter||1;return u*h}var s=function(u){return zI(r,u)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Fe],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Fe],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Fe],["lat0","latitude_of_origin",Fe],["lat0","standard_parallel_1",Fe],["lat1","standard_parallel_1",Fe],["lat2","standard_parallel_2",Fe],["azimuth","Azimuth"],["alpha","azimuth",Fe],["srsCode","name"]];l.forEach(s),!r.long0&&r.longc&&(r.projName==="Albers_Conic_Equal_Area"||r.projName==="Lambert_Azimuthal_Equal_Area")&&(r.long0=r.longc),!r.lat_ts&&r.lat1&&(r.projName==="Stereographic_South_Pole"||r.projName==="Polar Stereographic (variant B)")&&(r.lat0=Fe(r.lat1>0?90:-90),r.lat_ts=r.lat1)}function Tg(r){var e=FI(r),t=e.shift(),n=e.shift();e.unshift(["name",n]),e.unshift(["type",t]);var i={};return dn(e,i),BI(i),i}function Yt(r){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Yt[r]=Rh(arguments[1]):Yt[r]=Tg(arguments[1]):Yt[r]=t}else if(arguments.length===1){if(Array.isArray(r))return r.map(function(n){Array.isArray(n)?Yt.apply(e,n):Yt(n)});if(typeof r=="string"){if(r in Yt)return Yt[r]}else"EPSG"in r?Yt["EPSG:"+r.EPSG]=r:"ESRI"in r?Yt["ESRI:"+r.ESRI]=r:"IAU2000"in r?Yt["IAU2000:"+r.IAU2000]=r:console.log(r);return}}MI(Yt);function GI(r){return typeof r=="string"}function UI(r){return r in Yt}var YI=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function jI(r){return YI.some(function(e){return r.indexOf(e)>-1})}var HI=["3857","900913","3785","102113"];function WI(r){var e=yr(r,"authority");if(e){var t=yr(e,"epsg");return t&&HI.indexOf(t)>-1}}function VI(r){var e=yr(r,"extension");if(e)return yr(e,"proj4")}function qI(r){return r[0]==="+"}function XI(r){if(GI(r)){if(UI(r))return Yt[r];if(jI(r)){var e=Tg(r);if(WI(e))return Yt["EPSG:3857"];var t=VI(e);return t?Rh(t):e}if(qI(r))return Rh(r)}else return r}function Kp(r,e){r=r||{};var t,n;if(!e)return r;for(n in e)t=e[n],t!==void 0&&(r[n]=t);return r}function Se(r,e,t){var n=r*e;return t/Math.sqrt(1-n*n)}function oo(r){return r<0?-1:1}function R(r){return Math.abs(r)<=xt?r:r-oo(r)*ji}function ve(r,e,t){var n=r*t,i=.5*r;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(O-e))/n}function Wi(r,e){for(var t=.5*r,n,i,o=O-2*Math.atan(e),a=0;a<=15;a++)if(n=r*Math.sin(o),i=O-2*Math.atan(e*Math.pow((1-n)/(1+n),t))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function KI(){var r=this.b/this.a;this.es=1-r*r,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Se(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ZI(r){var e=r.x,t=r.y;if(t*Ce>90&&t*Ce<-90&&e*Ce>180&&e*Ce<-180)return null;var n,i;if(Math.abs(Math.abs(t)-O)<=I)return null;if(this.sphere)n=this.x0+this.a*this.k0*R(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(nt+.5*t));else{var o=Math.sin(t),a=ve(this.e,t,o);n=this.x0+this.a*this.k0*R(e-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return r.x=n,r.y=i,r}function QI(r){var e=r.x-this.x0,t=r.y-this.y0,n,i;if(this.sphere)i=O-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(i=Wi(this.e,o),i===-9999)return null}return n=R(this.long0+e/(this.a*this.k0)),r.x=n,r.y=i,r}var JI=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const tR={init:KI,forward:ZI,inverse:QI,names:JI};function eR(){}function Zp(r){return r}var rR=["longlat","identity"];const nR={init:eR,forward:Zp,inverse:Zp,names:rR};var iR=[tR,nR],Ca={},Ps=[];function Cg(r,e){var t=Ps.length;return r.names?(Ps[t]=r,r.names.forEach(function(n){Ca[n.toLowerCase()]=t}),this):(console.log(e),!0)}function oR(r){if(!r)return!1;var e=r.toLowerCase();if(typeof Ca[e]<"u"&&Ps[Ca[e]])return Ps[Ca[e]]}function aR(){iR.forEach(Cg)}const sR={start:aR,add:Cg,get:oR};var U={};U.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};U.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};U.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};U.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};U.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};U.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};U.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};U.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};U.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};U.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};U.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};U.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};U.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};U.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};U.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};U.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};U.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};U.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};U.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};U.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};U.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};U.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};U.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};U.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};U.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};U.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};U.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};U.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};U.hough={a:6378270,rf:297,ellipseName:"Hough"};U.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};U.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};U.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};U.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};U.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};U.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};U.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};U.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};U.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};U.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};U.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};U.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var lR=U.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};U.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function uR(r,e,t,n){var i=r*r,o=e*e,a=(i-o)/i,s=0;n?(r*=1-a*(II+a*(RI+a*AI)),i=r*r,a=0):s=Math.sqrt(a);var l=(i-o)/o;return{es:a,e:s,ep2:l}}function hR(r,e,t,n,i){if(!r){var o=yr(U,n);o||(o=lR),r=o.a,e=o.b,t=o.rf}return t&&!e&&(e=(1-1/t)*r),(t===0||Math.abs(r-e)<I)&&(i=!0,e=r),{a:r,b:e,rf:t,sphere:i}}var Lt={};Lt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Lt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Lt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Lt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Lt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Lt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Lt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Lt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Lt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Lt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Lt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Lt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Lt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Lt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Lt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Lt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Lt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function cR(r,e,t,n,i,o,a){var s={};return r===void 0||r==="none"?s.datum_type=Ih:s.datum_type=PI,e&&(s.datum_params=e.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=Hr),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=Wr,s.datum_params[3]*=Mi,s.datum_params[4]*=Mi,s.datum_params[5]*=Mi,s.datum_params[6]=s.datum_params[6]/1e6+1)),a&&(s.datum_type=On,s.grids=a),s.a=t,s.b=n,s.es=i,s.ep2=o,s}var Og={};function fR(r,e){var t=new DataView(e),n=_R(t),i=vR(t,n);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=yR(t,i,n),a={header:i,subgrids:o};return Og[r]=a,a}function dR(r){if(r===void 0)return null;var e=r.split(",");return e.map(pR)}function pR(r){if(r.length===0)return null;var e=r[0]==="@";return e&&(r=r.slice(1)),r==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:r,mandatory:!e,grid:Og[r]||null,isNull:!1}}function pn(r){return r/3600*Math.PI/180}function _R(r){var e=r.getInt32(8,!1);return e===11?!1:(e=r.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function vR(r,e){return{nFields:r.getInt32(8,e),nSubgridFields:r.getInt32(24,e),nSubgrids:r.getInt32(40,e),shiftType:Ah(r,56,56+8).trim(),fromSemiMajorAxis:r.getFloat64(120,e),fromSemiMinorAxis:r.getFloat64(136,e),toSemiMajorAxis:r.getFloat64(152,e),toSemiMinorAxis:r.getFloat64(168,e)}}function Ah(r,e,t){return String.fromCharCode.apply(null,new Uint8Array(r.buffer.slice(e,t)))}function yR(r,e,t){for(var n=176,i=[],o=0;o<e.nSubgrids;o++){var a=mR(r,n,t),s=bR(r,n,a,t),l=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),u=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[pn(a.lowerLongitude),pn(a.lowerLatitude)],del:[pn(a.longitudeInterval),pn(a.latitudeInterval)],lim:[l,u],count:a.gridNodeCount,cvs:gR(s)})}return i}function gR(r){return r.map(function(e){return[pn(e.longitudeShift),pn(e.latitudeShift)]})}function mR(r,e,t){return{name:Ah(r,e+8,e+16).trim(),parent:Ah(r,e+24,e+24+8).trim(),lowerLatitude:r.getFloat64(e+72,t),upperLatitude:r.getFloat64(e+88,t),lowerLongitude:r.getFloat64(e+104,t),upperLongitude:r.getFloat64(e+120,t),latitudeInterval:r.getFloat64(e+136,t),longitudeInterval:r.getFloat64(e+152,t),gridNodeCount:r.getInt32(e+168,t)}}function bR(r,e,t,n){for(var i=e+176,o=16,a=[],s=0;s<t.gridNodeCount;s++){var l={latitudeShift:r.getFloat32(i+s*o,n),longitudeShift:r.getFloat32(i+s*o+4,n),latitudeAccuracy:r.getFloat32(i+s*o+8,n),longitudeAccuracy:r.getFloat32(i+s*o+12,n)};a.push(l)}return a}function Me(r,e){if(!(this instanceof Me))return new Me(r);e=e||function(u){if(u)throw u};var t=XI(r);if(typeof t!="object"){e(r);return}var n=Me.projections.get(t.projName);if(!n){e(r);return}if(t.datumCode&&t.datumCode!=="none"){var i=yr(Lt,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=hR(t.a,t.b,t.rf,t.ellps,t.sphere),a=uR(o.a,o.b,o.rf,t.R_A),s=dR(t.nadgrids),l=t.datum||cR(t.datumCode,t.datum_params,o.a,o.b,a.es,a.ep2,s);Kp(this,t),Kp(this,n),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=l,this.init(),e(null,this)}Me.projections=sR;Me.projections.start();function wR(r,e){return r.datum_type!==e.datum_type||r.a!==e.a||Math.abs(r.es-e.es)>5e-11?!1:r.datum_type===Hr?r.datum_params[0]===e.datum_params[0]&&r.datum_params[1]===e.datum_params[1]&&r.datum_params[2]===e.datum_params[2]:r.datum_type===Wr?r.datum_params[0]===e.datum_params[0]&&r.datum_params[1]===e.datum_params[1]&&r.datum_params[2]===e.datum_params[2]&&r.datum_params[3]===e.datum_params[3]&&r.datum_params[4]===e.datum_params[4]&&r.datum_params[5]===e.datum_params[5]&&r.datum_params[6]===e.datum_params[6]:!0}function Mg(r,e,t){var n=r.x,i=r.y,o=r.z?r.z:0,a,s,l,u;if(i<-O&&i>-1.001*O)i=-O;else if(i>O&&i<1.001*O)i=O;else{if(i<-O)return{x:-1/0,y:-1/0,z:r.z};if(i>O)return{x:1/0,y:1/0,z:r.z}}return n>Math.PI&&(n-=2*Math.PI),s=Math.sin(i),u=Math.cos(i),l=s*s,a=t/Math.sqrt(1-e*l),{x:(a+o)*u*Math.cos(n),y:(a+o)*u*Math.sin(n),z:(a*(1-e)+o)*s}}function Pg(r,e,t,n){var i=1e-12,o=i*i,a=30,s,l,u,h,c,f,d,p,_,v,y,g,m,b=r.x,w=r.y,x=r.z?r.z:0,T,E,M;if(s=Math.sqrt(b*b+w*w),l=Math.sqrt(b*b+w*w+x*x),s/t<i){if(T=0,l/t<i)return E=O,M=-n,{x:r.x,y:r.y,z:r.z}}else T=Math.atan2(w,b);u=x/l,h=s/l,c=1/Math.sqrt(1-e*(2-e)*h*h),p=h*(1-e)*c,_=u*c,m=0;do m++,d=t/Math.sqrt(1-e*_*_),M=s*p+x*_-d*(1-e*_*_),f=e*d/(d+M),c=1/Math.sqrt(1-f*(2-f)*h*h),v=h*(1-f)*c,y=u*c,g=y*p-v*_,p=v,_=y;while(g*g>o&&m<a);return E=Math.atan(y/Math.abs(v)),{x:T,y:E,z:M}}function xR(r,e,t){if(e===Hr)return{x:r.x+t[0],y:r.y+t[1],z:r.z+t[2]};if(e===Wr){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6];return{x:u*(r.x-l*r.y+s*r.z)+n,y:u*(l*r.x+r.y-a*r.z)+i,z:u*(-s*r.x+a*r.y+r.z)+o}}}function ER(r,e,t){if(e===Hr)return{x:r.x-t[0],y:r.y-t[1],z:r.z-t[2]};if(e===Wr){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],h=(r.x-n)/u,c=(r.y-i)/u,f=(r.z-o)/u;return{x:h+l*c-s*f,y:-l*h+c+a*f,z:s*h-a*c+f}}}function No(r){return r===Hr||r===Wr}function TR(r,e,t){if(wR(r,e)||r.datum_type===Ih||e.datum_type===Ih)return t;var n=r.a,i=r.es;if(r.datum_type===On){var o=Qp(r,!1,t);if(o!==0)return;n=Wp,i=Vp}var a=e.a,s=e.b,l=e.es;if(e.datum_type===On&&(a=Wp,s=SI,l=Vp),i===l&&n===a&&!No(r.datum_type)&&!No(e.datum_type))return t;if(t=Mg(t,i,n),No(r.datum_type)&&(t=xR(t,r.datum_type,r.datum_params)),No(e.datum_type)&&(t=ER(t,e.datum_type,e.datum_params)),t=Pg(t,l,a,s),e.datum_type===On){var u=Qp(e,!0,t);if(u!==0)return}return t}function Qp(r,e,t){if(r.grids===null||r.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var n={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},o=[],a=0;a<r.grids.length;a++){var s=r.grids[a];if(o.push(s.name),s.isNull){i=n;break}if(s.mandatory,s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}var l=s.grid.subgrids[0],u=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,h=l.ll[0]-u,c=l.ll[1]-u,f=l.ll[0]+(l.lim[0]-1)*l.del[0]+u,d=l.ll[1]+(l.lim[1]-1)*l.del[1]+u;if(!(c>n.y||h>n.x||d<n.y||f<n.x)&&(i=CR(n,e,l),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*Ce+" "+n.y*Ce+" tried: '"+o+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function CR(r,e,t){var n={x:Number.NaN,y:Number.NaN};if(isNaN(r.x))return n;var i={x:r.x,y:r.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=R(i.x-Math.PI)+Math.PI;var o=Jp(i,t);if(e){if(isNaN(o.x))return n;o.x=i.x-o.x,o.y=i.y-o.y;var a=9,s=1e-12,l,u;do{if(u=Jp(o,t),isNaN(u.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(u.x+o.x),y:i.y-(u.y+o.y)},o.x+=l.x,o.y+=l.y}while(a--&&Math.abs(l.x)>s&&Math.abs(l.y)>s);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=R(o.x+t.ll[0]),n.y=o.y+t.ll[1]}else isNaN(o.x)||(n.x=r.x+o.x,n.y=r.y+o.y);return n}function Jp(r,e){var t={x:r.x/e.del[0],y:r.y/e.del[1]},n={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*n.x,y:t.y-1*n.y},o={x:Number.NaN,y:Number.NaN},a;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return o;a=n.y*e.lim[0]+n.x;var s={x:e.cvs[a][0],y:e.cvs[a][1]};a++;var l={x:e.cvs[a][0],y:e.cvs[a][1]};a+=e.lim[0];var u={x:e.cvs[a][0],y:e.cvs[a][1]};a--;var h={x:e.cvs[a][0],y:e.cvs[a][1]},c=i.x*i.y,f=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return o.x=d*s.x+f*l.x+p*h.x+c*u.x,o.y=d*s.y+f*l.y+p*h.y+c*u.y,o}function t_(r,e,t){var n=t.x,i=t.y,o=t.z||0,a,s,l,u={};for(l=0;l<3;l++)if(!(e&&l===2&&t.z===void 0))switch(l===0?(a=n,"ew".indexOf(r.axis[l])!==-1?s="x":s="y"):l===1?(a=i,"ns".indexOf(r.axis[l])!==-1?s="y":s="x"):(a=o,s="z"),r.axis[l]){case"e":u[s]=a;break;case"w":u[s]=-a;break;case"n":u[s]=a;break;case"s":u[s]=-a;break;case"u":t[s]!==void 0&&(u.z=a);break;case"d":t[s]!==void 0&&(u.z=-a);break;default:return null}return u}function Sg(r){var e={x:r[0],y:r[1]};return r.length>2&&(e.z=r[2]),r.length>3&&(e.m=r[3]),e}function OR(r){e_(r.x),e_(r.y)}function e_(r){if(typeof Number.isFinite=="function"){if(Number.isFinite(r))return;throw new TypeError("coordinates must be finite numbers")}if(typeof r!="number"||r!==r||!isFinite(r))throw new TypeError("coordinates must be finite numbers")}function MR(r,e){return(r.datum.datum_type===Hr||r.datum.datum_type===Wr||r.datum.datum_type===On)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Hr||e.datum.datum_type===Wr||e.datum.datum_type===On)&&r.datumCode!=="WGS84"}function Ss(r,e,t,n){var i;Array.isArray(t)?t=Sg(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var o=t.z!==void 0;if(OR(t),r.datum&&e.datum&&MR(r,e)&&(i=new Me("WGS84"),t=Ss(r,i,t,n),r=i),n&&r.axis!=="enu"&&(t=t_(r,!1,t)),r.projName==="longlat")t={x:t.x*kt,y:t.y*kt,z:t.z||0};else if(r.to_meter&&(t={x:t.x*r.to_meter,y:t.y*r.to_meter,z:t.z||0}),t=r.inverse(t),!t)return;if(r.from_greenwich&&(t.x+=r.from_greenwich),t=TR(r.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*Ce,y:t.y*Ce,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),n&&e.axis!=="enu"?t_(e,!0,t):(o||delete t.z,t)}var r_=Me("WGS84");function Dl(r,e,t,n){var i,o,a;return Array.isArray(t)?(i=Ss(r,e,t,n)||{x:NaN,y:NaN},t.length>2?typeof r.name<"u"&&r.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.splice(3)):[i.x,i.y,t[2]].concat(t.splice(3)):[i.x,i.y].concat(t.splice(2)):[i.x,i.y]):(o=Ss(r,e,t,n),a=Object.keys(t),a.length===2||a.forEach(function(s){if(typeof r.name<"u"&&r.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;o[s]=t[s]}),o)}function n_(r){return r instanceof Me?r:r.oProj?r.oProj:Me(r)}function Qt(r,e,t){r=n_(r);var n=!1,i;return typeof e>"u"?(e=r,r=r_,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,e=r,r=r_,n=!0),e=n_(e),t?Dl(r,e,t):(i={forward:function(o,a){return Dl(r,e,o,a)},inverse:function(o,a){return Dl(e,r,o,a)}},n&&(i.oProj=e),i)}var i_=6,Ig="AJSAJS",Rg="AFAFAF",_n=65,Xt=73,le=79,wi=86,xi=90;const PR={forward:Ag,inverse:SR,toPoint:Dg};function Ag(r,e){return e=e||5,AR(IR({lat:r[1],lon:r[0]}),e)}function SR(r){var e=Pc(Ng(r.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Dg(r){var e=Pc(Ng(r.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Ll(r){return r*(Math.PI/180)}function o_(r){return 180*(r/Math.PI)}function IR(r){var e=r.lat,t=r.lon,n=6378137,i=.00669438,o=.9996,a,s,l,u,h,c,f,d=Ll(e),p=Ll(t),_,v;v=Math.floor((t+180)/6)+1,t===180&&(v=60),e>=56&&e<64&&t>=3&&t<12&&(v=32),e>=72&&e<84&&(t>=0&&t<9?v=31:t>=9&&t<21?v=33:t>=21&&t<33?v=35:t>=33&&t<42&&(v=37)),a=(v-1)*6-180+3,_=Ll(a),s=i/(1-i),l=n/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),u=Math.tan(d)*Math.tan(d),h=s*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(p-_),f=n*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var y=o*l*(c+(1-u+h)*c*c*c/6+(5-18*u+u*u+72*h-58*s)*c*c*c*c*c/120)+5e5,g=o*(f+l*Math.tan(d)*(c*c/2+(5-u+9*h+4*h*h)*c*c*c*c/24+(61-58*u+u*u+600*h-330*s)*c*c*c*c*c*c/720));return e<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(y),zoneNumber:v,zoneLetter:RR(e)}}function Pc(r){var e=r.northing,t=r.easting,n=r.zoneLetter,i=r.zoneNumber;if(i<0||i>60)return null;var o=.9996,a=6378137,s=.00669438,l,u=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),h,c,f,d,p,_,v,y,g,m=t-5e5,b=e;n<"N"&&(b-=1e7),v=(i-1)*6-180+3,l=s/(1-s),_=b/o,y=_/(a*(1-s/4-3*s*s/64-5*s*s*s/256)),g=y+(3*u/2-27*u*u*u/32)*Math.sin(2*y)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*y)+151*u*u*u/96*Math.sin(6*y),h=a/Math.sqrt(1-s*Math.sin(g)*Math.sin(g)),c=Math.tan(g)*Math.tan(g),f=l*Math.cos(g)*Math.cos(g),d=a*(1-s)/Math.pow(1-s*Math.sin(g)*Math.sin(g),1.5),p=m/(h*o);var w=g-h*Math.tan(g)/d*(p*p/2-(5+3*c+10*f-4*f*f-9*l)*p*p*p*p/24+(61+90*c+298*f+45*c*c-252*l-3*f*f)*p*p*p*p*p*p/720);w=o_(w);var x=(p-(1+2*c+f)*p*p*p/6+(5-2*f+28*c-3*f*f+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(g);x=v+o_(x);var T;if(r.accuracy){var E=Pc({northing:r.northing+r.accuracy,easting:r.easting+r.accuracy,zoneLetter:r.zoneLetter,zoneNumber:r.zoneNumber});T={top:E.lat,right:E.lon,bottom:w,left:x}}else T={lat:w,lon:x};return T}function RR(r){var e="Z";return 84>=r&&r>=72?e="X":72>r&&r>=64?e="W":64>r&&r>=56?e="V":56>r&&r>=48?e="U":48>r&&r>=40?e="T":40>r&&r>=32?e="S":32>r&&r>=24?e="R":24>r&&r>=16?e="Q":16>r&&r>=8?e="P":8>r&&r>=0?e="N":0>r&&r>=-8?e="M":-8>r&&r>=-16?e="L":-16>r&&r>=-24?e="K":-24>r&&r>=-32?e="J":-32>r&&r>=-40?e="H":-40>r&&r>=-48?e="G":-48>r&&r>=-56?e="F":-56>r&&r>=-64?e="E":-64>r&&r>=-72?e="D":-72>r&&r>=-80&&(e="C"),e}function AR(r,e){var t="00000"+r.easting,n="00000"+r.northing;return r.zoneNumber+r.zoneLetter+DR(r.easting,r.northing,r.zoneNumber)+t.substr(t.length-5,e)+n.substr(n.length-5,e)}function DR(r,e,t){var n=Lg(t),i=Math.floor(r/1e5),o=Math.floor(e/1e5)%20;return LR(i,o,n)}function Lg(r){var e=r%i_;return e===0&&(e=i_),e}function LR(r,e,t){var n=t-1,i=Ig.charCodeAt(n),o=Rg.charCodeAt(n),a=i+r-1,s=o+e,l=!1;a>xi&&(a=a-xi+_n-1,l=!0),(a===Xt||i<Xt&&a>Xt||(a>Xt||i<Xt)&&l)&&a++,(a===le||i<le&&a>le||(a>le||i<le)&&l)&&(a++,a===Xt&&a++),a>xi&&(a=a-xi+_n-1),s>wi?(s=s-wi+_n-1,l=!0):l=!1,(s===Xt||o<Xt&&s>Xt||(s>Xt||o<Xt)&&l)&&s++,(s===le||o<le&&s>le||(s>le||o<le)&&l)&&(s++,s===Xt&&s++),s>wi&&(s=s-wi+_n-1);var u=String.fromCharCode(a)+String.fromCharCode(s);return u}function Ng(r){if(r&&r.length===0)throw"MGRSPoint coverting from nothing";for(var e=r.length,t=null,n="",i,o=0;!/[A-Z]/.test(i=r.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+r;n+=i,o++}var a=parseInt(n,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+r;var s=r.charAt(o++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+r;t=r.substring(o,o+=2);for(var l=Lg(a),u=NR(t.charAt(0),l),h=kR(t.charAt(1),l);h<FR(s);)h+=2e6;var c=e-o;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+r;var f=c/2,d=0,p=0,_,v,y,g,m;return f>0&&(_=1e5/Math.pow(10,f),v=r.substring(o,o+f),d=parseFloat(v)*_,y=r.substring(o+f),p=parseFloat(y)*_),g=d+u,m=p+h,{easting:g,northing:m,zoneLetter:s,zoneNumber:a,accuracy:_}}function NR(r,e){for(var t=Ig.charCodeAt(e-1),n=1e5,i=!1;t!==r.charCodeAt(0);){if(t++,t===Xt&&t++,t===le&&t++,t>xi){if(i)throw"Bad character: "+r;t=_n,i=!0}n+=1e5}return n}function kR(r,e){if(r>"V")throw"MGRSPoint given invalid Northing "+r;for(var t=Rg.charCodeAt(e-1),n=0,i=!1;t!==r.charCodeAt(0);){if(t++,t===Xt&&t++,t===le&&t++,t>wi){if(i)throw"Bad character: "+r;t=_n,i=!0}n+=1e5}return n}function FR(r){var e;switch(r){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+r}function Fn(r,e,t){if(!(this instanceof Fn))return new Fn(r,e,t);if(Array.isArray(r))this.x=r[0],this.y=r[1],this.z=r[2]||0;else if(typeof r=="object")this.x=r.x,this.y=r.y,this.z=r.z||0;else if(typeof r=="string"&&typeof e>"u"){var n=r.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=r,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Fn.fromMGRS=function(r){return new Fn(Dg(r))};Fn.prototype.toMGRS=function(r){return Ag([this.x,this.y],r)};var $R=1,zR=.25,a_=.046875,s_=.01953125,l_=.01068115234375,BR=.75,GR=.46875,UR=.013020833333333334,YR=.007120768229166667,jR=.3645833333333333,HR=.005696614583333333,WR=.3076171875;function kg(r){var e=[];e[0]=$R-r*(zR+r*(a_+r*(s_+r*l_))),e[1]=r*(BR-r*(a_+r*(s_+r*l_)));var t=r*r;return e[2]=t*(GR-r*(UR+r*YR)),t*=r,e[3]=t*(jR-r*HR),e[4]=t*r*WR,e}function el(r,e,t,n){return t*=e,e*=e,n[0]*r-t*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var VR=20;function Fg(r,e,t){for(var n=1/(1-e),i=r,o=VR;o;--o){var a=Math.sin(i),s=1-e*a*a;if(s=(el(i,a,Math.cos(i),t)-r)*(s*Math.sqrt(s))*n,i-=s,Math.abs(s)<I)return i}return i}function qR(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=kg(this.es),this.ml0=el(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function XR(r){var e=r.x,t=r.y,n=R(e-this.long0),i,o,a,s=Math.sin(t),l=Math.cos(t);if(this.es){var h=l*n,c=Math.pow(h,2),f=this.ep2*Math.pow(l,2),d=Math.pow(f,2),p=Math.abs(l)>I?Math.tan(t):0,_=Math.pow(p,2),v=Math.pow(_,2);i=1-this.es*Math.pow(s,2),h=h/Math.sqrt(i);var y=el(t,s,l,this.en);o=this.a*(this.k0*h*(1+c/6*(1-_+f+c/20*(5-18*_+v+14*f-58*_*f+c/42*(61+179*v-v*_-479*_)))))+this.x0,a=this.a*(this.k0*(y-this.ml0+s*n*h/2*(1+c/12*(5-_+9*f+4*d+c/30*(61+v-58*_+270*f-330*_*f+c/56*(1385+543*v-v*_-3111*_))))))+this.y0}else{var u=l*Math.sin(n);if(Math.abs(Math.abs(u)-1)<I)return 93;if(o=.5*this.a*this.k0*Math.log((1+u)/(1-u))+this.x0,a=l*Math.cos(n)/Math.sqrt(1-Math.pow(u,2)),u=Math.abs(a),u>=1){if(u-1>I)return 93;a=0}else a=Math.acos(a);t<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return r.x=o,r.y=a,r}function KR(r){var e,t,n,i,o=(r.x-this.x0)*(1/this.a),a=(r.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,t=Fg(e,this.es,this.en),Math.abs(t)<O){var c=Math.sin(t),f=Math.cos(t),d=Math.abs(f)>I?Math.tan(t):0,p=this.ep2*Math.pow(f,2),_=Math.pow(p,2),v=Math.pow(d,2),y=Math.pow(v,2);e=1-this.es*Math.pow(c,2);var g=o*Math.sqrt(e)/this.k0,m=Math.pow(g,2);e=e*d,n=t-e*m/(1-this.es)*.5*(1-m/12*(5+3*v-9*p*v+p-4*_-m/30*(61+90*v-252*p*v+45*y+46*p-m/56*(1385+3633*v+4095*y+1574*y*v)))),i=R(this.long0+g*(1-m/6*(1+2*v+p-m/20*(5+28*v+24*y+8*p*v+6*p-m/42*(61+662*v+1320*y+720*y*v))))/f)}else n=O*oo(a),i=0;else{var s=Math.exp(o/this.k0),l=.5*(s-1/s),u=this.lat0+a/this.k0,h=Math.cos(u);e=Math.sqrt((1-Math.pow(h,2))/(1+Math.pow(l,2))),n=Math.asin(e),a<0&&(n=-n),l===0&&h===0?i=0:i=R(Math.atan2(l,h)+this.long0)}return r.x=i,r.y=n,r}var ZR=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Oa={init:qR,forward:XR,inverse:KR,names:ZR};function $g(r){var e=Math.exp(r);return e=(e-1/e)/2,e}function _e(r,e){r=Math.abs(r),e=Math.abs(e);var t=Math.max(r,e),n=Math.min(r,e)/(t||1);return t*Math.sqrt(1+Math.pow(n,2))}function QR(r){var e=1+r,t=e-1;return t===0?r:r*Math.log(e)/t}function JR(r){var e=Math.abs(r);return e=QR(e*(1+e/(_e(1,e)+1))),r<0?-e:e}function Sc(r,e){for(var t=2*Math.cos(2*e),n=r.length-1,i=r[n],o=0,a;--n>=0;)a=-o+t*i+r[n],o=i,i=a;return e+a*Math.sin(2*e)}function tA(r,e){for(var t=2*Math.cos(e),n=r.length-1,i=r[n],o=0,a;--n>=0;)a=-o+t*i+r[n],o=i,i=a;return Math.sin(e)*a}function eA(r){var e=Math.exp(r);return e=(e+1/e)/2,e}function zg(r,e,t){for(var n=Math.sin(e),i=Math.cos(e),o=$g(t),a=eA(t),s=2*i*a,l=-2*n*o,u=r.length-1,h=r[u],c=0,f=0,d=0,p,_;--u>=0;)p=f,_=c,f=h,c=d,h=-p+s*f-l*c+r[u],d=-_+l*f+s*c;return s=n*a,l=i*o,[s*h-l*d,s*d+l*h]}function rA(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Oa.init.apply(this),this.forward=Oa.forward,this.inverse=Oa.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var r=this.es/(1+Math.sqrt(1-this.es)),e=r/(2-r),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var n=Sc(this.cbg,this.lat0);this.Zb=-this.Qn*(n+tA(this.gtu,2*n))}function nA(r){var e=R(r.x-this.long0),t=r.y;t=Sc(this.cbg,t);var n=Math.sin(t),i=Math.cos(t),o=Math.sin(e),a=Math.cos(e);t=Math.atan2(n,a*i),e=Math.atan2(o*i,_e(n,i*a)),e=JR(Math.tan(e));var s=zg(this.gtu,2*t,2*e);t=t+s[0],e=e+s[1];var l,u;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*t+this.Zb)+this.y0):(l=1/0,u=1/0),r.x=l,r.y=u,r}function iA(r){var e=(r.x-this.x0)*(1/this.a),t=(r.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var o=zg(this.utg,2*t,2*e);t=t+o[0],e=e+o[1],e=Math.atan($g(e));var a=Math.sin(t),s=Math.cos(t),l=Math.sin(e),u=Math.cos(e);t=Math.atan2(a*u,_e(l,u*s)),e=Math.atan2(l,u*s),n=R(e+this.long0),i=Sc(this.cgb,t)}else n=1/0,i=1/0;return r.x=n,r.y=i,r}var oA=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const Ma={init:rA,forward:nA,inverse:iA,names:oA};function aA(r,e){if(r===void 0){if(r=Math.floor((R(e)+Math.PI)*30/Math.PI)+1,r<0)return 0;if(r>60)return 60}return r}var sA="etmerc";function lA(){var r=aA(this.zone,this.long0);if(r===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(r)-183)*kt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ma.init.apply(this),this.forward=Ma.forward,this.inverse=Ma.inverse}var uA=["Universal Transverse Mercator System","utm"];const hA={init:lA,names:uA,dependsOn:sA};function Ic(r,e){return Math.pow((1-r)/(1+r),e)}var cA=20;function fA(){var r=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*r*r),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(r/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+nt)/(Math.pow(Math.tan(.5*this.lat0+nt),this.C)*Ic(this.e*r,this.ratexp))}function dA(r){var e=r.x,t=r.y;return r.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+nt),this.C)*Ic(this.e*Math.sin(t),this.ratexp))-O,r.x=this.C*e,r}function pA(r){for(var e=1e-14,t=r.x/this.C,n=r.y,i=Math.pow(Math.tan(.5*n+nt)/this.K,1/this.C),o=cA;o>0&&(n=2*Math.atan(i*Ic(this.e*Math.sin(r.y),-.5*this.e))-O,!(Math.abs(n-r.y)<e));--o)r.y=n;return o?(r.x=t,r.y=n,r):null}var _A=["gauss"];const Rc={init:fA,forward:dA,inverse:pA,names:_A};function vA(){Rc.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function yA(r){var e,t,n,i;return r.x=R(r.x-this.long0),Rc.forward.apply(this,[r]),e=Math.sin(r.y),t=Math.cos(r.y),n=Math.cos(r.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*n),r.x=i*t*Math.sin(r.x),r.y=i*(this.cosc0*e-this.sinc0*t*n),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function gA(r){var e,t,n,i,o;if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,o=Math.sqrt(r.x*r.x+r.y*r.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),t=Math.cos(a),i=Math.asin(t*this.sinc0+r.y*e*this.cosc0/o),n=Math.atan2(r.x*e,o*this.cosc0*t-r.y*this.sinc0*e)}else i=this.phic0,n=0;return r.x=n,r.y=i,Rc.inverse.apply(this,[r]),r.x=R(r.x+this.long0),r}var mA=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const bA={init:vA,forward:yA,inverse:gA,names:mA};function wA(r,e,t){return e*=t,Math.tan(.5*(O+r))*Math.pow((1-e)/(1+e),.5*t)}function xA(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=I&&(this.k0=.5*(1+oo(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=I&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=I&&(this.k0=.5*this.cons*Se(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ve(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Se(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-O,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function EA(r){var e=r.x,t=r.y,n=Math.sin(t),i=Math.cos(t),o,a,s,l,u,h,c=R(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=I&&Math.abs(t+this.lat0)<=I?(r.x=NaN,r.y=NaN,r):this.sphere?(o=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(c)),r.x=this.a*o*i*Math.sin(c)+this.x0,r.y=this.a*o*(this.coslat0*n-this.sinlat0*i*Math.cos(c))+this.y0,r):(a=2*Math.atan(this.ssfn_(t,n,this.e))-O,l=Math.cos(a),s=Math.sin(a),Math.abs(this.coslat0)<=I?(u=ve(this.e,t*this.con,this.con*n),h=2*this.a*this.k0*u/this.cons,r.x=this.x0+h*Math.sin(e-this.long0),r.y=this.y0-this.con*h*Math.cos(e-this.long0),r):(Math.abs(this.sinlat0)<I?(o=2*this.a*this.k0/(1+l*Math.cos(c)),r.y=o*s):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*l*Math.cos(c))),r.y=o*(this.cosX0*s-this.sinX0*l*Math.cos(c))+this.y0),r.x=o*l*Math.sin(c)+this.x0,r))}function TA(r){r.x-=this.x0,r.y-=this.y0;var e,t,n,i,o,a=Math.sqrt(r.x*r.x+r.y*r.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,t=this.lat0,a<=I?(r.x=e,r.y=t,r):(t=Math.asin(Math.cos(s)*this.sinlat0+r.y*Math.sin(s)*this.coslat0/a),Math.abs(this.coslat0)<I?this.lat0>0?e=R(this.long0+Math.atan2(r.x,-1*r.y)):e=R(this.long0+Math.atan2(r.x,r.y)):e=R(this.long0+Math.atan2(r.x*Math.sin(s),a*this.coslat0*Math.cos(s)-r.y*this.sinlat0*Math.sin(s))),r.x=e,r.y=t,r)}else if(Math.abs(this.coslat0)<=I){if(a<=I)return t=this.lat0,e=this.long0,r.x=e,r.y=t,r;r.x*=this.con,r.y*=this.con,n=a*this.cons/(2*this.a*this.k0),t=this.con*Wi(this.e,n),e=this.con*R(this.con*this.long0+Math.atan2(r.x,-1*r.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=I?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+r.y*Math.sin(i)*this.cosX0/a),e=R(this.long0+Math.atan2(r.x*Math.sin(i),a*this.cosX0*Math.cos(i)-r.y*this.sinX0*Math.sin(i)))),t=-1*Wi(this.e,Math.tan(.5*(O+o)));return r.x=e,r.y=t,r}var CA=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const OA={init:xA,forward:EA,inverse:TA,names:CA,ssfn_:wA};function MA(){var r=this.lat0;this.lambda0=this.long0;var e=Math.sin(r),t=this.a,n=this.rf,i=1/n,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(r),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+r/2)),u=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*l+this.alpha*a/2*u}function PA(r){var e=Math.log(Math.tan(Math.PI/4-r.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(r.y))/(1-this.e*Math.sin(r.y))),n=-this.alpha*(e+t)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(r.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return r.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,r.x=this.R*a+this.x0,r}function SA(r){for(var e=r.x-this.x0,t=r.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,l=0,u=o,h=-1e3,c=0;Math.abs(u-h)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return r.x=s,r.y=u,r}var IA=["somerc"];const RA={init:MA,forward:PA,inverse:SA,names:IA};var un=1e-7;function AA(r){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof r.PROJECTION=="object"?Object.keys(r.PROJECTION)[0]:r.PROJECTION;return"no_uoff"in r||"no_off"in r||e.indexOf(t)!==-1}function DA(){var r,e,t,n,i,o,a,s,l,u,h=0,c,f=0,d=0,p=0,_=0,v=0,y=0;this.no_off=AA(this),this.no_rot="no_rot"in this;var g=!1;"alpha"in this&&(g=!0);var m=!1;if("rectified_grid_angle"in this&&(m=!0),g&&(y=this.alpha),m&&(h=this.rectified_grid_angle*kt),g||m)f=this.longc;else if(d=this.long1,_=this.lat1,p=this.long2,v=this.lat2,Math.abs(_-v)<=un||(r=Math.abs(_))<=un||Math.abs(r-O)<=un||Math.abs(Math.abs(this.lat0)-O)<=un||Math.abs(Math.abs(v)-O)<=un)throw new Error;var b=1-this.es;e=Math.sqrt(b),Math.abs(this.lat0)>I?(s=Math.sin(this.lat0),t=Math.cos(this.lat0),r=1-this.es*s*s,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*e/r,n=this.B*e/(t*Math.sqrt(r)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(ve(this.e,this.lat0,s),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),g||m?(g?(c=Math.asin(Math.sin(y)/n),m||(h=y)):(c=h,y=Math.asin(n*Math.sin(c))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(o=Math.pow(ve(this.e,_,Math.sin(_)),this.B),a=Math.pow(ve(this.e,v,Math.sin(v)),this.B),i=this.E/o,l=(a-o)/(a+o),u=this.E*this.E,u=(u-a*o)/(u+a*o),r=d-p,r<-Math.pi?p-=ji:r>Math.pi&&(p+=ji),this.lam0=R(.5*(d+p)-Math.atan(u*Math.tan(.5*this.B*(d-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*R(d-this.lam0))/(i-1/i)),h=y=Math.asin(n*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(h),this.cosrot=Math.cos(h),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(nt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(nt+i))}function LA(r){var e={},t,n,i,o,a,s,l,u;if(r.x=r.x-this.lam0,Math.abs(Math.abs(r.y)-O)>I){if(a=this.E/Math.pow(ve(this.e,r.y,Math.sin(r.y)),this.B),s=1/a,t=.5*(a-s),n=.5*(a+s),o=Math.sin(this.B*r.x),i=(t*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(i)-1)<I)throw new Error;u=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*r.x),Math.abs(s)<un?l=this.A*r.x:l=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,s)}else u=r.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*r.y;return this.no_rot?(e.x=l,e.y=u):(l-=this.u_0,e.x=u*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-u*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function NA(r){var e,t,n,i,o,a,s,l={};if(r.x=(r.x-this.x0)*(1/this.a),r.y=(r.y-this.y0)*(1/this.a),this.no_rot?(t=r.y,e=r.x):(t=r.x*this.cosrot-r.y*this.sinrot,e=r.y*this.cosrot+r.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*t),i=.5*(n-1/n),o=.5*(n+1/n),a=Math.sin(this.BrA*e),s=(a*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(s)-1)<I)l.x=0,l.y=s<0?-O:O;else{if(l.y=this.E/Math.sqrt((1+s)/(1-s)),l.y=Wi(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var kA=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const FA={init:DA,forward:LA,inverse:NA,names:kA};function $A(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<I)){var r=this.b/this.a;this.e=Math.sqrt(1-r*r);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),n=Se(this.e,e,t),i=ve(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Se(this.e,o,a),l=ve(this.e,this.lat2,o),u=ve(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>I?this.ns=Math.log(n/s)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function zA(r){var e=r.x,t=r.y;Math.abs(2*Math.abs(t)-Math.PI)<=I&&(t=oo(t)*(O-2*I));var n=Math.abs(Math.abs(t)-O),i,o;if(n>I)i=ve(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(n=t*this.ns,n<=0)return null;o=0}var a=this.ns*R(e-this.long0);return r.x=this.k0*(o*Math.sin(a))+this.x0,r.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,r}function BA(r){var e,t,n,i,o,a=(r.x-this.x0)/this.k0,s=this.rh-(r.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),t=1):(e=-Math.sqrt(a*a+s*s),t=-1);var l=0;if(e!==0&&(l=Math.atan2(t*a,t*s)),e!==0||this.ns>0){if(t=1/this.ns,n=Math.pow(e/(this.a*this.f0),t),i=Wi(this.e,n),i===-9999)return null}else i=-O;return o=R(l/this.ns+this.long0),r.x=o,r.y=i,r}var GA=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const UA={init:$A,forward:zA,inverse:BA,names:GA};function YA(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function jA(r){var e,t,n,i,o,a,s,l=r.x,u=r.y,h=R(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),n=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(n)),o=Math.asin(Math.cos(t)*Math.sin(n)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),r.y=s*Math.cos(a)/1,r.x=s*Math.sin(a)/1,this.czech||(r.y*=-1,r.x*=-1),r}function HA(r){var e,t,n,i,o,a,s,l,u=r.x;r.x=r.y,r.y=u,this.czech||(r.y*=-1,r.x*=-1),a=Math.sqrt(r.x*r.x+r.y*r.y),o=Math.atan2(r.y,r.x),i=o/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),t=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),r.x=this.long0-t/this.alfa,s=e,l=0;var h=0;do r.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-r.y)<1e-10&&(l=1),s=r.y,h+=1;while(l===0&&h<15);return h>=15?null:r}var WA=["Krovak","krovak"];const VA={init:YA,forward:jA,inverse:HA,names:WA};function Ht(r,e,t,n,i){return r*i-e*Math.sin(2*i)+t*Math.sin(4*i)-n*Math.sin(6*i)}function ao(r){return 1-.25*r*(1+r/16*(3+1.25*r))}function so(r){return .375*r*(1+.25*r*(1+.46875*r))}function lo(r){return .05859375*r*r*(1+.75*r)}function uo(r){return r*r*r*(35/3072)}function $n(r,e,t){var n=e*t;return r/Math.sqrt(1-n*n)}function Hn(r){return Math.abs(r)<O?r:r-oo(r)*Math.PI}function Is(r,e,t,n,i){var o,a;o=r/e;for(var s=0;s<15;s++)if(a=(r-(e*o-t*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*t*Math.cos(2*o)+4*n*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}function qA(){this.sphere||(this.e0=ao(this.es),this.e1=so(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.ml0=this.a*Ht(this.e0,this.e1,this.e2,this.e3,this.lat0))}function XA(r){var e,t,n=r.x,i=r.y;if(n=R(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=$n(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),u=n*Math.cos(i),h=u*u,c=this.es*a*a/(1-this.es),f=this.a*Ht(this.e0,this.e1,this.e2,this.e3,i);e=s*u*(1-h*l*(1/6-(8-l+8*c)*h/120)),t=f-this.ml0+s*o/a*h*(.5+(5-l+6*c)*h/24)}return r.x=e+this.x0,r.y=t+this.y0,r}function KA(r){r.x-=this.x0,r.y-=this.y0;var e=r.x/this.a,t=r.y/this.a,n,i;if(this.sphere){var o=t+this.lat0;n=Math.asin(Math.sin(o)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(o))}else{var a=this.ml0/this.a+t,s=Is(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-O)<=I)return r.x=this.long0,r.y=O,t<0&&(r.y*=-1),r;var l=$n(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(s),2),c=e*this.a/l,f=c*c;n=s-l*Math.tan(s)/u*c*c*(.5-(1+3*h)*c*c/24),i=c*(1-f*(h/3+(1+3*h)*h*f/15))/Math.cos(s)}return r.x=R(i+this.long0),r.y=Hn(n),r}var ZA=["Cassini","Cassini_Soldner","cass"];const QA={init:qA,forward:XA,inverse:KA,names:ZA};function pr(r,e){var t;return r>1e-7?(t=r*e,(1-r*r)*(e/(1-t*t)-.5/r*Math.log((1-t)/(1+t)))):2*e}var JA=1,t5=2,e5=3,r5=4;function n5(){var r=Math.abs(this.lat0);if(Math.abs(r-O)<I?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(r)<I?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=pr(this.e,1),this.mmf=.5/(1-this.es),this.apa=f5(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=pr(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function i5(r){var e,t,n,i,o,a,s,l,u,h,c=r.x,f=r.y;if(c=R(c-this.long0),this.sphere){if(o=Math.sin(f),h=Math.cos(f),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+h*n:1+this.sinph0*o+this.cosph0*h*n,t<=I)return null;t=Math.sqrt(2/t),e=t*h*Math.sin(c),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.lat0)<I)return null;t=nt-f*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(c),t*=n}}else{switch(s=0,l=0,u=0,n=Math.cos(c),i=Math.sin(c),o=Math.sin(f),a=pr(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*n;break;case this.EQUIT:u=1+l*n;break;case this.N_POLE:u=O+f,a=this.qp-a;break;case this.S_POLE:u=f-O,a=this.qp+a;break}if(Math.abs(u)<I)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),this.mode===this.OBLIQ?t=this.ymf*u*(this.cosb1*s-this.sinb1*l*n):t=(u=Math.sqrt(2/(1+l*n)))*s*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*i,t=n*(this.mode===this.S_POLE?u:-u)):e=t=0;break}}return r.x=this.a*e+this.x0,r.y=this.a*t+this.y0,r}function o5(r){r.x-=this.x0,r.y-=this.y0;var e=r.x/this.a,t=r.y/this.a,n,i,o,a,s,l,u;if(this.sphere){var h=0,c,f=0;if(c=Math.sqrt(e*e+t*t),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(i),h=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=I?0:Math.asin(t*f/c),e*=f,t=h*c;break;case this.OBLIQ:i=Math.abs(c)<=I?this.lat0:Math.asin(h*this.sinph0+t*f*this.cosph0/c),e*=f*this.cosph0,t=(h-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:t=-t,i=O-i;break;case this.S_POLE:i-=O;break}n=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,l=Math.sqrt(e*e+t*t),l<I)return r.x=this.long0,r.y=this.lat0,r;a=2*Math.asin(.5*l/this.rq),o=Math.cos(a),e*=a=Math.sin(a),this.mode===this.OBLIQ?(u=o*this.sinb1+t*a*this.cosb1/l,s=this.qp*u,t=l*this.cosb1*o-t*this.sinb1*a):(u=t*a/l,s=this.qp*u,t=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),s=e*e+t*t,!s)return r.x=this.long0,r.y=this.lat0,r;u=1-s/this.qp,this.mode===this.S_POLE&&(u=-u)}n=Math.atan2(e,t),i=d5(Math.asin(u),this.apa)}return r.x=R(this.long0+n),r.y=i,r}var a5=.3333333333333333,s5=.17222222222222222,l5=.10257936507936508,u5=.06388888888888888,h5=.0664021164021164,c5=.016415012942191543;function f5(r){var e,t=[];return t[0]=r*a5,e=r*r,t[0]+=e*s5,t[1]=e*u5,e*=r,t[0]+=e*l5,t[1]+=e*h5,t[2]=e*c5,t}function d5(r,e){var t=r+r;return r+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var p5=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const _5={init:n5,forward:i5,inverse:o5,names:p5,S_POLE:JA,N_POLE:t5,EQUIT:e5,OBLIQ:r5};function gr(r){return Math.abs(r)>1&&(r=r>1?1:-1),Math.asin(r)}function v5(){Math.abs(this.lat1+this.lat2)<I||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Se(this.e3,this.sin_po,this.cos_po),this.qs1=pr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Se(this.e3,this.sin_po,this.cos_po),this.qs2=pr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=pr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>I?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function y5(r){var e=r.x,t=r.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var n=pr(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*R(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return r.x=a,r.y=s,r}function g5(r){var e,t,n,i,o,a;return r.x-=this.x0,r.y=this.rh-r.y+this.y0,this.ns0>=0?(e=Math.sqrt(r.x*r.x+r.y*r.y),n=1):(e=-Math.sqrt(r.x*r.x+r.y*r.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*r.x,n*r.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(t=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,t)),o=R(i/this.ns0+this.long0),r.x=o,r.y=a,r}function m5(r,e){var t,n,i,o,a,s=gr(.5*e);if(r<I)return s;for(var l=r*r,u=1;u<=25;u++)if(t=Math.sin(s),n=Math.cos(s),i=r*t,o=1-i*i,a=.5*o*o/n*(e/(1-l)-t/o+.5/r*Math.log((1-i)/(1+i))),s=s+a,Math.abs(a)<=1e-7)return s;return null}var b5=["Albers_Conic_Equal_Area","Albers","aea"];const w5={init:v5,forward:y5,inverse:g5,names:b5,phi1z:m5};function x5(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function E5(r){var e,t,n,i,o,a,s,l,u=r.x,h=r.y;return n=R(u-this.long0),e=Math.sin(h),t=Math.cos(h),i=Math.cos(n),a=this.sin_p14*e+this.cos_p14*t*i,o=1,a>0||Math.abs(a)<=I?(s=this.x0+this.a*o*t*Math.sin(n)/a,l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*i)/a):(s=this.x0+this.infinity_dist*t*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*i)),r.x=s,r.y=l,r}function T5(r){var e,t,n,i,o,a;return r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,r.x/=this.k0,r.y/=this.k0,(e=Math.sqrt(r.x*r.x+r.y*r.y))?(i=Math.atan2(e,this.rc),t=Math.sin(i),n=Math.cos(i),a=gr(n*this.sin_p14+r.y*t*this.cos_p14/e),o=Math.atan2(r.x*t,e*this.cos_p14*n-r.y*this.sin_p14*t),o=R(this.long0+o)):(a=this.phic0,o=0),r.x=o,r.y=a,r}var C5=["gnom"];const O5={init:x5,forward:E5,inverse:T5,names:C5};function M5(r,e){var t=1-(1-r*r)/(2*r)*Math.log((1-r)/(1+r));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*O:O;for(var n=Math.asin(.5*e),i,o,a,s,l=0;l<30;l++)if(o=Math.sin(n),a=Math.cos(n),s=r*o,i=Math.pow(1-s*s,2)/(2*a)*(e/(1-r*r)-o/(1-s*s)+.5/r*Math.log((1-s)/(1+s))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function P5(){this.sphere||(this.k0=Se(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function S5(r){var e=r.x,t=r.y,n,i,o=R(e-this.long0);if(this.sphere)n=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var a=pr(this.e,Math.sin(t));n=this.x0+this.a*this.k0*o,i=this.y0+this.a*a*.5/this.k0}return r.x=n,r.y=i,r}function I5(r){r.x-=this.x0,r.y-=this.y0;var e,t;return this.sphere?(e=R(this.long0+r.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(r.y/this.a*Math.cos(this.lat_ts))):(t=M5(this.e,2*r.y*this.k0/this.a),e=R(this.long0+r.x/(this.a*this.k0))),r.x=e,r.y=t,r}var R5=["cea"];const A5={init:P5,forward:S5,inverse:I5,names:R5};function D5(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function L5(r){var e=r.x,t=r.y,n=R(e-this.long0),i=Hn(t-this.lat0);return r.x=this.x0+this.a*n*this.rc,r.y=this.y0+this.a*i,r}function N5(r){var e=r.x,t=r.y;return r.x=R(this.long0+(e-this.x0)/(this.a*this.rc)),r.y=Hn(this.lat0+(t-this.y0)/this.a),r}var k5=["Equirectangular","Equidistant_Cylindrical","eqc"];const F5={init:D5,forward:L5,inverse:N5,names:k5};var u_=20;function $5(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ao(this.es),this.e1=so(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.ml0=this.a*Ht(this.e0,this.e1,this.e2,this.e3,this.lat0)}function z5(r){var e=r.x,t=r.y,n,i,o,a=R(e-this.long0);if(o=a*Math.sin(t),this.sphere)Math.abs(t)<=I?(n=this.a*a,i=-1*this.a*this.lat0):(n=this.a*Math.sin(o)/Math.tan(t),i=this.a*(Hn(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=I)n=this.a*a,i=-1*this.ml0;else{var s=$n(this.a,this.e,Math.sin(t))/Math.tan(t);n=s*Math.sin(o),i=this.a*Ht(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+s*(1-Math.cos(o))}return r.x=n+this.x0,r.y=i+this.y0,r}function B5(r){var e,t,n,i,o,a,s,l,u;if(n=r.x-this.x0,i=r.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=I)e=R(n/this.a+this.long0),t=0;else{a=this.lat0+i/this.a,s=n*n/this.a/this.a+a*a,l=a;var h;for(o=u_;o;--o)if(h=Math.tan(l),u=-1*(a*(l*h+1)-l-.5*(l*l+s)*h)/((l-a)/h-1),l+=u,Math.abs(u)<=I){t=l;break}e=R(this.long0+Math.asin(n*Math.tan(l)/this.a)/Math.sin(t))}else if(Math.abs(i+this.ml0)<=I)t=0,e=R(this.long0+n/this.a);else{a=(this.ml0+i)/this.a,s=n*n/this.a/this.a+a*a,l=a;var c,f,d,p,_;for(o=u_;o;--o)if(_=this.e*Math.sin(l),c=Math.sqrt(1-_*_)*Math.tan(l),f=this.a*Ht(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=f/this.a,u=(a*(c*p+1)-p-.5*c*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*a*p)/(4*c)+(a-p)*(c*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=I){t=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=R(this.long0+Math.asin(n*c/this.a)/Math.sin(t))}return r.x=e,r.y=t,r}var G5=["Polyconic","poly"];const U5={init:$5,forward:z5,inverse:B5,names:G5};function Y5(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function j5(r){var e,t=r.x,n=r.y,i=n-this.lat0,o=t-this.long0,a=i/Mi*1e-5,s=o,l=1,u=0;for(e=1;e<=10;e++)l=l*a,u=u+this.A[e]*l;var h=u,c=s,f=1,d=0,p,_,v=0,y=0;for(e=1;e<=6;e++)p=f*h-d*c,_=d*h+f*c,f=p,d=_,v=v+this.B_re[e]*f-this.B_im[e]*d,y=y+this.B_im[e]*f+this.B_re[e]*d;return r.x=y*this.a+this.x0,r.y=v*this.a+this.y0,r}function H5(r){var e,t=r.x,n=r.y,i=t-this.x0,o=n-this.y0,a=o/this.a,s=i/this.a,l=1,u=0,h,c,f=0,d=0;for(e=1;e<=6;e++)h=l*a-u*s,c=u*a+l*s,l=h,u=c,f=f+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var p=0;p<this.iterations;p++){var _=f,v=d,y,g,m=a,b=s;for(e=2;e<=6;e++)y=_*f-v*d,g=v*f+_*d,_=y,v=g,m=m+(e-1)*(this.B_re[e]*_-this.B_im[e]*v),b=b+(e-1)*(this.B_im[e]*_+this.B_re[e]*v);_=1,v=0;var w=this.B_re[1],x=this.B_im[1];for(e=2;e<=6;e++)y=_*f-v*d,g=v*f+_*d,_=y,v=g,w=w+e*(this.B_re[e]*_-this.B_im[e]*v),x=x+e*(this.B_im[e]*_+this.B_re[e]*v);var T=w*w+x*x;f=(m*w+b*x)/T,d=(b*w-m*x)/T}var E=f,M=d,S=1,A=0;for(e=1;e<=9;e++)S=S*E,A=A+this.D[e]*S;var N=this.lat0+A*Mi*1e5,L=this.long0+M;return r.x=L,r.y=N,r}var W5=["New_Zealand_Map_Grid","nzmg"];const V5={init:Y5,forward:j5,inverse:H5,names:W5};function q5(){}function X5(r){var e=r.x,t=r.y,n=R(e-this.long0),i=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return r.x=i,r.y=o,r}function K5(r){r.x-=this.x0,r.y-=this.y0;var e=R(this.long0+r.x/this.a),t=2.5*(Math.atan(Math.exp(.8*r.y/this.a))-Math.PI/4);return r.x=e,r.y=t,r}var Z5=["Miller_Cylindrical","mill"];const Q5={init:q5,forward:X5,inverse:K5,names:Z5};var J5=20;function tD(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=kg(this.es)}function eD(r){var e,t,n=r.x,i=r.y;if(n=R(n-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),a=J5;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<I)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);t=this.a*el(i,l,u,this.en),e=this.a*n*u/Math.sqrt(1-this.es*l*l)}return r.x=e,r.y=t,r}function rD(r){var e,t,n,i;return r.x-=this.x0,n=r.x/this.a,r.y-=this.y0,e=r.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=gr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=gr(Math.sin(e)/this.n)),n=R(n+this.long0),e=Hn(e)):(e=Fg(r.y/this.a,this.es,this.en),i=Math.abs(e),i<O?(i=Math.sin(e),t=this.long0+r.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=R(t)):i-I<O&&(n=this.long0)),r.x=n,r.y=e,r}var nD=["Sinusoidal","sinu"];const iD={init:tD,forward:eD,inverse:rD,names:nD};function oD(){}function aD(r){for(var e=r.x,t=r.y,n=R(e-this.long0),i=t,o=Math.PI*Math.sin(t);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<I)break}i/=2,Math.PI/2-Math.abs(t)<I&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return r.x=s,r.y=l,r}function sD(r){var e,t;r.x-=this.x0,r.y-=this.y0,t=r.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var n=R(this.long0+r.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return r.x=n,r.y=i,r}var lD=["Mollweide","moll"];const uD={init:oD,forward:aD,inverse:sD,names:lD};function hD(){Math.abs(this.lat1+this.lat2)<I||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ao(this.es),this.e1=so(this.es),this.e2=lo(this.es),this.e3=uo(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Se(this.e,this.sinphi,this.cosphi),this.ml1=Ht(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<I?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Se(this.e,this.sinphi,this.cosphi),this.ml2=Ht(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ht(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function cD(r){var e=r.x,t=r.y,n;if(this.sphere)n=this.a*(this.g-t);else{var i=Ht(this.e0,this.e1,this.e2,this.e3,t);n=this.a*(this.g-i)}var o=this.ns*R(e-this.long0),a=this.x0+n*Math.sin(o),s=this.y0+this.rh-n*Math.cos(o);return r.x=a,r.y=s,r}function fD(r){r.x-=this.x0,r.y=this.rh-r.y+this.y0;var e,t,n,i;this.ns>=0?(t=Math.sqrt(r.x*r.x+r.y*r.y),e=1):(t=-Math.sqrt(r.x*r.x+r.y*r.y),e=-1);var o=0;if(t!==0&&(o=Math.atan2(e*r.x,e*r.y)),this.sphere)return i=R(this.long0+o/this.ns),n=Hn(this.g-t/this.a),r.x=i,r.y=n,r;var a=this.g-t/this.a;return n=Is(a,this.e0,this.e1,this.e2,this.e3),i=R(this.long0+o/this.ns),r.x=i,r.y=n,r}var dD=["Equidistant_Conic","eqdc"];const pD={init:hD,forward:cD,inverse:fD,names:dD};function _D(){this.R=this.a}function vD(r){var e=r.x,t=r.y,n=R(e-this.long0),i,o;Math.abs(t)<=I&&(i=this.x0+this.R*n,o=this.y0);var a=gr(2*Math.abs(t/Math.PI));(Math.abs(n)<=I||Math.abs(Math.abs(t)-O)<=I)&&(i=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*a):o=this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/n-n/Math.PI),l=s*s,u=Math.sin(a),h=Math.cos(a),c=h/(u+h-1),f=c*c,d=c*(2/u-1),p=d*d,_=Math.PI*this.R*(s*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(f-p)))/(p+l);n<0&&(_=-_),i=this.x0+_;var v=l+c;return _=Math.PI*this.R*(d*v-s*Math.sqrt((p+l)*(l+1)-v*v))/(p+l),t>=0?o=this.y0+_:o=this.y0-_,r.x=i,r.y=o,r}function yD(r){var e,t,n,i,o,a,s,l,u,h,c,f,d;return r.x-=this.x0,r.y-=this.y0,c=Math.PI*this.R,n=r.x/c,i=r.y/c,o=n*n+i*i,a=-Math.abs(i)*(1+o),s=a-2*i*i+n*n,l=-2*a+1+2*i*i+o*o,d=i*i/l+(2*s*s*s/l/l/l-9*a*s/l/l)/27,u=(a-s*s/3/l)/l,h=2*Math.sqrt(-u/3),c=3*d/u/h,Math.abs(c)>1&&(c>=0?c=1:c=-1),f=Math.acos(c)/3,r.y>=0?t=(-h*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI:t=-(-h*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI,Math.abs(n)<I?e=this.long0:e=R(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-i*i)+o*o))/2/n),r.x=e,r.y=t,r}var gD=["Van_der_Grinten_I","VanDerGrinten","vandg"];const mD={init:_D,forward:vD,inverse:yD,names:gD};function bD(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function wD(r){var e=r.x,t=r.y,n=Math.sin(r.y),i=Math.cos(r.y),o=R(e-this.long0),a,s,l,u,h,c,f,d,p,_,v,y,g,m,b,w,x,T,E,M,S,A,N;return this.sphere?Math.abs(this.sin_p12-1)<=I?(r.x=this.x0+this.a*(O-t)*Math.sin(o),r.y=this.y0-this.a*(O-t)*Math.cos(o),r):Math.abs(this.sin_p12+1)<=I?(r.x=this.x0+this.a*(O+t)*Math.sin(o),r.y=this.y0+this.a*(O+t)*Math.cos(o),r):(T=this.sin_p12*n+this.cos_p12*i*Math.cos(o),w=Math.acos(T),x=w?w/Math.sin(w):1,r.x=this.x0+this.a*x*i*Math.sin(o),r.y=this.y0+this.a*x*(this.cos_p12*n-this.sin_p12*i*Math.cos(o)),r):(a=ao(this.es),s=so(this.es),l=lo(this.es),u=uo(this.es),Math.abs(this.sin_p12-1)<=I?(h=this.a*Ht(a,s,l,u,O),c=this.a*Ht(a,s,l,u,t),r.x=this.x0+(h-c)*Math.sin(o),r.y=this.y0-(h-c)*Math.cos(o),r):Math.abs(this.sin_p12+1)<=I?(h=this.a*Ht(a,s,l,u,O),c=this.a*Ht(a,s,l,u,t),r.x=this.x0+(h+c)*Math.sin(o),r.y=this.y0+(h+c)*Math.cos(o),r):(f=n/i,d=$n(this.a,this.e,this.sin_p12),p=$n(this.a,this.e,n),_=Math.atan((1-this.es)*f+this.es*d*this.sin_p12/(p*i)),v=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(o)),v===0?E=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(v)-Math.PI)<=I?E=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):E=Math.asin(Math.sin(o)*Math.cos(_)/Math.sin(v)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),g=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es),m=y*g,b=g*g,M=E*E,S=M*E,A=S*E,N=A*E,w=d*E*(1-M*b*(1-b)/6+S/8*m*(1-2*b)+A/120*(b*(4-7*b)-3*y*y*(1-7*b))-N/48*m),r.x=this.x0+w*Math.sin(v),r.y=this.y0+w*Math.cos(v),r))}function xD(r){r.x-=this.x0,r.y-=this.y0;var e,t,n,i,o,a,s,l,u,h,c,f,d,p,_,v,y,g,m,b,w,x,T,E;return this.sphere?(e=Math.sqrt(r.x*r.x+r.y*r.y),e>2*O*this.a?void 0:(t=e/this.a,n=Math.sin(t),i=Math.cos(t),o=this.long0,Math.abs(e)<=I?a=this.lat0:(a=gr(i*this.sin_p12+r.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-O,Math.abs(s)<=I?this.lat0>=0?o=R(this.long0+Math.atan2(r.x,-r.y)):o=R(this.long0-Math.atan2(-r.x,r.y)):o=R(this.long0+Math.atan2(r.x*n,e*this.cos_p12*i-r.y*this.sin_p12*n))),r.x=o,r.y=a,r)):(l=ao(this.es),u=so(this.es),h=lo(this.es),c=uo(this.es),Math.abs(this.sin_p12-1)<=I?(f=this.a*Ht(l,u,h,c,O),e=Math.sqrt(r.x*r.x+r.y*r.y),d=f-e,a=Is(d/this.a,l,u,h,c),o=R(this.long0+Math.atan2(r.x,-1*r.y)),r.x=o,r.y=a,r):Math.abs(this.sin_p12+1)<=I?(f=this.a*Ht(l,u,h,c,O),e=Math.sqrt(r.x*r.x+r.y*r.y),d=e-f,a=Is(d/this.a,l,u,h,c),o=R(this.long0+Math.atan2(r.x,r.y)),r.x=o,r.y=a,r):(e=Math.sqrt(r.x*r.x+r.y*r.y),v=Math.atan2(r.x,r.y),p=$n(this.a,this.e,this.sin_p12),y=Math.cos(v),g=this.e*this.cos_p12*y,m=-g*g/(1-this.es),b=3*this.es*(1-m)*this.sin_p12*this.cos_p12*y/(1-this.es),w=e/p,x=w-m*(1+m)*Math.pow(w,3)/6-b*(1+3*m)*Math.pow(w,4)/24,T=1-m*x*x/2-w*x*x*x/6,_=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*y),o=R(this.long0+Math.asin(Math.sin(v)*Math.sin(x)/Math.cos(_))),E=Math.sin(_),a=Math.atan2((E-this.es*T*this.sin_p12)*Math.tan(_),E*(1-this.es)),r.x=o,r.y=a,r))}var ED=["Azimuthal_Equidistant","aeqd"];const TD={init:bD,forward:wD,inverse:xD,names:ED};function CD(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function OD(r){var e,t,n,i,o,a,s,l,u=r.x,h=r.y;return n=R(u-this.long0),e=Math.sin(h),t=Math.cos(h),i=Math.cos(n),a=this.sin_p14*e+this.cos_p14*t*i,o=1,(a>0||Math.abs(a)<=I)&&(s=this.a*o*t*Math.sin(n),l=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*i)),r.x=s,r.y=l,r}function MD(r){var e,t,n,i,o,a,s;return r.x-=this.x0,r.y-=this.y0,e=Math.sqrt(r.x*r.x+r.y*r.y),t=gr(e/this.a),n=Math.sin(t),i=Math.cos(t),a=this.long0,Math.abs(e)<=I?(s=this.lat0,r.x=a,r.y=s,r):(s=gr(i*this.sin_p14+r.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-O,Math.abs(o)<=I?(this.lat0>=0?a=R(this.long0+Math.atan2(r.x,-r.y)):a=R(this.long0-Math.atan2(-r.x,r.y)),r.x=a,r.y=s,r):(a=R(this.long0+Math.atan2(r.x*n,e*this.cos_p14*i-r.y*this.sin_p14*n)),r.x=a,r.y=s,r))}var PD=["ortho"];const SD={init:CD,forward:OD,inverse:MD,names:PD};var _t={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},it={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ID(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=O-nt/2?this.face=_t.TOP:this.lat0<=-(O-nt/2)?this.face=_t.BOTTOM:Math.abs(this.long0)<=nt?this.face=_t.FRONT:Math.abs(this.long0)<=O+nt?this.face=this.long0>0?_t.RIGHT:_t.LEFT:this.face=_t.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function RD(r){var e={x:0,y:0},t,n,i,o,a,s,l={value:0};if(r.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(r.y)):t=r.y,n=r.x,this.face===_t.TOP)o=O-t,n>=nt&&n<=O+nt?(l.value=it.AREA_0,i=n-O):n>O+nt||n<=-(O+nt)?(l.value=it.AREA_1,i=n>0?n-xt:n+xt):n>-(O+nt)&&n<=-nt?(l.value=it.AREA_2,i=n+O):(l.value=it.AREA_3,i=n);else if(this.face===_t.BOTTOM)o=O+t,n>=nt&&n<=O+nt?(l.value=it.AREA_0,i=-n+O):n<nt&&n>=-nt?(l.value=it.AREA_1,i=-n):n<-nt&&n>=-(O+nt)?(l.value=it.AREA_2,i=-n-O):(l.value=it.AREA_3,i=n>0?-n+xt:-n-xt);else{var u,h,c,f,d,p,_;this.face===_t.RIGHT?n=Mn(n,+O):this.face===_t.BACK?n=Mn(n,+xt):this.face===_t.LEFT&&(n=Mn(n,-O)),f=Math.sin(t),d=Math.cos(t),p=Math.sin(n),_=Math.cos(n),u=d*_,h=d*p,c=f,this.face===_t.FRONT?(o=Math.acos(u),i=ko(o,c,h,l)):this.face===_t.RIGHT?(o=Math.acos(h),i=ko(o,c,-u,l)):this.face===_t.BACK?(o=Math.acos(-u),i=ko(o,c,-h,l)):this.face===_t.LEFT?(o=Math.acos(-h),i=ko(o,c,u,l)):(o=i=0,l.value=it.AREA_0)}return s=Math.atan(12/xt*(i+Math.acos(Math.sin(i)*Math.cos(nt))-O)),a=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===it.AREA_1?s+=O:l.value===it.AREA_2?s+=xt:l.value===it.AREA_3&&(s+=1.5*xt),e.x=a*Math.cos(s),e.y=a*Math.sin(s),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,r.x=e.x,r.y=e.y,r}function AD(r){var e={lam:0,phi:0},t,n,i,o,a,s,l,u,h,c={value:0};if(r.x=(r.x-this.x0)/this.a,r.y=(r.y-this.y0)/this.a,n=Math.atan(Math.sqrt(r.x*r.x+r.y*r.y)),t=Math.atan2(r.y,r.x),r.x>=0&&r.x>=Math.abs(r.y)?c.value=it.AREA_0:r.y>=0&&r.y>=Math.abs(r.x)?(c.value=it.AREA_1,t-=O):r.x<0&&-r.x>=Math.abs(r.y)?(c.value=it.AREA_2,t=t<0?t+xt:t-xt):(c.value=it.AREA_3,t+=O),h=xt/12*Math.tan(t),a=Math.sin(h)/(Math.cos(h)-1/Math.sqrt(2)),s=Math.atan(a),i=Math.cos(t),o=Math.tan(n),l=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(s)))),l<-1?l=-1:l>1&&(l=1),this.face===_t.TOP)u=Math.acos(l),e.phi=O-u,c.value===it.AREA_0?e.lam=s+O:c.value===it.AREA_1?e.lam=s<0?s+xt:s-xt:c.value===it.AREA_2?e.lam=s-O:e.lam=s;else if(this.face===_t.BOTTOM)u=Math.acos(l),e.phi=u-O,c.value===it.AREA_0?e.lam=-s+O:c.value===it.AREA_1?e.lam=-s:c.value===it.AREA_2?e.lam=-s-O:e.lam=s<0?-s-xt:-s+xt;else{var f,d,p;f=l,h=f*f,h>=1?p=0:p=Math.sqrt(1-h)*Math.sin(s),h+=p*p,h>=1?d=0:d=Math.sqrt(1-h),c.value===it.AREA_1?(h=d,d=-p,p=h):c.value===it.AREA_2?(d=-d,p=-p):c.value===it.AREA_3&&(h=d,d=p,p=-h),this.face===_t.RIGHT?(h=f,f=-d,d=h):this.face===_t.BACK?(f=-f,d=-d):this.face===_t.LEFT&&(h=f,f=d,d=-h),e.phi=Math.acos(-p)-O,e.lam=Math.atan2(d,f),this.face===_t.RIGHT?e.lam=Mn(e.lam,-O):this.face===_t.BACK?e.lam=Mn(e.lam,-xt):this.face===_t.LEFT&&(e.lam=Mn(e.lam,+O))}if(this.es!==0){var _,v,y;_=e.phi<0?1:0,v=Math.tan(e.phi),y=this.b/Math.sqrt(v*v+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),_&&(e.phi=-e.phi)}return e.lam+=this.long0,r.x=e.lam,r.y=e.phi,r}function ko(r,e,t,n){var i;return r<I?(n.value=it.AREA_0,i=0):(i=Math.atan2(e,t),Math.abs(i)<=nt?n.value=it.AREA_0:i>nt&&i<=O+nt?(n.value=it.AREA_1,i-=O):i>O+nt||i<=-(O+nt)?(n.value=it.AREA_2,i=i>=0?i-xt:i+xt):(n.value=it.AREA_3,i+=O)),i}function Mn(r,e){var t=r+e;return t<-xt?t+=ji:t>+xt&&(t-=ji),t}var DD=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const LD={init:ID,forward:RD,inverse:AD,names:DD};var Dh=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ei=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Bg=.8487,Gg=1.3523,Ug=Ce/5,ND=1/Ug,vn=18,Rs=function(r,e){return r[0]+e*(r[1]+e*(r[2]+e*r[3]))},kD=function(r,e){return r[1]+e*(2*r[2]+e*3*r[3])};function FD(r,e,t,n){for(var i=e;n;--n){var o=r(i);if(i-=o,Math.abs(o)<t)break}return i}function $D(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function zD(r){var e=R(r.x-this.long0),t=Math.abs(r.y),n=Math.floor(t*Ug);n<0?n=0:n>=vn&&(n=vn-1),t=Ce*(t-ND*n);var i={x:Rs(Dh[n],t)*e,y:Rs(Ei[n],t)};return r.y<0&&(i.y=-i.y),i.x=i.x*this.a*Bg+this.x0,i.y=i.y*this.a*Gg+this.y0,i}function BD(r){var e={x:(r.x-this.x0)/(this.a*Bg),y:Math.abs(r.y-this.y0)/(this.a*Gg)};if(e.y>=1)e.x/=Dh[vn][0],e.y=r.y<0?-O:O;else{var t=Math.floor(e.y*vn);for(t<0?t=0:t>=vn&&(t=vn-1);;)if(Ei[t][0]>e.y)--t;else if(Ei[t+1][0]<=e.y)++t;else break;var n=Ei[t],i=5*(e.y-n[0])/(Ei[t+1][0]-n[0]);i=FD(function(o){return(Rs(n,o)-e.y)/kD(n,o)},i,I,100),e.x/=Rs(Dh[t],i),e.y=(5*t+i)*kt,r.y<0&&(e.y=-e.y)}return e.x=R(e.x+this.long0),e}var GD=["Robinson","robin"];const UD={init:$D,forward:zD,inverse:BD,names:GD};function YD(){this.name="geocent"}function jD(r){var e=Mg(r,this.es,this.a);return e}function HD(r){var e=Pg(r,this.es,this.a,this.b);return e}var WD=["Geocentric","geocentric","geocent","Geocent"];const VD={init:YD,forward:jD,inverse:HD,names:WD};var zt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},pi={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function qD(){if(Object.keys(pi).forEach(function(t){if(typeof this[t]>"u")this[t]=pi[t].def;else{if(pi[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);pi[t].num&&(this[t]=parseFloat(this[t]))}pi[t].degrees&&(this[t]=this[t]*kt)}.bind(this)),Math.abs(Math.abs(this.lat0)-O)<I?this.mode=this.lat0<0?zt.S_POLE:zt.N_POLE:Math.abs(this.lat0)<I?this.mode=zt.EQUIT:(this.mode=zt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var r=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(r),this.sw=Math.sin(r)}function XD(r){r.x-=this.long0;var e=Math.sin(r.y),t=Math.cos(r.y),n=Math.cos(r.x),i,o;switch(this.mode){case zt.OBLIQ:o=this.sinph0*e+this.cosph0*t*n;break;case zt.EQUIT:o=t*n;break;case zt.S_POLE:o=-e;break;case zt.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),i=o*t*Math.sin(r.x),this.mode){case zt.OBLIQ:o*=this.cosph0*e-this.sinph0*t*n;break;case zt.EQUIT:o*=e;break;case zt.N_POLE:o*=-(t*n);break;case zt.S_POLE:o*=t*n;break}var a,s;return a=o*this.cg+i*this.sg,s=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*s,o=a*s,r.x=i*this.a,r.y=o*this.a,r}function KD(r){r.x/=this.a,r.y/=this.a;var e={x:r.x,y:r.y},t,n,i;i=1/(this.pn1-r.y*this.sw),t=this.pn1*r.x*i,n=this.pn1*r.y*this.cw*i,r.x=t*this.cg+n*this.sg,r.y=n*this.cg-t*this.sg;var o=_e(r.x,r.y);if(Math.abs(o)<I)e.x=0,e.y=r.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case zt.OBLIQ:e.y=Math.asin(a*this.sinph0+r.y*s*this.cosph0/o),r.y=(a-this.sinph0*Math.sin(e.y))*o,r.x*=s*this.cosph0;break;case zt.EQUIT:e.y=Math.asin(r.y*s/o),r.y=a*o,r.x*=s;break;case zt.N_POLE:e.y=Math.asin(a),r.y=-r.y;break;case zt.S_POLE:e.y=-Math.asin(a);break}e.x=Math.atan2(r.x,r.y)}return r.x=e.x+this.long0,r.y=e.y,r}var ZD=["Tilted_Perspective","tpers"];const QD={init:qD,forward:XD,inverse:KD,names:ZD};function JD(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var r=1-this.es,e=1/r;this.radius_p=Math.sqrt(r),this.radius_p2=r,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function tL(r){var e=r.x,t=r.y,n,i,o,a;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var s=this.radius_p/_e(this.radius_p*Math.cos(t),Math.sin(t));if(i=s*Math.cos(e)*Math.cos(t),o=s*Math.sin(e)*Math.cos(t),a=s*Math.sin(t),(this.radius_g-i)*i-o*o-a*a*this.radius_p_inv2<0)return r.x=Number.NaN,r.y=Number.NaN,r;n=this.radius_g-i,this.flip_axis?(r.x=this.radius_g_1*Math.atan(o/_e(a,n)),r.y=this.radius_g_1*Math.atan(a/n)):(r.x=this.radius_g_1*Math.atan(o/n),r.y=this.radius_g_1*Math.atan(a/_e(o,n)))}else this.shape==="sphere"&&(n=Math.cos(t),i=Math.cos(e)*n,o=Math.sin(e)*n,a=Math.sin(t),n=this.radius_g-i,this.flip_axis?(r.x=this.radius_g_1*Math.atan(o/_e(a,n)),r.y=this.radius_g_1*Math.atan(a/n)):(r.x=this.radius_g_1*Math.atan(o/n),r.y=this.radius_g_1*Math.atan(a/_e(o,n))));return r.x=r.x*this.a,r.y=r.y*this.a,r}function eL(r){var e=-1,t=0,n=0,i,o,a,s;if(r.x=r.x/this.a,r.y=r.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(r.y/this.radius_g_1),t=Math.tan(r.x/this.radius_g_1)*_e(1,n)):(t=Math.tan(r.x/this.radius_g_1),n=Math.tan(r.y/this.radius_g_1)*_e(1,t));var l=n/this.radius_p;if(i=t*t+l*l+e*e,o=2*this.radius_g*e,a=o*o-4*i*this.C,a<0)return r.x=Number.NaN,r.y=Number.NaN,r;s=(-o-Math.sqrt(a))/(2*i),e=this.radius_g+s*e,t*=s,n*=s,r.x=Math.atan2(t,e),r.y=Math.atan(n*Math.cos(r.x)/e),r.y=Math.atan(this.radius_p_inv2*Math.tan(r.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(r.y/this.radius_g_1),t=Math.tan(r.x/this.radius_g_1)*Math.sqrt(1+n*n)):(t=Math.tan(r.x/this.radius_g_1),n=Math.tan(r.y/this.radius_g_1)*Math.sqrt(1+t*t)),i=t*t+n*n+e*e,o=2*this.radius_g*e,a=o*o-4*i*this.C,a<0)return r.x=Number.NaN,r.y=Number.NaN,r;s=(-o-Math.sqrt(a))/(2*i),e=this.radius_g+s*e,t*=s,n*=s,r.x=Math.atan2(t,e),r.y=Math.atan(n*Math.cos(r.x)/e)}return r.x=r.x+this.long0,r}var rL=["Geostationary Satellite View","Geostationary_Satellite","geos"];const nL={init:JD,forward:tL,inverse:eL,names:rL};function iL(r){r.Proj.projections.add(Oa),r.Proj.projections.add(Ma),r.Proj.projections.add(hA),r.Proj.projections.add(bA),r.Proj.projections.add(OA),r.Proj.projections.add(RA),r.Proj.projections.add(FA),r.Proj.projections.add(UA),r.Proj.projections.add(VA),r.Proj.projections.add(QA),r.Proj.projections.add(_5),r.Proj.projections.add(w5),r.Proj.projections.add(O5),r.Proj.projections.add(A5),r.Proj.projections.add(F5),r.Proj.projections.add(U5),r.Proj.projections.add(V5),r.Proj.projections.add(Q5),r.Proj.projections.add(iD),r.Proj.projections.add(uD),r.Proj.projections.add(pD),r.Proj.projections.add(mD),r.Proj.projections.add(TD),r.Proj.projections.add(SD),r.Proj.projections.add(LD),r.Proj.projections.add(UD),r.Proj.projections.add(VD),r.Proj.projections.add(QD),r.Proj.projections.add(nL)}Qt.defaultDatum="WGS84";Qt.Proj=Me;Qt.WGS84=new Qt.Proj("WGS84");Qt.Point=Fn;Qt.toPoint=Sg;Qt.defs=Yt;Qt.nadgrid=fR;Qt.transform=Ss;Qt.mgrs=PR;Qt.version="__VERSION__";iL(Qt);var oL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aL=function(r){oL(e,r);function e(t){var n=t||{};return r.call(this,n)||this}return e}(Qi);const sL=aL;var Yg=.5,As={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},jg={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},lL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uL=function(r){lL(e,r);function e(t){var n=r.call(this,t)||this;return n.image_=null,n}return e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var n=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,o=t.viewState,a=o.resolution,s=this.getLayer().getSource(),l=t.viewHints,u=t.extent;if(n.extent!==void 0&&(u=$r(u,Ye(n.extent,o.projection))),!l[At.ANIMATING]&&!l[At.INTERACTING]&&!Ks(u))if(s){var h=o.projection,c=s.getImage(u,a,i,h);c&&this.loadImage(c)?this.image_=c:this.image_=null}else this.image_=null;return!!this.image_},e.prototype.getData=function(t){var n=this.frameState;if(!n)return null;var i=this.getLayer(),o=wt(n.pixelToCoordinateTransform,t.slice()),a=i.getExtent();if(a&&!Yn(a,o))return null;var s=this.image_.getExtent(),l=this.image_.getImage(),u=st(s),h=Math.floor(l.width*((o[0]-s[0])/u));if(h<0||h>=l.width)return null;var c=Bt(s),f=Math.floor(l.height*((s[3]-o[1])/c));return f<0||f>=l.height?null:this.getImageData(l,h,f)},e.prototype.renderFrame=function(t,n){var i=this.image_,o=i.getExtent(),a=i.getResolution(),s=i.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],u=t.pixelRatio,h=t.viewState,c=h.center,f=h.resolution,d=t.size,p=u*a/(f*s),_=Math.round(d[0]*u),v=Math.round(d[1]*u),y=h.rotation;if(y){var g=Math.round(Math.sqrt(_*_+v*v));_=g,v=g}ye(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/u,1/u,y,-_/2,-v/2),Qs(this.inversePixelTransform,this.pixelTransform);var m=cc(this.pixelTransform);this.useContainer(n,m,l.opacity,this.getBackground(t));var b=this.context,w=b.canvas;w.width!=_||w.height!=v?(w.width=_,w.height=v):this.containerReused||b.clearRect(0,0,_,v);var x=!1,T=!0;if(l.extent){var E=Ye(l.extent,h.projection);T=jt(E,t.extent),x=T&&!ur(E,t.extent),x&&this.clipUnrotated(b,t,E)}var M=i.getImage(),S=ye(this.tempTransform,_/2,v/2,p,p,0,s*(o[0]-c[0])/a,s*(c[1]-o[3])/a);this.renderedResolution=a*u/s;var A=M.width*S[0],N=M.height*S[3];if(this.getLayer().getSource().getInterpolate()||ut(b,As),this.preRender(b,t),T&&A>=.5&&N>=.5){var L=S[4],B=S[5],P=l.opacity,D=void 0;P!==1&&(D=b.globalAlpha,b.globalAlpha=P),b.drawImage(M,0,0,+M.width,+M.height,Math.round(L),Math.round(B),Math.round(A),Math.round(N)),P!==1&&(b.globalAlpha=D)}return this.postRender(b,t),x&&b.restore(),ut(b,jg),m!==w.style.transform&&(w.style.transform=m),this.container},e}(mc);const hL=uL;var cL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fL=function(r){cL(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new hL(this)},e.prototype.getData=function(t){return r.prototype.getData.call(this,t)},e}(sL);const dL=fL,Fo={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var pL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_L=function(r){pL(e,r);function e(t){var n=this,i=t||{},o=ut({},i);return delete o.preload,delete o.useInterimTilesOnError,n=r.call(this,o)||this,n.on,n.once,n.un,n.setPreload(i.preload!==void 0?i.preload:0),n.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),n}return e.prototype.getPreload=function(){return this.get(Fo.PRELOAD)},e.prototype.setPreload=function(t){this.set(Fo.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Fo.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Fo.USE_INTERIM_TILES_ON_ERROR,t)},e.prototype.getData=function(t){return r.prototype.getData.call(this,t)},e}(Qi);const vL=_L;var yL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gL=function(r){yL(e,r);function e(t,n,i){var o=r.call(this)||this,a=i||{};return o.tileCoord=t,o.state=n,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return e.prototype.changed=function(){this.dispatchEvent(G.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==$.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,n=this;do{if(t.getState()==$.LOADED){t.interimTile=null;break}else t.getState()==$.LOADING?n=t:t.getState()==$.IDLE?n.interimTile=t.interimTile:n=t;t=n.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==$.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){X()},e.prototype.getAlpha=function(t,n){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=n-i+1e3/60;return o>=this.transition_?1:Qv(o/this.transition_)},e.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Bn);const Hg=gL;var mL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bL=function(r){mL(e,r);function e(t,n,i,o,a,s){var l=r.call(this,t,n,s)||this;return l.crossOrigin_=o,l.src_=i,l.key=i,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=$.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=$.ERROR,this.unlistenImage_(),this.image_=wL(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=$.LOADED:this.state=$.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==$.ERROR&&(this.state=$.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==$.IDLE&&(this.state=$.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=bc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Hg);function wL(){var r=ue(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}const Wg=bL;var xL=10,h_=.25,EL=function(){function r(e,t,n,i,o,a){this.sourceProj_=e,this.targetProj_=t;var s={},l=Fi(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){var b=m[0]+"/"+m[1];return s[b]||(s[b]=l(m)),s[b]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&st(i)==st(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?st(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?st(this.targetProj_.getExtent()):null;var u=Xr(n),h=Xs(n),c=qs(n),f=Vs(n),d=this.transformInv_(u),p=this.transformInv_(h),_=this.transformInv_(c),v=this.transformInv_(f),y=xL+(a?Math.max(0,Math.ceil(xw(su(n)/(a*a*256*256)))):0);if(this.addQuad_(u,h,c,f,d,p,_,v,y),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(m,b,w){g=Math.min(g,m.source[0][0],m.source[1][0],m.source[2][0])}),this.triangles_.forEach(function(m){if(Math.max(m.source[0][0],m.source[1][0],m.source[2][0])-g>this.sourceWorldWidth_/2){var b=[[m.source[0][0],m.source[0][1]],[m.source[1][0],m.source[1][1]],[m.source[2][0],m.source[2][1]]];b[0][0]-g>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-g>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-g>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);var w=Math.min(b[0][0],b[1][0],b[2][0]),x=Math.max(b[0][0],b[1][0],b[2][0]);x-w<this.sourceWorldWidth_/2&&(m.source=b)}}.bind(this))}s={}}return r.prototype.addTriangle_=function(e,t,n,i,o,a){this.triangles_.push({source:[i,o,a],target:[e,t,n]})},r.prototype.addQuad_=function(e,t,n,i,o,a,s,l,u){var h=Bf([o,a,s,l]),c=this.sourceWorldWidth_?st(h)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=Bf([e,t,n,i]),v=st(_)/this.targetWorldWidth_;p=v>h_||p}!d&&this.sourceProj_.isGlobal()&&c&&(p=c>h_||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!jt(h,this.maxSourceExtent_))){var y=0;if(!p&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)p=!0;else if(y=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),y!=1&&y!=2&&y!=4&&y!=8)return}if(u>0){if(!p){var g=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(g),b=void 0;if(d){var w=(Fr(o[0],f)+Fr(s[0],f))/2;b=w-Fr(m[0],f)}else b=(o[0]+s[0])/2-m[0];var x=(o[1]+s[1])/2-m[1],T=b*b+x*x;p=T>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var E=[(t[0]+n[0])/2,(t[1]+n[1])/2],M=this.transformInv_(E),S=[(i[0]+e[0])/2,(i[1]+e[1])/2],A=this.transformInv_(S);this.addQuad_(e,t,E,S,o,a,M,A,u-1),this.addQuad_(S,E,n,i,A,M,s,l,u-1)}else{var N=[(e[0]+t[0])/2,(e[1]+t[1])/2],L=this.transformInv_(N),B=[(n[0]+i[0])/2,(n[1]+i[1])/2],P=this.transformInv_(B);this.addQuad_(e,N,B,i,o,L,P,l,u-1),this.addQuad_(N,t,n,B,L,a,s,P,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}y&11||this.addTriangle_(e,n,i,o,s,l),y&14||this.addTriangle_(e,n,t,o,s,a),y&&(y&13||this.addTriangle_(t,i,e,a,l,o),y&7||this.addTriangle_(t,i,n,a,l,s))}},r.prototype.calculateSourceExtent=function(){var e=ce();return this.triangles_.forEach(function(t,n,i){var o=t.source;Oi(e,o[0]),Oi(e,o[1]),Oi(e,o[2])}),e},r.prototype.getTriangles=function(){return this.triangles_},r}();const Vg=EL;var Nl;function c_(r,e,t,n,i){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(n,i),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,n)+1,Math.max(t,i)),r.restore()}function kl(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function TL(){if(Nl===void 0){var r=document.createElement("canvas").getContext("2d");r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",c_(r,4,5,4,0),c_(r,4,5,0,5);var e=r.getImageData(0,0,3,3).data;Nl=kl(e,0)||kl(e,4)||kl(e,8)}return Nl}function Vi(r,e,t,n){var i=to(t,e,r),o=Uf(e,n,t),a=e.getMetersPerUnit();a!==void 0&&(o*=a);var s=r.getMetersPerUnit();s!==void 0&&(o/=s);var l=r.getExtent();if(!l||Yn(l,i)){var u=Uf(r,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}function CL(r,e,t,n){var i=vr(t),o=Vi(r,e,i,n);return(!isFinite(o)||o<=0)&&iy(t,function(a){return o=Vi(r,e,a,n),isFinite(o)&&o>0}),o}function qg(r,e,t,n,i,o,a,s,l,u,h,c){var f=ue(Math.round(t*r),Math.round(t*e));if(c||ut(f,As),l.length===0)return f.canvas;f.scale(t,t);function d(b){return Math.round(b*t)/t}f.globalCompositeOperation="lighter";var p=ce();l.forEach(function(b,w,x){tx(p,b.extent)});var _=st(p),v=Bt(p),y=ue(Math.round(t*_/n),Math.round(t*v/n));c||ut(y,As);var g=t/n;l.forEach(function(b,w,x){var T=b.extent[0]-p[0],E=-(b.extent[3]-p[3]),M=st(b.extent),S=Bt(b.extent);b.image.width>0&&b.image.height>0&&y.drawImage(b.image,u,u,b.image.width-2*u,b.image.height-2*u,T*g,E*g,M*g,S*g)});var m=Xr(a);return s.getTriangles().forEach(function(b,w,x){var T=b.source,E=b.target,M=T[0][0],S=T[0][1],A=T[1][0],N=T[1][1],L=T[2][0],B=T[2][1],P=d((E[0][0]-m[0])/o),D=d(-(E[0][1]-m[1])/o),k=d((E[1][0]-m[0])/o),q=d(-(E[1][1]-m[1])/o),Y=d((E[2][0]-m[0])/o),K=d(-(E[2][1]-m[1])/o),lt=M,C=S;M=0,S=0,A-=lt,N-=C,L-=lt,B-=C;var ct=[[A,N,0,0,k-P],[L,B,0,0,Y-P],[0,0,A,N,q-D],[0,0,L,B,K-D]],F=Tw(ct);if(F){if(f.save(),f.beginPath(),TL()||!c){f.moveTo(k,q);for(var ft=4,St=P-k,It=D-q,J=0;J<ft;J++)f.lineTo(k+d((J+1)*St/ft),q+d(J*It/(ft-1))),J!=ft-1&&f.lineTo(k+d((J+1)*St/ft),q+d((J+1)*It/(ft-1)));f.lineTo(Y,K)}else f.moveTo(k,q),f.lineTo(P,D),f.lineTo(Y,K);f.clip(),f.transform(F[0],F[2],F[1],F[3],P,D),f.translate(p[0]-lt,p[3]-C),f.scale(n/t,-n/t),f.drawImage(y.canvas,0,0),f.restore()}}),h&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach(function(b,w,x){var T=b.target,E=(T[0][0]-m[0])/o,M=-(T[0][1]-m[1])/o,S=(T[1][0]-m[0])/o,A=-(T[1][1]-m[1])/o,N=(T[2][0]-m[0])/o,L=-(T[2][1]-m[1])/o;f.beginPath(),f.moveTo(S,A),f.lineTo(E,M),f.lineTo(N,L),f.closePath(),f.stroke()}),f.restore()),f.canvas}var OL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ML=function(r){OL(e,r);function e(t,n,i,o,a,s,l,u,h,c,f,d){var p=r.call(this,a,$.IDLE,{interpolate:!!d})||this;p.renderEdges_=f!==void 0?f:!1,p.pixelRatio_=l,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=o,p.wrappedTileCoord_=s||a,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var _=o.getTileCoordExtent(p.wrappedTileCoord_),v=p.targetTileGrid_.getExtent(),y=p.sourceTileGrid_.getExtent(),g=v?$r(_,v):_;if(su(g)===0)return p.state=$.EMPTY,p;var m=t.getExtent();m&&(y?y=$r(y,m):y=m);var b=o.getResolution(p.wrappedTileCoord_[0]),w=CL(t,i,g,b);if(!isFinite(w)||w<=0)return p.state=$.EMPTY,p;var x=c!==void 0?c:Yg;if(p.triangulation_=new Vg(t,i,g,y,w*x,b),p.triangulation_.getTriangles().length===0)return p.state=$.EMPTY,p;p.sourceZ_=n.getZForResolution(w);var T=p.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(T[1]=mt(T[1],y[1],y[3]),T[3]=mt(T[3],y[1],y[3])):T=$r(T,y)),!su(T))p.state=$.EMPTY;else{for(var E=n.getTileRangeForExtentAndZ(T,p.sourceZ_),M=E.minX;M<=E.maxX;M++)for(var S=E.minY;S<=E.maxY;S++){var A=h(p.sourceZ_,M,S,l);A&&p.sourceTiles_.push(A)}p.sourceTiles_.length===0&&(p.state=$.EMPTY)}return p}return e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(h,c,f){h&&h.getState()==$.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(h.tileCoord),image:h.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=$.ERROR;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=qg(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=$.LOADED}this.changed()},e.prototype.load=function(){if(this.state==$.IDLE){this.state=$.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();if(a==$.IDLE||a==$.LOADING){t++;var s=Z(n,G.CHANGE,function(l){var u=n.getState();(u==$.LOADED||u==$.ERROR||u==$.EMPTY)&&(pt(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,o){var a=n.getState();a==$.IDLE&&n.load()})}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(pt),this.sourcesListenerKeys_=null},e}(Hg);const Xg=ML;var Kg=function(){function r(e,t,n,i){this.minX=e,this.maxX=t,this.minY=n,this.maxY=i}return r.prototype.contains=function(e){return this.containsXY(e[1],e[2])},r.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},r.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},r.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},r.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},r}();function on(r,e,t,n,i){return i!==void 0?(i.minX=r,i.maxX=e,i.minY=t,i.maxY=n,i):new Kg(r,e,t,n)}const Zg=Kg;var PL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SL=function(r){PL(e,r);function e(t){var n=r.call(this,t)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=ce(),n.tmpTileRange_=new Zg(0,0,0,0),n}return e.prototype.isDrawableTile=function(t){var n=this.getLayer(),i=t.getState(),o=n.getUseInterimTilesOnError();return i==$.LOADED||i==$.EMPTY||i==$.ERROR&&!o},e.prototype.getTile=function(t,n,i,o){var a=o.pixelRatio,s=o.viewState.projection,l=this.getLayer(),u=l.getSource(),h=u.getTile(t,n,i,a,s);return h.getState()==$.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):h.setState($.LOADED)),this.isDrawableTile(h)||(h=h.getInterimTile()),h},e.prototype.getData=function(t){var n=this.frameState;if(!n)return null;var i=this.getLayer(),o=wt(n.pixelToCoordinateTransform,t.slice()),a=i.getExtent();if(a&&!Yn(a,o))return null;for(var s=n.pixelRatio,l=n.viewState.projection,u=n.viewState,h=i.getRenderSource(),c=h.getTileGridForProjection(u.projection),f=h.getTilePixelRatio(n.pixelRatio),d=c.getZForResolution(u.resolution);d>=c.getMinZoom();--d){var p=c.getTileCoordForCoordAndZ(o,d),_=h.getTile(d,p[1],p[2],s,l);if(!(_ instanceof Wg||_ instanceof Xg))return null;if(_.getState()===$.LOADED){var v=c.getOrigin(d),y=ee(c.getTileSize(d)),g=c.getResolution(d),m=Math.floor(f*((o[0]-v[0])/g-p[1]*y[0])),b=Math.floor(f*((v[1]-o[1])/g-p[2]*y[1]));return this.getImageData(_.getImage(),m,b)}}return null},e.prototype.loadedTileCallback=function(t,n,i){return this.isDrawableTile(i)?r.prototype.loadedTileCallback.call(this,t,n,i):!1},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,n){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,l=o.center,u=o.rotation,h=t.pixelRatio,c=this.getLayer(),f=c.getSource(),d=f.getRevision(),p=f.getTileGridForProjection(a),_=p.getZForResolution(s,f.zDirection),v=p.getResolution(_),y=t.extent,g=i.extent&&Ye(i.extent,a);g&&(y=$r(y,Ye(i.extent,a)));var m=f.getTilePixelRatio(h),b=Math.round(t.size[0]*m),w=Math.round(t.size[1]*m);if(u){var x=Math.round(Math.sqrt(b*b+w*w));b=x,w=x}var T=v*b/2/m,E=v*w/2/m,M=[l[0]-T,l[1]-E,l[0]+T,l[1]+E],S=p.getTileRangeForExtentAndZ(y,_),A={};A[_]={};var N=this.createLoadedTileFinder(f,a,A),L=this.tmpExtent,B=this.tmpTileRange_;this.newTiles_=!1;for(var P=S.minX;P<=S.maxX;++P)for(var D=S.minY;D<=S.maxY;++D){var k=this.getTile(_,P,D,t);if(this.isDrawableTile(k)){var q=et(this);if(k.getState()==$.LOADED){A[_][k.tileCoord.toString()]=k;var Y=k.inTransition(q);!this.newTiles_&&(Y||this.renderedTiles.indexOf(k)===-1)&&(this.newTiles_=!0)}if(k.getAlpha(q,t.time)===1)continue}var K=p.getTileCoordChildTileRange(k.tileCoord,B,L),lt=!1;K&&(lt=N(_+1,K)),lt||p.forEachTileCoordParentTileRange(k.tileCoord,N,B,L)}var C=v/s;ye(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/m,1/m,u,-b/2,-w/2);var ct=cc(this.pixelTransform);this.useContainer(n,ct,i.opacity,this.getBackground(t));var F=this.context,ft=F.canvas;Qs(this.inversePixelTransform,this.pixelTransform),ye(this.tempTransform,b/2,w/2,C,C,0,-b/2,-w/2),ft.width!=b||ft.height!=w?(ft.width=b,ft.height=w):this.containerReused||F.clearRect(0,0,b,w),g&&this.clipUnrotated(F,t,g),f.getInterpolate()||ut(F,As),this.preRender(F,t),this.renderedTiles.length=0;var St=Object.keys(A).map(Number);St.sort(Rn);var It,J,j;i.opacity===1&&(!this.containerReused||f.getOpaque(t.viewState.projection))?St=St.reverse():(It=[],J=[]);for(var Pt=St.length-1;Pt>=0;--Pt){var Ut=St[Pt],wr=f.getTilePixelSize(Ut,h,a),xr=p.getResolution(Ut),oe=xr/v,De=wr[0]*oe*C,co=wr[1]*oe*C,Wn=p.getTileCoordForCoordAndZ(Xr(M),Ut),fo=p.getTileCoordExtent(Wn),Er=wt(this.tempTransform,[m*(fo[0]-M[0])/v,m*(M[3]-fo[3])/v]),Vn=m*f.getGutterForProjection(a),po=A[Ut];for(var Kr in po){var k=po[Kr],qe=k.tileCoord,Zr=Wn[1]-qe[1],nl=Math.round(Er[0]-(Zr-1)*De),_o=Wn[2]-qe[2],qn=Math.round(Er[1]-(_o-1)*co),P=Math.round(Er[0]-Zr*De),D=Math.round(Er[1]-_o*co),Le=nl-P,ge=qn-D,Tr=_===Ut,Y=Tr&&k.getAlpha(et(this),t.time)!==1,Xn=!1;if(!Y)if(It){j=[P,D,P+Le,D,P+Le,D+ge,P,D+ge];for(var Wt=0,vo=It.length;Wt<vo;++Wt)if(_!==Ut&&Ut<J[Wt]){var Nt=It[Wt];jt([P,D,P+Le,D+ge],[Nt[0],Nt[3],Nt[4],Nt[7]])&&(Xn||(F.save(),Xn=!0),F.beginPath(),F.moveTo(j[0],j[1]),F.lineTo(j[2],j[3]),F.lineTo(j[4],j[5]),F.lineTo(j[6],j[7]),F.moveTo(Nt[6],Nt[7]),F.lineTo(Nt[4],Nt[5]),F.lineTo(Nt[2],Nt[3]),F.lineTo(Nt[0],Nt[1]),F.clip())}It.push(j),J.push(Ut)}else F.clearRect(P,D,Le,ge);this.drawTileImage(k,t,P,D,Le,ge,Vn,Tr),It&&!Y?(Xn&&F.restore(),this.renderedTiles.unshift(k)):this.renderedTiles.push(k),this.updateUsedTiles(t.usedTiles,f,k)}}this.renderedRevision=d,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Ln(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=h,this.renderedProjection=a,this.manageTilePyramid(t,f,p,h,a,y,_,c.getPreload()),this.scheduleExpireCache(t,f),this.postRender(F,t),i.extent&&F.restore(),ut(F,jg),ct!==ft.style.transform&&(ft.style.transform=ct);var Qr=qv(i.opacity),Cr=this.container;return Qr!==Cr.style.opacity&&(Cr.style.opacity=Qr),this.container},e.prototype.drawTileImage=function(t,n,i,o,a,s,l,u){var h=this.getTileImage(t);if(h){var c=et(this),f=u?t.getAlpha(c,n.time):1,d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,i,o,a,s),d&&this.context.restore(),f!==1?n.animate=!0:u&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,n){if(n.canExpireCache()){var i=function(o,a,s){var l=et(o);l in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,n);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,n,i){var o=et(n);o in t||(t[o]={}),t[o][i.getKey()]=!0},e.prototype.manageTilePyramid=function(t,n,i,o,a,s,l,u,h){var c=et(n);c in t.wantedTiles||(t.wantedTiles[c]={});var f=t.wantedTiles[c],d=t.tileQueue,p=i.getMinZoom(),_=0,v,y,g,m,b,w;for(w=p;w<=l;++w)for(y=i.getTileRangeForExtentAndZ(s,w,y),g=i.getResolution(w),m=y.minX;m<=y.maxX;++m)for(b=y.minY;b<=y.maxY;++b)l-w<=u?(++_,v=n.getTile(w,m,b,o,a),v.getState()==$.IDLE&&(f[v.getKey()]=!0,d.isKeyQueued(v.getKey())||d.enqueue([v,c,i.getTileCoordCenter(v.tileCoord),g])),h!==void 0&&h(v)):n.useTile(w,m,b,a);n.updateCacheSize(_,a)},e}(mc);const IL=SL;var RL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AL=function(r){RL(e,r);function e(t){return r.call(this,t)||this}return e.prototype.createRenderer=function(){return new IL(this)},e}(vL);const DL=AL;/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function Ds(r){return[r.x,r.y]}function LL(r){return[r.width,r.height]}function Qg(r,e,t){if(!(e.length!==r.getLength()||r.getArray().some((o,a)=>o.id!==e[a])))return;const i=e.map(o=>t.lookup.get(o)).filter(o=>!!o);r.clear(),i.forEach(o=>r.push(o))}function Ve(r){const e={...r};return Object.keys(r).forEach(t=>{r[t]===null&&delete e[t]}),e}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function Ac(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/layer/Layer");return r.setOpacity(e.opacity),r.setVisible(e.visible),r.setZIndex(e.zIndex||void 0),r.setMinZoom(e.minZoom||-1/0),r.setMaxZoom(e.maxZoom||1/0),r.setBackground(e.background||void 0),r}function NL(r,e,t){return r||(r=new DL(Ve({...e,source:t.lookup.get(e.source)}))),Ac(r,e),r.setSource(t.lookup.get(e.source)),r}function kL(r,e,t){return r||(r=new mC(Ve({...e,source:t.lookup.get(e.source)}))),Ac(r,e),r.setSource(t.lookup.get(e.source)),r}function FL(r,e,t){return r||(r=new dL(Ve({...e,source:t.lookup.get(e.source)}))),Ac(r,e),r.setSource(t.lookup.get(e.source)),r}var cr="1.3.0",$L=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zL=function(r){$L(e,r);function e(t,n,i,o,a,s,l){var u=this,h=t.getExtent(),c=n.getExtent(),f=c?$r(i,c):i,d=vr(f),p=Vi(t,n,d,o),_=Yg,v=new Vg(t,n,f,h,p*_,o),y=v.calculateSourceExtent(),g=s(y,p,a),m=g?W.IDLE:W.EMPTY,b=g?g.getPixelRatio():1;return u=r.call(this,i,o,b,m)||this,u.targetProj_=n,u.maxSourceExtent_=h,u.triangulation_=v,u.targetResolution_=o,u.targetExtent_=i,u.sourceImage_=g,u.sourcePixelRatio_=b,u.interpolate_=l,u.canvas_=null,u.sourceListenerKey_=null,u}return e.prototype.disposeInternal=function(){this.state==W.LOADING&&this.unlistenSource_(),r.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==W.LOADED){var n=st(this.targetExtent_)/this.targetResolution_,i=Bt(this.targetExtent_)/this.targetResolution_;this.canvas_=qg(n,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==W.IDLE){this.state=W.LOADING,this.changed();var t=this.sourceImage_.getState();t==W.LOADED||t==W.ERROR?this.reproject_():(this.sourceListenerKey_=Z(this.sourceImage_,G.CHANGE,function(n){var i=this.sourceImage_.getState();(i==W.LOADED||i==W.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){pt(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(jy);const BL=zL;var Jg=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fl={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},GL=function(r){Jg(e,r);function e(t,n){var i=r.call(this,t)||this;return i.image=n,i}return e}(Re),UL=function(r){Jg(e,r);function e(t){var n=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),n=r.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this,n.on,n.once,n.un,n.resolutions_=t.resolutions!==void 0?t.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var n=Gs(this.resolutions_,t,0);t=this.resolutions_[n]}return t},e.prototype.getImage=function(t,n,i,o){var a=this.getProjection();if(!a||!o||or(a,o))return a&&(o=a),this.getImageInternal(t,n,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&or(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==n&&Ln(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new BL(a,o,t,n,i,function(s,l,u){return this.getImageInternal(s,l,u,a)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},e.prototype.getImageInternal=function(t,n,i,o){return X()},e.prototype.handleImageChange=function(t){var n=t.target,i;switch(n.getState()){case W.LOADING:this.loading=!0,i=Fl.IMAGELOADSTART;break;case W.LOADED:this.loading=!1,i=Fl.IMAGELOADEND;break;case W.ERROR:this.loading=!1,i=Fl.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new GL(i,n))},e}(wc);function YL(r,e){r.getImage().src=e}const jL=UL,fr={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};function Ls(r,e){var t=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&t.push(i+"="+encodeURIComponent(e[i]))});var n=t.join("&");return r=r.replace(/[?&]$/,""),r=r.indexOf("?")===-1?r+"?":r+"&",r+n}var HL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tr=4,f_=[101,101],WL=function(r){HL(e,r);function e(t){var n=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;return i.interpolate!==void 0&&(o=i.interpolate),n=r.call(this,{attributions:i.attributions,interpolate:o,projection:i.projection,resolutions:i.resolutions})||this,n.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,n.url_=i.url,n.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:YL,n.params_=i.params||{},n.v13_=!0,n.updateV13_(),n.serverType_=i.serverType,n.hidpi_=i.hidpi!==void 0?i.hidpi:!0,n.image_=null,n.imageSize_=[0,0],n.renderedRevision_=0,n.ratio_=i.ratio!==void 0?i.ratio:1.5,n}return e.prototype.getFeatureInfoUrl=function(t,n,i,o){if(this.url_!==void 0){var a=Ct(i),s=this.getProjection();s&&s!==a&&(n=Vi(s,a,t,n),t=to(t,a,s));var l=Tn(t,n,0,f_),u={SERVICE:"WMS",VERSION:cr,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ut(u,this.params_,o);var h=hn((t[0]-l[0])/n,tr),c=hn((l[3]-t[1])/n,tr);return u[this.v13_?"I":"X"]=h,u[this.v13_?"J":"Y"]=c,this.getRequestUrl_(l,f_,1,s||a,u)}},e.prototype.getLegendUrl=function(t,n){if(this.url_!==void 0){var i={SERVICE:"WMS",VERSION:cr,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;i.SCALE=t*s/l}return ut(i,n),Ls(this.url_,i)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,n,i,o){if(this.url_===void 0)return null;n=this.findNearestResolution(n),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var a=n/i,s=vr(t),l=lr(st(t)/a,tr),u=lr(Bt(t)/a,tr),h=Tn(s,a,0,[l,u]),c=lr(this.ratio_*st(t)/a,tr),f=lr(this.ratio_*Bt(t)/a,tr),d=Tn(s,a,0,[c,f]),p=this.image_;if(p&&this.renderedRevision_==this.getRevision()&&p.getResolution()==n&&p.getPixelRatio()==i&&ur(p.getExtent(),h))return p;var _={SERVICE:"WMS",VERSION:cr,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ut(_,this.params_),this.imageSize_[0]=Nf(st(d)/a,tr),this.imageSize_[1]=Nf(Bt(d)/a,tr);var v=this.getRequestUrl_(d,this.imageSize_,i,o,_);return this.image_=new q2(d,n,i,v,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(G.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,n,i,o,a){if(V(this.url_!==void 0,9),a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),i!=1)switch(this.serverType_){case fr.GEOSERVER:var s=90*i+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+s:a.FORMAT_OPTIONS="dpi:"+s;break;case fr.MAPSERVER:a.MAP_RESOLUTION=90*i;break;case fr.CARMENTA_SERVER:case fr.QGIS:a.DPI=90*i;break;default:V(!1,8);break}a.WIDTH=n[0],a.HEIGHT=n[1];var l=o.getAxisOrientation(),u;return this.v13_&&l.substr(0,2)=="ne"?u=[t[1],t[0],t[3],t[2]]:u=t,a.BBOX=u.join(","),Ls(this.url_,a)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){ut(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||cr;this.v13_=oy(t,"1.3")>=0},e}(jL);const VL=WL;var qL=function(){function r(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return r.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},r.prototype.expireCache=function(e){for(;this.canExpireCache();)this.pop()},r.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},r.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},r.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},r.prototype.get=function(e,t){var n=this.entries_[e];return V(n!==void 0,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},r.prototype.remove=function(e){var t=this.entries_[e];return V(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},r.prototype.getCount=function(){return this.count_},r.prototype.getKeys=function(){var e=new Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.key_;return e},r.prototype.getValues=function(){var e=new Array(this.count_),t=0,n;for(n=this.newest_;n;n=n.older)e[t++]=n.value_;return e},r.prototype.peekLast=function(){return this.oldest_.value_},r.prototype.peekLastKey=function(){return this.oldest_.key_},r.prototype.peekFirstKey=function(){return this.newest_.key_},r.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},r.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},r.prototype.set=function(e,t){V(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_},r.prototype.setSize=function(e){this.highWaterMark=e},r}();const XL=qL;function d_(r,e,t,n){return n!==void 0?(n[0]=r,n[1]=e,n[2]=t,n):[r,e,t]}function rl(r,e,t){return r+"/"+e+"/"+t}function tm(r){return rl(r[0],r[1],r[2])}function KL(r){return r.split("/").map(Number)}function em(r){return(r[1]<<r[0])+r[2]}function ZL(r,e){var t=r[0],n=r[1],i=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;var o=e.getFullTileRange(t);return o?o.containsXY(n,i):!0}var QL=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JL=function(r){QL(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.expireCache=function(t){for(;this.canExpireCache();){var n=this.peekLast();if(n.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),n=KL(t),i=n[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(tm(o.tileCoord)),o.release())}.bind(this))}},e}(XL);const rm=JL,$l={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var t4=[0,0,0],er=5,e4=function(){function r(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,V(ew(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!e.origins){for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(!t)t=this.resolutions_[n]/this.resolutions_[n+1];else if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,V(this.origins_.length==this.resolutions_.length,20));var o=e.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Xr(o)),V(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,V(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:fc,V(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(a,s){var l=new Zg(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var u=this.getTileRangeForExtentAndZ(o,s);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return r.prototype.forEachTileCoord=function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,l=i.maxY;s<=l;++s)n([t,o,s])},r.prototype.forEachTileCoordParentTileRange=function(e,t,n,i){var o,a,s,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],s=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=on(a,a,s,s,n)):o=this.getTileRangeForExtentAndZ(l,u,n),t(u,o))return!0;--u}return!1},r.prototype.getExtent=function(){return this.extent_},r.prototype.getMaxZoom=function(){return this.maxZoom},r.prototype.getMinZoom=function(){return this.minZoom},r.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},r.prototype.getResolution=function(e){return this.resolutions_[e]},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getTileCoordChildTileRange=function(e,t,n){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var i=e[1]*2,o=e[2]*2;return on(i,i+1,o,o+1,t)}var a=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},r.prototype.getTileRangeForTileCoordAndZ=function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],o=e[1],a=e[2];if(t===i)return on(o,a,o,a,n);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-i),l=Math.floor(o*s),u=Math.floor(a*s);if(t<i)return on(l,l,u,u,n);var h=Math.floor(s*(o+1))-1,c=Math.floor(s*(a+1))-1;return on(l,h,u,c,n)}var f=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(f,t,n)},r.prototype.getTileRangeExtent=function(e,t,n){var i=this.getOrigin(e),o=this.getResolution(e),a=ee(this.getTileSize(e),this.tmpSize_),s=i[0]+t.minX*a[0]*o,l=i[0]+(t.maxX+1)*a[0]*o,u=i[1]+t.minY*a[1]*o,h=i[1]+(t.maxY+1)*a[1]*o;return Pe(s,u,l,h,n)},r.prototype.getTileRangeForExtentAndZ=function(e,t,n){var i=t4;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,i),on(o,i[1],a,i[2],n)},r.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=ee(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]},r.prototype.getTileCoordExtent=function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=ee(this.getTileSize(e[0]),this.tmpSize_),a=n[0]+e[1]*o[0]*i,s=n[1]-(e[2]+1)*o[1]*i,l=a+o[0]*i,u=s+o[1]*i;return Pe(a,s,l,u,t)},r.prototype.getTileCoordForCoordAndResolution=function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)},r.prototype.getTileCoordForXYAndResolution_=function(e,t,n,i,o){var a=this.getZForResolution(n),s=n/this.getResolution(a),l=this.getOrigin(a),u=ee(this.getTileSize(a),this.tmpSize_),h=s*(e-l[0])/n/u[0],c=s*(l[1]-t)/n/u[1];return i?(h=lr(h,er)-1,c=lr(c,er)-1):(h=hn(h,er),c=hn(c,er)),d_(a,h,c,o)},r.prototype.getTileCoordForXYAndZ_=function(e,t,n,i,o){var a=this.getOrigin(n),s=this.getResolution(n),l=ee(this.getTileSize(n),this.tmpSize_),u=(e-a[0])/s/l[0],h=(a[1]-t)/s/l[1];return i?(u=lr(u,er)-1,h=lr(h,er)-1):(u=hn(u,er),h=hn(h,er)),d_(n,u,h,o)},r.prototype.getTileCoordForCoordAndZ=function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)},r.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},r.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},r.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null},r.prototype.getZForResolution=function(e,t){var n=Gs(this.resolutions_,e,t||0);return mt(n,this.minZoom,this.maxZoom)},r.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n},r}();const nm=e4;function im(r){var e=r.getDefaultTileGrid();return e||(e=o4(r),r.setDefaultTileGrid(e)),e}function r4(r,e,t){var n=e[0],i=r.getTileCoordCenter(e),o=Dc(t);if(Yn(o,i))return e;var a=st(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,r.getTileCoordForCoordAndZ(i,n)}function n4(r,e,t,n){var i=n!==void 0?n:yi.TOP_LEFT,o=om(r,e,t);return new nm({extent:r,origin:rx(r,i),resolutions:o,tileSize:t})}function i4(r){var e=r||{},t=e.extent||Ct("EPSG:3857").getExtent(),n={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:om(t,e.maxZoom,e.tileSize,e.maxResolution)};return new nm(n)}function om(r,e,t,n){for(var i=e!==void 0?e:eE,o=Bt(r),a=st(r),s=ee(t!==void 0?t:fc),l=n>0?n:Math.max(a/s[0],o/s[1]),u=i+1,h=new Array(u),c=0;c<u;++c)h[c]=l/Math.pow(2,c);return h}function o4(r,e,t,n){var i=Dc(r);return n4(i,e,t,n)}function Dc(r){r=Ct(r);var e=r.getExtent();if(!e){var t=180*he[je.DEGREES]/r.getMetersPerUnit();e=Pe(-t,-t,t,t)}return e}var am=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a4=function(r){am(e,r);function e(t){var n=r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;n.on,n.once,n.un,n.opaque_=t.opaque!==void 0?t.opaque:!1,n.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,n.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256];return n.tileGrid&&ee(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),i),n.tileCache=new rm(t.cacheSize||0),n.tmpSize=[0,0],n.key_=t.key||"",n.tileOptions={transition:t.transition,interpolate:t.interpolate},n.zDirection=t.zDirection?t.zDirection:0,n}return e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,n){var i=this.getTileCacheForProjection(t);i&&i.expireCache(n)},e.prototype.forEachLoadedTile=function(t,n,i,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,l,u,h,c=i.minX;c<=i.maxX;++c)for(var f=i.minY;f<=i.maxY;++f)u=rl(n,c,f),h=!1,a.containsKey(u)&&(l=a.get(u),h=l.getState()===$.LOADED,h&&(h=o(l)!==!1)),h||(s=!1);return s},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,n,i,o,a){return X()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:im(t)},e.prototype.getTileCacheForProjection=function(t){return V(or(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,n,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(n),s=ee(o.getTileSize(t),this.tmpSize);return a==1?s:Py(s,a,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,n){var i=n!==void 0?n:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=r4(o,t,i)),ZL(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),r.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,n){var i=this.getTileCacheForProjection(n);t>i.highWaterMark&&(i.highWaterMark=t)},e.prototype.useTile=function(t,n,i,o){},e}(wc),s4=function(r){am(e,r);function e(t,n){var i=r.call(this,t)||this;return i.tile=n,i}return e}(Re);const l4=a4;function u4(r,e){var t=/\{z\}/g,n=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return r.replace(t,a[0].toString()).replace(n,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var u=a[0],h=e.getFullTileRange(u);V(h,55);var c=h.getHeight()-a[2]-1;return c.toString()})}}function h4(r,e){for(var t=r.length,n=new Array(t),i=0;i<t;++i)n[i]=u4(r[i],e);return c4(n)}function c4(r){return r.length===1?r[0]:function(e,t,n){if(e){var i=em(e),o=Fr(i,r.length);return r[o](e,t,n)}else return}}function f4(r){var e=[],t=/\{([a-z])-([a-z])\}/.exec(r);if(t){var n=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)e.push(r.replace(t[0],s.toString()));return e}return e.push(r),e}var d4=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p4=function(r){d4(e,r);function e(t){var n=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return n.generateTileUrlFunction_=n.tileUrlFunction===e.prototype.tileUrlFunction,n.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(n.tileUrlFunction=t.tileUrlFunction),n.urls=null,t.urls?n.setUrls(t.urls):t.url&&n.setUrl(t.url),n.tileLoadingKeys_={},n}return e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var n=t.target,i=et(n),o=n.getState(),a;o==$.LOADING?(this.tileLoadingKeys_[i]=!0,a=$l.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==$.ERROR?$l.TILELOADERROR:o==$.LOADED?$l.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new s4(a,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()},e.prototype.setUrl=function(t){var n=f4(t);this.urls=n,this.setUrls(n)},e.prototype.setUrls=function(t){this.urls=t;var n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(h4(t,this.tileGrid),n):this.setKey(n)},e.prototype.tileUrlFunction=function(t,n,i){},e.prototype.useTile=function(t,n,i){var o=rl(t,n,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(l4);const _4=p4;var v4=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y4=function(r){v4(e,r);function e(t){var n=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),n=r.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:g4,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,n.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,n.tileClass=t.tileClass!==void 0?t.tileClass:Wg,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,n){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?n:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!or(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var t=r.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},e.prototype.getOpaque=function(t){return this.getProjection()&&t&&!or(this.getProjection(),t)?!1:r.prototype.getOpaque.call(this,t)},e.prototype.getTileGridForProjection=function(t){var n=this.getProjection();if(this.tileGrid&&(!n||or(n,t)))return this.tileGrid;var i=et(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=im(t)),this.tileGridForProjection[i]},e.prototype.getTileCacheForProjection=function(t){var n=this.getProjection();if(!n||or(n,t))return this.tileCache;var i=et(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new rm(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,n,i,o,a,s){var l=[t,n,i],u=this.getTileCoordForTileUrlFunction(l,a),h=u?this.tileUrlFunction(u,o,a):void 0,c=new this.tileClass(l,h!==void 0?$.IDLE:$.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener(G.CHANGE,this.handleTileChange.bind(this)),c},e.prototype.getTile=function(t,n,i,o,a){var s=this.getProjection();if(!s||!a||or(s,a))return this.getTileInternal(t,n,i,o,s||a);var l=this.getTileCacheForProjection(a),u=[t,n,i],h=void 0,c=tm(u);l.containsKey(c)&&(h=l.get(c));var f=this.getKey();if(h&&h.key==f)return h;var d=this.getTileGridForProjection(s),p=this.getTileGridForProjection(a),_=this.getTileCoordForTileUrlFunction(u,a),v=new Xg(s,d,a,p,u,_,this.getTilePixelRatio(o),this.getGutter(),function(y,g,m,b){return this.getTileInternal(y,g,m,b,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=f,h?(v.interimTile=h,v.refreshInterimChain(),l.replace(c,v)):l.set(c,v),v},e.prototype.getTileInternal=function(t,n,i,o,a){var s=null,l=rl(t,n,i),u=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(t,n,i,o,a,u),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=u){var h=s;s=this.createTile_(t,n,i,o,a,u),h.getState()==$.IDLE?s.interimTile=h.interimTile:s.interimTile=h,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,n){{var i=Ct(t);if(i){var o=et(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=n)}}},e}(_4);function g4(r,e){r.getImage().src=e}const sm=y4;var m4=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b4=function(r){m4(e,r);function e(t){var n=t||{},i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(i=n.interpolate);var o=n.projection!==void 0?n.projection:"EPSG:3857",a=n.tileGrid!==void 0?n.tileGrid:i4({extent:Dc(o),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return r.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:i,opaque:n.opaque,projection:o,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:n.wrapX!==void 0?n.wrapX:!0,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return e}(sm);const lm=b4;var w4=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),um='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',x4=function(r){w4(e,r);function e(t){var n=t||{},i=n.imageSmoothing!==void 0?n.imageSmoothing:!0;n.interpolate!==void 0&&(i=n.interpolate);var o;n.attributions!==void 0?o=n.attributions:o=[um];var a=n.crossOrigin!==void 0?n.crossOrigin:"anonymous",s=n.url!==void 0?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:a,interpolate:i,maxZoom:n.maxZoom!==void 0?n.maxZoom:19,opaque:n.opaque!==void 0?n.opaque:!0,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:s,wrapX:n.wrapX,zDirection:n.zDirection})||this}return e}(lm);const E4=x4;var T4=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),C4=function(r){T4(e,r);function e(t){var n=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.params||{},s="TRANSPARENT"in a?a.TRANSPARENT:!0;return n=r.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:!s,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,zDirection:i.zDirection})||this,n.gutter_=i.gutter!==void 0?i.gutter:0,n.params_=a,n.v13_=!0,n.serverType_=i.serverType,n.hidpi_=i.hidpi!==void 0?i.hidpi:!0,n.tmpExtent_=ce(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return e.prototype.getFeatureInfoUrl=function(t,n,i,o){var a=Ct(i),s=this.getProjection(),l=this.getTileGrid();l||(l=this.getTileGridForProjection(a));var u=l.getZForResolution(n,this.zDirection),h=l.getTileCoordForCoordAndZ(t,u);if(!(l.getResolutions().length<=h[0])){var c=l.getResolution(h[0]),f=l.getTileCoordExtent(h,this.tmpExtent_),d=ee(l.getTileSize(h[0]),this.tmpSize),p=this.gutter_;p!==0&&(d=od(d,p,this.tmpSize),f=ki(f,c*p,f)),s&&s!==a&&(c=Vi(s,a,t,c),f=hc(f,a,s),t=to(t,a,s));var _={SERVICE:"WMS",VERSION:cr,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ut(_,this.params_,o);var v=Math.floor((t[0]-f[0])/c),y=Math.floor((f[3]-t[1])/c);return _[this.v13_?"I":"X"]=v,_[this.v13_?"J":"Y"]=y,this.getRequestUrl_(h,d,f,1,s||a,_)}},e.prototype.getLegendUrl=function(t,n){if(this.urls[0]!==void 0){var i={SERVICE:"WMS",VERSION:cr,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,l=28e-5;i.SCALE=t*s/l}return ut(i,n),Ls(this.urls[0],i)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,n,i,o,a,s){var l=this.urls;if(l){if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),o!=1)switch(this.serverType_){case fr.GEOSERVER:var u=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+u:s.FORMAT_OPTIONS="dpi:"+u;break;case fr.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case fr.CARMENTA_SERVER:case fr.QGIS:s.DPI=90*o;break;default:V(!1,52);break}var h=a.getAxisOrientation(),c=i;if(this.v13_&&h.substr(0,2)=="ne"){var f=void 0;f=i[0],c[0]=i[1],c[1]=f,f=i[2],c[2]=i[3],c[3]=f}s.BBOX=c.join(",");var d;if(l.length==1)d=l[0];else{var p=Fr(em(t),l.length);d=l[p]}return Ls(d,s)}},e.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},e.prototype.getKeyForParams_=function(){var t=0,n=[];for(var i in this.params_)n[t++]=i+"-"+this.params_[i];return n.join("/")},e.prototype.updateParams=function(t){ut(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||cr;this.v13_=oy(t,"1.3")>=0},e.prototype.tileUrlFunction=function(t,n,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);var a=o.getResolution(t[0]),s=o.getTileCoordExtent(t,this.tmpExtent_),l=ee(o.getTileSize(t[0]),this.tmpSize),u=this.gutter_;u!==0&&(l=od(l,u,this.tmpSize),s=ki(s,a*u,s)),n!=1&&(l=Py(l,n,this.tmpSize));var h={SERVICE:"WMS",VERSION:cr,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return ut(h,this.params_),this.getRequestUrl_(t,l,s,n,i,h)}},e}(sm);const O4=C4;/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function Lc(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/source/Source");return r.setAttributions(e.attributions),r}function M4(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/source/Tile");return Lc(r,e),r}function P4(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/source/UrlTile");return M4(r,e),e.url&&r.setUrl(e.url),r}function hm(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/source/TileImage");return P4(r,e),r}function S4(r,e,t){return r||(r=new O4(Ve(e))),hm(r,e),r}function cm(r,e,t){return r||(r=new lm(Ve(e))),hm(r,e),r}function I4(r,e,t){return r||(r=new E4(Ve(e))),e.attributions||(e.attributions=um),cm(r,e),r}function R4(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/source/Image");return Lc(r,e),r}function A4(r,e,t){return r||(r=new VL(Ve(e))),R4(r,e),e.url&&r.setUrl(e.url),r}function D4(r,e,t){return r||(r=new Xy(Ve({...e,features:new re}))),Lc(r,e),Qg(r.getFeaturesCollection(),e.features,t),r}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function L4(r,e,t){return r||(r=new By),r.setColor(e.color),t.connector.forceRender(),r}function N4(r,e,t){return r||(r=new Gy),r.setColor(e.color),r.setWidth(e.width),t.connector.forceRender(),r}function k4(r,e,t){if(!r)throw new Error("Can not instantiate base class: ol/style/Image");return r.setOpacity(e.opacity),r.setRotateWithView(e.rotateWithView),r.setRotation(e.rotation),r.setScale(e.scale),r}function F4(r){return r.toLowerCase().replace(/_/,"-")}function $4(r,e,t){if(!r){const n=e.img||e.src;r=new Hy(Ve({...e,img:void 0,src:n,imgSize:e.imgSize?LL(e.imgSize):void 0,anchor:e.anchor?Ds(e.anchor):void 0,anchorOrigin:e.anchorOrigin?F4(e.anchorOrigin):void 0}))}return k4(r,e),t.connector.forceRender(),r}function z4(r,e,t){return r||(r=new a2),r.setImage(e.image?t.lookup.get(e.image):void 0),r.setFill(e.fill?t.lookup.get(e.fill):void 0),r.setStroke(e.stroke?t.lookup.get(e.stroke):void 0),t.connector.forceRender(),r}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */function B4(r,e,t){if(!r)throw new Error("Existing map instance must be provided");return Qg(r.getLayers(),e.layers,t),r.setView(t.lookup.get(e.view)),r}function G4(r,e,t){return r||(r=new ar({projection:e.projection})),r.setCenter(e.center?Ds(e.center):[0,0]),r.setRotation(e.rotation||0),r.setZoom(e.zoom||0),r}function U4(r,e,t){return r||(r=new Ey(Ds(e.coordinates))),r.setCoordinates(Ds(e.coordinates)),r}function Y4(r,e,t){return r||(r=new BT),r.setGeometry(t.lookup.get(e.geometry)),r.setStyle(t.lookup.get(e.style)),r}const j4={"ol/Feature":Y4,"ol/Map":B4,"ol/View":G4,"ol/layer/Image":FL,"ol/layer/Tile":NL,"ol/layer/Vector":kL,"ol/source/ImageWMS":A4,"ol/source/OSM":I4,"ol/source/TileWMS":S4,"ol/source/Vector":D4,"ol/source/XYZ":cm,"ol/geom/Point":U4,"ol/style/Icon":$4,"ol/style/Fill":L4,"ol/style/Stroke":N4,"ol/style/Style":z4};function p_(r,e){const t=r.type;if(!t)throw new Error("Configuration object must have a type");if(!r.id)throw new Error("Configuration object must have an ID");let n=e.lookup.get(r.id);const i=j4[t];if(!i)throw new Error(`Unsupported configuration object type: ${t}`);return n=i(n,r,e),e.lookup.put(r.id,n),n.id=r.id,n.typeName=t,n}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */class H4{constructor(){this.map=new Map}get(e){return this.map.get(e)}put(e,t){this.map.set(e,t)}}class W4{constructor(){this.map=new Map,this.registry=new FinalizationRegistry(e=>{this.map.delete(e)})}get(e){const t=this.map.get(e);return t?t.deref():void 0}put(e,t){if(this.map.has(e))return;const n=new WeakRef(t);this.map.set(e,n),this.registry.register(t,e)}}const V4=window.WeakRef&&window.FinalizationRegistry;function q4(){return V4?new W4:new H4}function X4(r,e){return r.find(t=>{const n=t.getSource&&t.getSource();return n&&n instanceof Xy&&n.getFeatures().includes(e)})}/**
 * @license
 * Copyright 2000-2023 Vaadin Ltd.
 *
 * This program is available under Vaadin Commercial License and Service Terms.
 *
 * See <https://vaadin.com/commercial-license-and-service-terms> for the full
 * license.
 */hy("EPSG:4326");(function(){function r(n){n.$connector={lookup:q4(),synchronize(i){const o={synchronize:p_,lookup:this.lookup,mapElement:n,connector:n.$connector};i.forEach(a=>{a.type==="ol/Map"&&this.lookup.put(a.id,n.configuration),p_(a,o)})},forceRender(){this._forceRenderTimeout||(this._forceRenderTimeout=setTimeout(()=>{this._forceRenderTimeout=null,n.configuration.getLayers().getArray().forEach(i=>i.changed())}))}},n.configuration.on("moveend",i=>{const o=n.configuration.getView(),a=o.getCenter(),s=o.getRotation(),l=o.getZoom(),u=o.calculateExtent(),h=new CustomEvent("map-view-moveend",{detail:{center:a,rotation:s,zoom:l,extent:u}});n.dispatchEvent(h)}),n.configuration.on("singleclick",i=>{const o=i.coordinate,a=i.pixel,l=n.configuration.getFeaturesAtPixel(a).map(h=>{const c=X4(n.configuration.getLayers().getArray(),h);return{feature:h,layer:c}}),u=new CustomEvent("map-click",{detail:{coordinate:o,features:l,originalEvent:i.originalEvent}});if(n.dispatchEvent(u),l.length>0){const h=l[0],c=new CustomEvent("map-feature-click",{detail:{feature:h.feature,layer:h.layer,originalEvent:i.originalEvent}});n.dispatchEvent(c)}})}function e(n){hy(n)}function t(n,i){Qt.defs(n,i),OI(Qt)}window.Vaadin.Flow.mapConnector={init:r,setUserProjection:e,defineProjection:t}})();const fm=function(r,e=!1){const t=document.createElement("template");t.innerHTML=r,document.head[e?"insertBefore":"appendChild"](t.content,document.head.firstChild)},K4=typeof ll=="string"?y_(ll):ll;fm(`<style>${K4}</style>`);let ho;const __=document.getElementsByTagName("script");for(let r=0;r<__.length;r++){const e=__[r];if(e.getAttribute("type")=="module"&&e.getAttribute("data-app-id")&&!e["vaadin-bundle"]){ho=e;break}}if(!ho)throw new Error("Could not find the bundle script to identify the application id");ho["vaadin-bundle"]=!0;window.Vaadin.Flow.fallbacks||(window.Vaadin.Flow.fallbacks={});const dm=window.Vaadin.Flow.fallbacks;dm[ho.getAttribute("data-app-id")]={};dm[ho.getAttribute("data-app-id")].loadFallback=function(){return Pm(()=>import("./generated-flow-imports-fallback-2cbb147f.js"),["./generated-flow-imports-fallback-2cbb147f.js","./indexhtml-dcdf5f59.js"],import.meta.url)};const $N=Object.freeze(Object.defineProperty({__proto__:null,addCssBlock:fm},Symbol.toStringTag,{value:"Module"}));export{Zh as $,ib as A,Qm as B,mr as C,Gb as D,Ie as E,gn as F,J4 as G,lN as H,Lv as I,Ki as J,zs as K,zb as L,Bs as M,wv as N,Ov as O,Ft as P,be as Q,Zy as R,ec as S,Wh as T,Bv as U,sr as V,ks as W,Hm as X,Cv as Y,ub as Z,Bb as _,dv as a,Hh as a0,kv as a1,Xb as a2,Fv as a3,zv as a4,xv as a5,Xh as a6,La as a7,Av as a8,Xi as a9,vb as aA,ru as aB,Fh as aC,Ob as aD,Pb as aE,Pv as aF,jc as aG,kN as aH,NN as aI,nN as aJ,rN as aK,Od as aL,$N as aM,hN as aa,Jl as ab,NC as ac,qt as ad,Xc as ae,Ue as af,an as ag,Sf as ah,ob as ai,Vb as aj,qb as ak,gu as al,HC as am,FN as an,Tv as ao,sv as ap,gf as aq,UC as ar,Ed as as,DC as at,Na as au,Xm as av,a0 as aw,Ia as ax,Vr as ay,vt as az,Dv as b,Hb as c,Ot as d,$v as e,hv as f,Br as g,Dt as h,N1 as i,O1 as j,$s as k,M1 as l,rv as m,oN as n,P1 as o,ab as p,tN as q,cv as r,me as s,Aa as t,eN as u,nv as v,bv as w,Nh as x,Fm as y,Q4 as z};
